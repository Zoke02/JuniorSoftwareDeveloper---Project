/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Application)\n/* harmony export */ });\n/* harmony import */ var _components_navigation_bar_navigation_bar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/navigation-bar/navigation-bar */ \"./src/components/navigation-bar/navigation-bar.js\");\n/* harmony import */ var _components_footer_section_footer_section__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/footer-section/footer-section */ \"./src/components/footer-section/footer-section.js\");\n/* harmony import */ var _page_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./page-login */ \"./src/page-login.js\");\n/* harmony import */ var _page_home__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./page-home */ \"./src/page-home.js\");\n/* harmony import */ var _page_products__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./page-products */ \"./src/page-products.js\");\n/* harmony import */ var _page_product_detail__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./page-product-detail */ \"./src/page-product-detail.js\");\n/* harmony import */ var _page_category_detail__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./page-category-detail */ \"./src/page-category-detail.js\");\n/* harmony import */ var _page_shopcart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./page-shopcart */ \"./src/page-shopcart.js\");\n/* harmony import */ var _page_user_detail__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./page-user-detail */ \"./src/page-user-detail.js\");\n/* harmony import */ var _page_user_order_history__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./page-user-order-history */ \"./src/page-user-order-history.js\");\n/* harmony import */ var _page_users_management__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./page-users-management */ \"./src/page-users-management.js\");\n/* harmony import */ var _page_summary__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./page-summary */ \"./src/page-summary.js\");\n/* harmony import */ var _page_all_products__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./page-all-products */ \"./src/page-all-products.js\");\n/* harmony import */ var _page_individual_product__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./page-individual-product */ \"./src/page-individual-product.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Application {\r\n\t//=========================================================================================\r\n\t// Private Variables\r\n\t//=========================================================================================\r\n\r\n\t#header = null;\r\n\t#main = null;\r\n\t#footer = null;\r\n\t#apiUrl = 'http://localhost:5075';\r\n\t#user = null;\r\n\t#loggedIn = null;\r\n\t//-----------------------------------------------------------------------------------------\r\n\t//-----------------------------------------------------------------------------------------\r\n\r\n\t//=========================================================================================\r\n\t// Constructor\r\n\t//=========================================================================================\r\n\r\n\tconstructor() {\r\n\t\t// Main Elements of WebPage\r\n\t\tthis.#header = document.querySelector('header');\r\n\t\tthis.#main = document.querySelector('main');\r\n\t\tthis.#footer = document.querySelector('footer');\r\n\t\tthis.#loggedIn = document.cookie.includes('LoginToken');\r\n\t\t// DEV\r\n\r\n\t\tif ('serviceWorker' in navigator) {\r\n\t\t\twindow.addEventListener('load', () => {\r\n\t\t\t\tnavigator.serviceWorker\r\n\t\t\t\t\t.register('service-worker.js')\r\n\t\t\t\t\t.catch((err) => console.error('Service Worker error:'));\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//=========================================================================================\r\n\t\t// Event\r\n\t\t//=========================================================================================\r\n\t\t// Events to change content of page accoding to popstate.\r\n\t\twindow.addEventListener('hashchange', () => {\r\n\t\t\tthis.#navigate(location.hash);\r\n\t\t});\r\n\t\t//-----------------------------------------------------------------------------------------\r\n\t\t//-----------------------------------------------------------------------------------------\r\n\r\n\t\t//=========================================================================================\r\n\t\t// Init\r\n\t\t//=========================================================================================\r\n\r\n\t\t// If user loged in check if LoginToken cookie matches the one in databank.\r\n\t\tif (document.cookie && document.cookie.startsWith('LoginToken=')) {\r\n\t\t\tthis.apiGet(\r\n\t\t\t\t(r) => {\r\n\t\t\t\t\tthis.#user = r;\r\n\t\t\t\t\tthis.#navigate(location.hash);\r\n\t\t\t\t},\r\n\t\t\t\t(ex) => {\r\n\t\t\t\t\tconsole.error(ex); // for dev only\r\n\t\t\t\t\tthis.#navigate('#login');\r\n\t\t\t\t},\r\n\t\t\t\t'/page/init'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.#navigate(location.hash);\r\n\t\t}\r\n\r\n\t\t// Light/Dark Mode\r\n\t\tif (!localStorage.getItem('dreamPlantsTheme')) {\r\n\t\t\tlocalStorage.setItem('dreamPlantsTheme', 'light');\r\n\t\t}\r\n\t\tconst curentThemeStorage = localStorage.getItem('dreamPlantsTheme');\r\n\t\tif (curentThemeStorage) {\r\n\t\t\tdocument.documentElement.setAttribute(\r\n\t\t\t\t'data-bs-theme',\r\n\t\t\t\tcurentThemeStorage\r\n\t\t\t);\r\n\t\t}\r\n\t\t//-----------------------------------------------------------------------------------------\r\n\t\t//-----------------------------------------------------------------------------------------\r\n\t}\r\n\t//=========================================================================================\r\n\t// User Properties for later use.\r\n\t//=========================================================================================\r\n\r\n\tget user() {\r\n\t\treturn this.#user;\r\n\t}\r\n\r\n\tset user(v) {\r\n\t\tthis.#user = v;\r\n\t}\r\n\r\n\t//-----------------------------------------------------------------------------------------\r\n\t//-----------------------------------------------------------------------------------------\r\n\r\n\t//=========================================================================================\r\n\t// Private Methods\r\n\t//=========================================================================================\r\n\r\n\t#navigate(completeHash) {\r\n\t\tthis.#main.innerHTML = '';\r\n\r\n\t\tnew _components_navigation_bar_navigation_bar__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n\t\t\ttarget: this.#header,\r\n\t\t\tapp: this,\r\n\t\t});\r\n\r\n\t\tconst args = {\r\n\t\t\ttarget: this.#main,\r\n\t\t\tapp: this,\r\n\t\t};\r\n\r\n\t\tconst hashParts = completeHash.split('?');\r\n\t\tlet hash = completeHash;\r\n\t\tif (hashParts.length > 1) {\r\n\t\t\thash = hashParts[0];\r\n\t\t\tconst usp = new URLSearchParams(hashParts[1]);\r\n\t\t\tfor (const [key, value] of usp) args[key] = value;\r\n\t\t}\r\n\r\n\t\tswitch (hash) {\r\n\t\t\tcase '#home':\r\n\t\t\t\tnew _page_home__WEBPACK_IMPORTED_MODULE_3__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#shopcart':\r\n\t\t\t\tnew _page_shopcart__WEBPACK_IMPORTED_MODULE_7__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#product-detail':\r\n\t\t\t\tnew _page_product_detail__WEBPACK_IMPORTED_MODULE_5__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#individual-product':\r\n\t\t\t\tnew _page_individual_product__WEBPACK_IMPORTED_MODULE_13__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#login':\r\n\t\t\t\tif (document.cookie.includes('LoginToken')) new _page_home__WEBPACK_IMPORTED_MODULE_3__[\"default\"](args);\r\n\t\t\t\telse new _page_login__WEBPACK_IMPORTED_MODULE_2__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#user-profile':\r\n\t\t\t\tif (document.cookie.includes('LoginToken'))\r\n\t\t\t\t\tnew _page_user_detail__WEBPACK_IMPORTED_MODULE_8__[\"default\"](args);\r\n\t\t\t\telse window.open('#login', '_self');\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#user-order-history':\r\n\t\t\t\tif (document.cookie.includes('LoginToken')) {\r\n\t\t\t\t\tnew _page_user_order_history__WEBPACK_IMPORTED_MODULE_9__[\"default\"](args);\r\n\t\t\t\t} else window.open('#login', '_self');\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#users-management':\r\n\t\t\t\tif (this.#hasToken() && this.#hasRole([1, 2]))\r\n\t\t\t\t\tnew _page_users_management__WEBPACK_IMPORTED_MODULE_10__[\"default\"](args);\r\n\t\t\t\telse window.open('#login', '_self');\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#categories':\r\n\t\t\t\tif (this.#hasToken() && this.#hasRole([1, 2]))\r\n\t\t\t\t\tnew _page_category_detail__WEBPACK_IMPORTED_MODULE_6__[\"default\"](args);\r\n\t\t\t\telse window.open('#login', '_self');\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#products':\r\n\t\t\t\tif (this.#hasToken() && this.#hasRole([1, 2]))\r\n\t\t\t\t\tnew _page_products__WEBPACK_IMPORTED_MODULE_4__[\"default\"](args);\r\n\t\t\t\telse window.open('#login', '_self');\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#user-summary':\r\n\t\t\t\tif (this.#hasToken() && this.#hasRole([1]))\r\n\t\t\t\t\tnew _page_summary__WEBPACK_IMPORTED_MODULE_11__[\"default\"](args);\r\n\t\t\t\telse window.open('#login', '_self');\r\n\t\t\t\tbreak;\r\n\t\t\tcase '#all-products':\r\n\t\t\t\tnew _page_all_products__WEBPACK_IMPORTED_MODULE_12__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnew _page_home__WEBPACK_IMPORTED_MODULE_3__[\"default\"](args);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tnew _components_footer_section_footer_section__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n\t\t\ttarget: this.#footer,\r\n\t\t\tapp: this,\r\n\t\t});\r\n\t}\r\n\r\n\t//-----------------------------------------------------------------------------------------\r\n\t//-----------------------------------------------------------------------------------------\r\n\r\n\t//=========================================================================================\r\n\t// Api Calls\r\n\t//=========================================================================================\r\n\r\n\tapiGet(successCallback, errorCallback, url) {\r\n\t\tfetch(this.#apiUrl + url, {\r\n\t\t\tmethod: 'GET',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200) return r.json();\r\n\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiLogin(successCallback, errorCallback, loginData) {\r\n\t\tfetch(this.#apiUrl + '/Users/Login', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: loginData,\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiLogout(successCallback, errorCallback) {\r\n\t\tfetch(this.#apiUrl + '/Users/Logout', {\r\n\t\t\tmethod: 'POST', // POST? or DEL?\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiRegister(successCallback, errorCallback, registerData) {\r\n\t\tfetch(this.#apiUrl + '/Users/Register', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: registerData,\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiValidatePassword(successCallback, errorCallback, formData) {\r\n\t\tfetch(this.#apiUrl + '/Users/ValidatePassword', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (!r.ok) throw new Error('Status: ' + r.status);\r\n\t\t\t\treturn r.json();\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiUpdateUser(successCallback, errorCallback, formData) {\r\n\t\tfetch(this.#apiUrl + '/Users/UpdateUser', {\r\n\t\t\tmethod: 'PUT', // I changed to put in DataBase if it doesnt work go back to POST\r\n\t\t\tbody: formData,\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiUploadPicture(successCallback, errorCallback, formData) {\r\n\t\tfetch(this.#apiUrl + '/Users/UploadPicture', {\r\n\t\t\tmethod: 'POST', // I changed to put in DataBase if it doesnt work go back to POST\r\n\t\t\tbody: formData,\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiGetAddresses(successCallback, errorCallback) {\r\n\t\tfetch(this.#apiUrl + '/Address/GetAddresses', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200) return r.json();\r\n\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiNewAddress(successCallback, errorCallback, formData) {\r\n\t\tfetch(this.#apiUrl + '/Address/NewAddress', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiDelAddress(successCallback, errorCallback, id) {\r\n\t\tfetch(this.#apiUrl + `/Address/DelAddress/${id}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiGetCards(successCallback, errorCallback) {\r\n\t\tfetch(this.#apiUrl + '/CreditCards/GetCards', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200) return r.json();\r\n\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiNewCard(successCallback, errorCallback, formData) {\r\n\t\tfetch(this.#apiUrl + '/CreditCards/NewCard', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\tapiDelCard(successCallback, errorCallback, id) {\r\n\t\tfetch(this.#apiUrl + `/CreditCards/DelCard/${id}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\t// UNIVERSAL ADD?\r\n\tapiNewSomethingPOST(successCallback, errorCallback, url, data) {\r\n\t\tfetch(this.#apiUrl + '/' + url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status == 200 || r.status == 401) {\r\n\t\t\t\t\treturn r.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(r.status + ' ' + r.statusText);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\tapiDeleteSomething(successCallback, errorCallback, url) {\r\n\t\tfetch(this.#apiUrl + '/' + url, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tcredentials: 'include',\r\n\t\t})\r\n\t\t\t.then((r) => {\r\n\t\t\t\tif (r.status === 200 || r.status === 401) return r.json();\r\n\t\t\t\telse throw new Error(r.status + ' ' + r.statusText);\r\n\t\t\t})\r\n\t\t\t.then(successCallback)\r\n\t\t\t.catch(errorCallback);\r\n\t}\r\n\r\n\t// DEV\r\n\r\n\t//-----------------------------------------------------------------------------------------\r\n\t//-----------------------------------------------------------------------------------------\r\n\r\n\t//=========================================================================================\r\n\t// Helper Methods\r\n\t//=========================================================================================\r\n\t#hasToken() {\r\n\t\treturn document.cookie.includes('LoginToken');\r\n\t}\r\n\r\n\t#hasRole(allowedRoles) {\r\n\t\treturn this.#user && allowedRoles.includes(this.#user.roleId);\r\n\t}\r\n\r\n\t//-----------------------------------------------------------------------------------------\r\n\t//-----------------------------------------------------------------------------------------\r\n} // Class\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/app.js?");

/***/ }),

/***/ "./src/components/cards-section/cards-section.html":
/*!*********************************************************!*\
  !*** ./src/components/cards-section/cards-section.html ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"cards-section-wrapper container pb-5\">\r\n\t<div class=\"container px-4 mt-5\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-md-12 text-center mb-4\">\r\n\t\t\t\t<h2 class=\"text-uppercase fs-3\">New additions</h2>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row justify-content-center g-4\" id=\"cardsNewAdditions\">\r\n\t\t\t<!-- Card -->\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"container px-4 mt-5\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-md-12 text-center mb-4\">\r\n\t\t\t\t<h2 class=\"text-uppercase fs-3\">Best Seller</h2>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row justify-content-center g-4\" id=\"cardsBestSellers\">\r\n\t\t\t<!-- Cards -->\r\n\t\t</div>\r\n\t\t<div class=\"text-center\">\r\n\t\t\t<a href=\"#all-products\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"btn btn-primary text-uppercase px-3 rounded fs-5 my-5 m-0\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<i class=\"bi bi-stars\"></i> See all Ploducts\r\n\t\t\t\t\t<i class=\"bi bi-stars\"></i>\r\n\t\t\t\t</button>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/cards-section/cards-section.html?");

/***/ }),

/***/ "./src/components/cards-section/cards-section.js":
/*!*******************************************************!*\
  !*** ./src/components/cards-section/cards-section.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CardsSection)\n/* harmony export */ });\n/* harmony import */ var _cards_section_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cards-section.html */ \"./src/components/cards-section/cards-section.html\");\n\r\n\r\nclass CardsSection {\r\n\t#args = null;\r\n\t#products = [];\r\n\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _cards_section_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\t// INIT\r\n\t\tthis.#fetchLatestProducts('cardsNewAdditions', 'newest');\r\n\t\tthis.#fetchLatestProducts('cardsBestSellers', 'asc');\r\n\r\n\t\t// EVENTS\r\n\t\targs.target.addEventListener('click', (e) => {\r\n\t\t\tif (e.target.classList.contains('addToCart')) {\r\n\t\t\t\tconst stockUid = e.target.dataset.stockUid;\r\n\t\t\t\tif (!stockUid) return;\r\n\r\n\t\t\t\t// Load existing or start new cart object\r\n\t\t\t\tconst cart = JSON.parse(\r\n\t\t\t\t\tlocalStorage.getItem('shopcart') || '{}'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!cart.hasOwnProperty(stockUid)) {\r\n\t\t\t\t\tcart[stockUid] = (cart[stockUid] || 0) + 1;\r\n\t\t\t\t\tlocalStorage.setItem('shopcart', JSON.stringify(cart));\r\n\t\t\t\t}\r\n\t\t\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync #fetchLatestProducts(containerId, sortBy = 'newest') {\r\n\t\tconst container = document.querySelector(`#${containerId}`);\r\n\t\tif (!container) return;\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\tthis.#products = r.items || [];\r\n\t\t\t\tcontainer.innerHTML = '';\r\n\t\t\t\tthis.#products.forEach((product) => {\r\n\t\t\t\t\tconst card = this.#createProductCard(product);\r\n\t\t\t\t\tcontainer.appendChild(card);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Failed to fetch products:', err);\r\n\t\t\t},\r\n\t\t\t`/page/product&categorieslist/Paginated?page=1&pageSize=4&sortBy=${sortBy}`\r\n\t\t);\r\n\t}\r\n\r\n\t#createProductCard(product) {\r\n\t\tconst stock = product.stocks[0];\r\n\t\tconst file = product.files?.[0];\r\n\t\tconst imageUrl = file\r\n\t\t\t? `data:${file.fileType};base64,${file.fileBase64}`\r\n\t\t\t: './../../src/images/Logo (DarkMode).svg'; // fallback if no file\r\n\r\n\t\t// i love tarnary now\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.className = 'col-12 col-sm-6 col-md-4 col-xl-3';\r\n\t\tlet buttonHtml = '';\r\n\r\n\t\tif (stock.quantity === 0) {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-outline-secondary\" disabled>\r\n\t\t\t<i class=\"bi bi-cart-x me-2\"></i>Add to cart\r\n\t\t</button>\r\n\t\t<p class=\"my-2 text-danger\"><i class=\"bi bi-exclamation-triangle me-2\"></i>Out of Stock</p>\r\n\t\t`;\r\n\t\t} else if (stock.quantity < 6) {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-primary addToCart\" data-stock-uid=\"${stock.stockUid}\">\r\n\t\t\t<i class=\"bi bi-cart-plus me-2\"></i>Add to cart\r\n\t\t</button>\r\n\t\t<p class=\"my-2 text-warning\"><i class=\"bi bi-exclamation-square me-2\"></i>Limited Stock</p>\r\n\t\t`;\r\n\t\t} else {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-primary addToCart\" data-stock-uid=\"${stock.stockUid}\">\r\n\t\t\t<i class=\"bi bi-cart-plus me-2\"></i>Add to cart\r\n\t\t</button>`;\r\n\t\t}\r\n\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<div class=\"card text-center text-decoration-none h-100\">\r\n\t\t\t    <a href=\"#individual-product?stockUid=${stock.stockUid}\">\r\n\t\t\t\t\t<img src=\"${imageUrl}\" class=\"card-img-top\" alt=\"${product.name}\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<p class=\"card-text\">${product.name} - ${product.stocks[0].variantSize}</p>\r\n\t\t\t\t\t<p class=\"card-text\">${stock.price.toFixed(2)} â‚¬</p>\r\n\t\t\t\t\t${buttonHtml}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t`;\r\n\t\treturn div;\r\n\t}\r\n\r\n\t#updateShopCartTotalQuantity(targetId = null) {\r\n\t\tconst raw = localStorage.getItem('shopcart');\r\n\t\tlet totalQuantity = 0;\r\n\r\n\t\tif (raw) {\r\n\t\t\ttry {\r\n\t\t\t\tconst quantities = JSON.parse(raw);\r\n\t\t\t\tfor (const qty of Object.values(quantities)) {\r\n\t\t\t\t\tif (typeof qty === 'number' && qty > 0) {\r\n\t\t\t\t\t\ttotalQuantity += qty;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn('Invalid shopcart JSON' + e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Optional DOM update\r\n\t\tif (targetId) {\r\n\t\t\tconst el = document.getElementById(targetId);\r\n\t\t\tif (el) el.innerHTML = totalQuantity > 0 ? totalQuantity : '';\r\n\t\t}\r\n\r\n\t\treturn totalQuantity;\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/cards-section/cards-section.js?");

/***/ }),

/***/ "./src/components/category-tree/category-tree.html":
/*!*********************************************************!*\
  !*** ./src/components/category-tree/category-tree.html ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"d-lg-inline list-group\" id=\"containerCategory\"></div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/category-tree/category-tree.html?");

/***/ }),

/***/ "./src/components/category-tree/category-tree.js":
/*!*******************************************************!*\
  !*** ./src/components/category-tree/category-tree.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CategoryTree)\n/* harmony export */ });\n/* harmony import */ var _category_tree_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./category-tree.html */ \"./src/components/category-tree/category-tree.html\");\n\r\n\r\nclass CategoryTree {\r\n\t#args = null;\r\n\t#categoriesList = null;\r\n\t#selectedCat = [];\r\n\t#selectedSubCat = [];\r\n\t#singleSelect = false;\r\n\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\tthis.#args.target.innerHTML = _category_tree_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\t\tthis.#singleSelect = !!this.#args.singleSelect;\r\n\r\n\t\tthis.#setupEvents();\r\n\t}\r\n\r\n\tget categoriesList() {\r\n\t\treturn this.#categoriesList;\r\n\t}\r\n\r\n\tset categoriesList(list) {\r\n\t\tthis.#categoriesList = list;\r\n\t\tthis.#renderTree();\r\n\t}\r\n\r\n\tget selectedCat() {\r\n\t\treturn this.#selectedCat;\r\n\t}\r\n\r\n\tset selectedCat(value) {\r\n\t\tthis.#selectedCat = value;\r\n\t\tthis.#updateUI();\r\n\t}\r\n\r\n\tget selectedSubCat() {\r\n\t\treturn this.#selectedSubCat;\r\n\t}\r\n\r\n\tset selectedSubCat(value) {\r\n\t\tthis.#selectedSubCat = value;\r\n\t\tthis.#updateUI();\r\n\t}\r\n\r\n\t#setupEvents() {\r\n\t\tthis.#args.target.addEventListener('click', (e) => {\r\n\t\t\tconst caretToggle = e.target.closest(\r\n\t\t\t\t'a[data-bs-toggle=\"collapse\"]'\r\n\t\t\t);\r\n\t\t\tif (caretToggle) {\r\n\t\t\t\tconst icon = caretToggle.querySelector('i');\r\n\t\t\t\tif (icon) {\r\n\t\t\t\t\ticon.classList.toggle('bi-caret-up-square');\r\n\t\t\t\t\ticon.classList.toggle('bi-caret-down-square');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst catEl = e.target.closest('[data-id]');\r\n\t\t\tconst subcatEl = e.target.closest('[data-subcat-id]');\r\n\r\n\t\t\tif (catEl) {\r\n\t\t\t\tconst id = parseInt(catEl.dataset.id);\r\n\t\t\t\tthis.#handleCatClick(id);\r\n\t\t\t}\r\n\r\n\t\t\tif (subcatEl && !e.target.matches('input[type=\"checkbox\"]')) {\r\n\t\t\t\tconst id = parseInt(subcatEl.dataset.subcatId);\r\n\t\t\t\tthis.#handleSubcatClick(id);\r\n\t\t\t}\r\n\r\n\t\t\tthis.#updateUI();\r\n\r\n\t\t\tif (typeof this.#args.click === 'function') {\r\n\t\t\t\tthis.#args.click();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t#handleCatClick(id) {\r\n\t\tif (!this.#selectedCat.includes(id)) {\r\n\t\t\tthis.#selectedCat.push(id);\r\n\t\t} else {\r\n\t\t\tthis.#selectedCat = this.#selectedCat.filter((x) => x !== id);\r\n\t\t}\r\n\t}\r\n\r\n\t#handleSubcatClick(id) {\r\n\t\tif (this.#singleSelect) {\r\n\t\t\tthis.#selectedSubCat = [id];\r\n\t\t} else {\r\n\t\t\tif (!this.#selectedSubCat.includes(id)) {\r\n\t\t\t\tthis.#selectedSubCat.push(id);\r\n\t\t\t} else {\r\n\t\t\t\tthis.#selectedSubCat = this.#selectedSubCat.filter(\r\n\t\t\t\t\t(x) => x !== id\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t#renderTree() {\r\n\t\tconst container = this.#args.target.querySelector('#containerCategory');\r\n\t\tif (!this.#categoriesList) return;\r\n\r\n\t\tlet html = '';\r\n\r\n\t\tfor (const cat of this.#categoriesList) {\r\n\t\t\tconst catId = cat.categoryId;\r\n\t\t\tconst expanded = this.#selectedCat.includes(catId);\r\n\r\n\t\t\thtml += `\r\n\t\t\t\t<a class=\"list-group-item list-group-item-action ps-2 ${\r\n\t\t\t\t\texpanded ? 'active' : ''\r\n\t\t\t\t}\"\r\n\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\tdata-id=\"${catId}\"\r\n\t\t\t\t\thref=\"#collapseCat${catId}\">\r\n\t\t\t\t\t<i class=\"bi ${\r\n\t\t\t\t\t\texpanded ? 'bi-caret-down-square' : 'bi-caret-up-square'\r\n\t\t\t\t\t} pe-2\"></i>\r\n\t\t\t\t\t${cat.categoryName}\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class=\"collapse multi-collapse ${\r\n\t\t\t\t\texpanded ? 'show' : ''\r\n\t\t\t\t}\" id=\"collapseCat${catId}\">\r\n\t\t\t`;\r\n\r\n\t\t\tfor (const subcat of cat.subcategories || []) {\r\n\t\t\t\tif (this.#args.checkbox) {\r\n\t\t\t\t\thtml += `\r\n\t\t\t\t\t\t<div class=\"row ps-4 pe-3 \" data-subcat-id=\"${subcat.subcategoryId}\">\r\n\t\t\t\t\t\t\t<label class=\"list-group-item list-group-item-action\">\r\n\t\t\t\t\t\t\t\t<input class=\"form-check-input me-2\" type=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t   id=\"checkbox_${subcat.subcategoryId}\"\r\n\t\t\t\t\t\t\t\t\t   data-cat-id=\"${catId}\" />\r\n\t\t\t\t\t\t\t\t<span>${subcat.subcategoryName}</span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtml += `\r\n\t\t\t\t\t\t<div class=\"list-group-item list-group-item-action ps-4\"\r\n\t\t\t\t\t\t\t data-subcat-id=\"${subcat.subcategoryId}\">\r\n\t\t\t\t\t\t\t<span>${subcat.subcategoryName}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thtml += `</div>`;\r\n\t\t}\r\n\r\n\t\tcontainer.innerHTML = html;\r\n\t\tthis.#updateUI();\r\n\t}\r\n\r\n\t#updateUI() {\r\n\t\t// Category toggle and highlight\r\n\t\tconst catEls = this.#args.target.querySelectorAll('[data-id]');\r\n\t\tfor (const el of catEls) {\r\n\t\t\tconst id = parseInt(el.dataset.id);\r\n\t\t\tconst isActive = this.#selectedCat.includes(id);\r\n\t\t\tel.classList.toggle('active', isActive);\r\n\r\n\t\t\tconst collapse = this.#args.target.querySelector(\r\n\t\t\t\t`#collapseCat${id}`\r\n\t\t\t);\r\n\t\t\tif (collapse) collapse.classList.toggle('show', isActive);\r\n\r\n\t\t\tconst icon = el.querySelector('i');\r\n\t\t\tif (icon) {\r\n\t\t\t\ticon.classList.toggle('bi-caret-down-square', isActive);\r\n\t\t\t\ticon.classList.toggle('bi-caret-up-square', !isActive);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Subcategory toggle and checkbox sync\r\n\t\tconst subEls = this.#args.target.querySelectorAll('[data-subcat-id]');\r\n\t\tfor (const el of subEls) {\r\n\t\t\tconst id = parseInt(el.dataset.subcatId);\r\n\t\t\tconst isSelected = this.#selectedSubCat.includes(id);\r\n\r\n\t\t\tif (this.#args.checkbox) {\r\n\t\t\t\tconst checkbox = el.querySelector('input[type=\"checkbox\"]');\r\n\t\t\t\tif (checkbox) checkbox.checked = isSelected;\r\n\r\n\t\t\t\tconst label = el.querySelector('label');\r\n\t\t\t\tif (label) label.classList.toggle('active', isSelected);\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.toggle('active', isSelected);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/category-tree/category-tree.js?");

/***/ }),

/***/ "./src/components/footer-section/footer-section.html":
/*!***********************************************************!*\
  !*** ./src/components/footer-section/footer-section.html ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container py-4 mt-5 mb-3 border-top-gold\">\r\n\t<div class=\"row justify-content-between\">\r\n\t\t<!-- Left: Navigation -->\r\n\t\t<div class=\"col-12 col-sm-6 text text-center text-sm-start\">\r\n\t\t\t<ul class=\"list-unstyled mb-0\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#home\" class=\"text-decoration-none\">Home</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#shop\" class=\"text-decoration-none\">Shop</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#about\" class=\"text-decoration-none\">About Us</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#contact\" class=\"text-decoration-none\">Contact</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<!-- Right: Legal -->\r\n\t\t<div class=\"col-12 col-sm-6 text-center text-sm-end\">\r\n\t\t\t<ul class=\"list-unstyled\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#impressum\" class=\"text-decoration-none\"\r\n\t\t\t\t\t\t>Impressum</a\r\n\t\t\t\t\t>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#privacy\" class=\"text-decoration-none\"\r\n\t\t\t\t\t\t>Privacy Policy</a\r\n\t\t\t\t\t>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#terms\" class=\"text-decoration-none\"\r\n\t\t\t\t\t\t>Terms & Conditions</a\r\n\t\t\t\t\t>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"text-center\">Copyright</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/footer-section/footer-section.html?");

/***/ }),

/***/ "./src/components/footer-section/footer-section.js":
/*!*********************************************************!*\
  !*** ./src/components/footer-section/footer-section.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FooterSection)\n/* harmony export */ });\n/* harmony import */ var _footer_section_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer-section.html */ \"./src/components/footer-section/footer-section.html\");\n\r\n\r\nclass FooterSection {\r\n\tconstructor(args) {\r\n\t\targs.target.innerHTML = _footer_section_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/footer-section/footer-section.js?");

/***/ }),

/***/ "./src/components/hero-section/hero-section.html":
/*!*******************************************************!*\
  !*** ./src/components/hero-section/hero-section.html ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Imports\nvar ___HTML_LOADER_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./../../images/hero-banner.webp */ \"./src/images/hero-banner.webp\"), __webpack_require__.b);\n// Module\nvar code = `<div class=\"hero\">\r\n\t<!-- Hero Banner -->\r\n\t<section class=\"hero-banner\">\r\n\t\t<img\r\n\t\t\tclass=\"hero-img border-accent-bottom\"\r\n\t\t\tsrc=\"${___HTML_LOADER_IMPORT_0___}\"\r\n\t\t\talt=\"\"\r\n\t\t/>\r\n\t</section>\r\n\t<!-- Search Bar -->\r\n\t<!-- <section class=\"hero-search mt-4 mb-4\">\r\n\t\t<div class=\"h-100\">\r\n\t\t\t<div class=\"mask d-flex align-items-center h-100\">\r\n\t\t\t\t<div class=\"container\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-md-10 col-lg-8 col-xl-7 mx-auto px-4\">\r\n\t\t\t\t\t\t\t<div class=\"card\">\r\n\t\t\t\t\t\t\t\t<div class=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"input-group input-group-lg\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Type Keywords\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"Type Keywords\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"input-group-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-search\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"card-body p-4\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"text-uppercase pt-2 pb-2 fw-bold\"\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-target=\"#advancedSearch\"\r\n\t\t\t\t\t\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\t\taria-controls=\"advancedSearch\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tADVANCED SEARCH\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"collapse mt-4\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"advancedSearch\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-4 mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-info btn-lg w-100 dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCategories\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAction\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAnother action\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSomething else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-4 mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-info btn-lg w-100 dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPot Color\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAction\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAnother action\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSomething else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-4 mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-info btn-lg w-100 dropdown-toggle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPlant Size\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAction\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAnother action\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSomething else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-4 mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-info btn-lg w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSale\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"d-flex justify-content-between align-items-center mt-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-info-self\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>TEST</span\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tresults\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-mdb-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</section> -->\r\n\t<h1 class=\"text-center my-3\">Welcome to Dream Plants!</h1>\r\n\t<div class=\"text-center\">\r\n\t\t<a href=\"#all-products\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"btn btn-primary text-uppercase px-3 rounded fs-5 my-3 m-0\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"bi bi-stars\"></i> All Ploducts\r\n\t\t\t\t<i class=\"bi bi-stars\"></i>\r\n\t\t\t</button>\r\n\t\t</a>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/hero-section/hero-section.html?");

/***/ }),

/***/ "./src/components/hero-section/hero-section.js":
/*!*****************************************************!*\
  !*** ./src/components/hero-section/hero-section.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HeroSection)\n/* harmony export */ });\n/* harmony import */ var _hero_section_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hero-section.html */ \"./src/components/hero-section/hero-section.html\");\n\r\n\r\nclass HeroSection {\r\n\tconstructor(args) {\r\n\t\targs.target.innerHTML = _hero_section_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        \r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/hero-section/hero-section.js?");

/***/ }),

/***/ "./src/components/navigation-bar/navigation-bar.html":
/*!***********************************************************!*\
  !*** ./src/components/navigation-bar/navigation-bar.html ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Imports\nvar ___HTML_LOADER_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./../../images/Logo (DarkMode).svg */ \"./src/images/Logo (DarkMode).svg\"), __webpack_require__.b);\n// Module\nvar code = `<div class=\"navBarSpace\"></div>\r\n<nav\r\n\tclass=\"navbar navbar-expand bg-dark-green border-accent-bottom py-2 fixed-top\"\r\n>\r\n\t<div\r\n\t\tclass=\"container d-flex justify-content-between align-items-center position-relative\"\r\n\t>\r\n\t\t<!-- LEFT -->\r\n\t\t<div class=\"d-flex align-items-center\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"nav-item d-none\"\r\n\t\t\t\tdata-bs-toggle=\"offcanvas\"\r\n\t\t\t\tdata-bs-target=\"#mobileCategoryCanvas\"\r\n\t\t\t\tid=\"mobileCategoryIcon\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"bi bi-list fs-1\"></i>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"nav-item ps-3\" id=\"lightDarkMode\">\r\n\t\t\t\t<i class=\"bi bi-moon-stars-fill fs-5\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- CENTER (absolute logo) -->\r\n\t\t<a\r\n\t\t\thref=\"#home\"\r\n\t\t\tclass=\"position-absolute top-50 start-50 translate-middle\"\r\n\t\t>\r\n\t\t\t<img\r\n\t\t\t\tclass=\"navbar-logo\"\r\n\t\t\t\tsrc=\"${___HTML_LOADER_IMPORT_0___}\"\r\n\t\t\t\talt=\"Dream Plants Logo\"\r\n\t\t\t/>\r\n\t\t</a>\r\n\r\n\t\t<!-- RIGHT -->\r\n\t\t<div class=\"d-flex align-items-center\">\r\n\t\t\t<div class=\"d-none d-lg-flex pe-3\" id=\"userName\">UserName</div>\r\n\r\n\t\t\t<div class=\"dropdown-center\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"nav-item pe-3\"\r\n\t\t\t\t\tdata-bs-toggle=\"dropdown\"\r\n\t\t\t\t\taria-expanded=\"true\"\r\n\t\t\t\t\tid=\"loginMenu\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<i class=\"bi bi-person-lock fs-1\" id=\"userIcon\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclass=\"dropdown-menu dropdown-menu-end d-none\"\r\n\t\t\t\t\tid=\"userDropdown\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"userProfile\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tUser Profile\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"userOrders\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tUser Orders History\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item d-none\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"usersManagement\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tUsers Management\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item d-none\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"userCategories\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCategories Management\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item d-none\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"userProducts\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tProducts Management\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item d-none\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"userSummary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDreamPlants Summary\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li><hr class=\"dropdown-divider\" /></li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid=\"userLogOut\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLog out\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t\t<a\r\n\t\t\t\thref=\"#shopcart\"\r\n\t\t\t\tclass=\"nav-item position-relative d-inline-block\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"bi bi-cart2 fs-1\"></i>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"badge badge-position bg-danger position-absolute rounded-pill\"\r\n\t\t\t\t\tstyle=\"font-size: 0.75rem\"\r\n\t\t\t\t\tid=\"shopCardsItemNumber\"\r\n\t\t\t\t>\r\n\t\t\t\t</span>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</nav>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/navigation-bar/navigation-bar.html?");

/***/ }),

/***/ "./src/components/navigation-bar/navigation-bar.js":
/*!*********************************************************!*\
  !*** ./src/components/navigation-bar/navigation-bar.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NavigationBar)\n/* harmony export */ });\n/* harmony import */ var _navigation_bar_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./navigation-bar.html */ \"./src/components/navigation-bar/navigation-bar.html\");\n\r\n\r\nclass NavigationBar {\r\n\tconstructor(args) {\r\n\t\targs.target.innerHTML = _navigation_bar_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\t\t//--------------------------------------------------\r\n\t\t// Constants\r\n\t\t//--------------------------------------------------\r\n\r\n\t\tconst loginMenu = args.target.querySelector('#loginMenu');\r\n\t\tconst userIcon = args.target.querySelector('#userIcon');\r\n\t\tconst userDropdown = args.target.querySelector('#userDropdown');\r\n\t\tconst loginToken = document.cookie.includes('LoginToken=');\r\n\t\tconst userLogOut = args.target.querySelector('#userLogOut');\r\n\t\tconst lightDarkMode = args.target.querySelector('#lightDarkMode');\r\n\t\tconst userProducts = args.target.querySelector('#userProducts');\r\n\t\tconst userCategories = args.target.querySelector('#userCategories');\r\n\t\tconst userProfile = args.target.querySelector('#userProfile');\r\n\t\tconst userOrders = args.target.querySelector('#userOrders');\r\n\t\tconst usersManagement = args.target.querySelector('#usersManagement');\r\n\t\tconst userSummary = args.target.querySelector('#userSummary');\r\n\r\n\t\t//--------------------------------------------------\r\n\t\tconst userName = args.target.querySelector('#userName');\r\n\t\t//--------------------------------------------------\r\n\t\t// Init\r\n\t\t//--------------------------------------------------\r\n\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t\tif (args.app.user) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('user') || '{}');\r\n\t\t\tif (user.firstName) {\r\n\t\t\t\tuserName.innerText = `Welcome, ${user.firstName}`;\r\n\t\t\t}\r\n\r\n\t\t\tif (args.app.user.roleId === 1) {\r\n\t\t\t\tconst show = (page) => page?.classList.remove('d-none');\r\n\t\t\t\tshow(usersManagement);\r\n\t\t\t\tshow(userCategories);\r\n\t\t\t\tshow(userProducts);\r\n\t\t\t\tshow(userSummary);\r\n\t\t\t} else if (args.app.user.roleId === 2) {\r\n\t\t\t\tconst show = (page) => page?.classList.remove('d-none');\r\n\t\t\t\tshow(usersManagement);\r\n\t\t\t\tshow(userCategories);\r\n\t\t\t\tshow(userProducts);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tuserName.innerText = '';\r\n\t\t}\r\n\t\t// If user logged in then do stuff.\r\n\t\tif (loginToken) {\r\n\t\t\tuserIcon.classList.remove('bi-person-lock');\r\n\t\t\tuserIcon.classList.add('bi-person-gear');\r\n\r\n\t\t\tuserLogOut.addEventListener('click', () => {\r\n\t\t\t\t// clear frontend\r\n\t\t\t\tlocalStorage.removeItem('user');\r\n\t\t\t\targs.app.user = null;\r\n\r\n\t\t\t\t// call api\r\n\t\t\t\targs.app.apiLogout((r) => {\r\n\t\t\t\t\tif (r.success) {\r\n\t\t\t\t\t\talert(r.message);\r\n\t\t\t\t\t\tlocation.hash = '#home';\r\n\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t// DEV\r\n\t\tconst mobileCategoryIcon = document.querySelector(\r\n\t\t\t'#mobileCategoryIcon'\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\twindow.location.hash.startsWith('#products') ||\r\n\t\t\twindow.location.hash.startsWith('#product-detail') ||\r\n\t\t\twindow.location.hash.startsWith('#all-products')\r\n\t\t) {\r\n\t\t\tmobileCategoryIcon.classList.remove('d-none');\r\n\t\t\tmobileCategoryIcon.classList.add('d-lg-block');\r\n\t\t\tmobileCategoryIcon.classList.add('d-xl-none');\r\n\t\t} else {\r\n\t\t\tmobileCategoryIcon.classList.add('d-none');\r\n\t\t}\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Event Listeneners\r\n\t\t//--------------------------------------------------\r\n\t\tuserProducts.addEventListener('click', () => {\r\n\t\t\tlocation.hash = '#products';\r\n\t\t});\r\n\r\n\t\tuserCategories.addEventListener('click', () => {\r\n\t\t\tlocation.hash = '#categories';\r\n\t\t});\r\n\r\n\t\tuserProfile.addEventListener('click', () => {\r\n\t\t\tlocation.hash = '#user-profile';\r\n\t\t});\r\n\r\n\t\tuserOrders.addEventListener('click', () => {\r\n\t\t\tlocation.hash = '#user-order-history';\r\n\t\t});\r\n\t\tusersManagement.addEventListener('click', () => {\r\n\t\t\tlocation.hash = '#users-management';\r\n\t\t});\r\n\t\tuserSummary.addEventListener('click', () => {\r\n\t\t\tlocation.hash = '#user-summary';\r\n\t\t});\r\n\r\n\t\t// Light / Dark Mode Toogle.\r\n\t\tlightDarkMode.addEventListener('click', () => {\r\n\t\t\tconst currentTheme =\r\n\t\t\t\tdocument.documentElement.getAttribute('data-bs-theme');\r\n\r\n\t\t\tif (currentTheme === 'dark') {\r\n\t\t\t\tdocument.documentElement.setAttribute('data-bs-theme', 'light');\r\n\t\t\t\tlocalStorage.setItem('dreamPlantsTheme', 'light');\r\n\t\t\t} else {\r\n\t\t\t\tdocument.documentElement.setAttribute('data-bs-theme', 'dark');\r\n\t\t\t\tlocalStorage.setItem('dreamPlantsTheme', 'dark');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// If user logged in then make userDropdown Visible else locationhash change to login-page\r\n\t\tloginMenu.addEventListener('click', () => {\r\n\t\t\tif (loginToken) {\r\n\t\t\t\tuserDropdown.classList.remove('d-none');\r\n\t\t\t} else {\r\n\t\t\t\tlocation.hash = '#login';\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t#updateShopCartTotalQuantity(targetId = null) {\r\n\t\tconst raw = localStorage.getItem('shopcart');\r\n\t\tlet totalQuantity = 0;\r\n\r\n\t\tif (raw) {\r\n\t\t\ttry {\r\n\t\t\t\tconst quantities = JSON.parse(raw);\r\n\t\t\t\tfor (const qty of Object.values(quantities)) {\r\n\t\t\t\t\tif (typeof qty === 'number' && qty > 0) {\r\n\t\t\t\t\t\ttotalQuantity += qty;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn('Invalid shopcart JSON' + e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Optional DOM update\r\n\t\tif (targetId) {\r\n\t\t\tconst el = document.getElementById(targetId);\r\n\t\t\tif (el) el.innerHTML = totalQuantity > 0 ? totalQuantity : '';\r\n\t\t}\r\n\r\n\t\treturn totalQuantity;\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/navigation-bar/navigation-bar.js?");

/***/ }),

/***/ "./src/components/plant-care-section/plant-care-section.html":
/*!*******************************************************************!*\
  !*** ./src/components/plant-care-section/plant-care-section.html ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container py-4\">\r\n\t<div class=\"row justify-content-center text-center\">\r\n\t\t<!-- Card -->\r\n\t\t<div class=\"card col-12 col-sm-6 col-md-4 d-flex\">\r\n\t\t\t<i class=\"p-4 bi bi-truck\"></i>\r\n\t\t\t<div class=\"card-body\">\r\n\t\t\t\t<p class=\"card-text\">Free Shipping</p>\r\n\t\t\t\t<p class=\"card-text m-0\">\r\n\t\t\t\t\tWithin Austria and throughout Europe\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p class=\"card-text\">\r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t<span id=\"shippingPriceChange\"></span>\r\n\t\t\t\t\tpurchase value\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Card -->\r\n\t\t<div class=\"card col-12 col-sm-6 col-md-4 d-flex\">\r\n\t\t\t<i class=\"p-4 bi bi-flower3\"></i>\r\n\t\t\t<div class=\"card-body\">\r\n\t\t\t\t<p class=\"card-text\">Latest plant trends</p>\r\n\t\t\t\t<p class=\"card-text\">\r\n\t\t\t\t\tYou can find the most beautiful and latest houseplant trends\r\n\t\t\t\t\there\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Card -->\r\n\t\t<div class=\"card col-12 col-sm-6 col-md-4 d-flex\">\r\n\t\t\t<i class=\"p-4 bi bi-star\"></i>\r\n\t\t\t<div class=\"card-body\">\r\n\t\t\t\t<p class=\"card-text\">Plants of the best quality</p>\r\n\t\t\t\t<p class=\"card-text\">\r\n\t\t\t\t\tHealthy plants in the best condition including plant\r\n\t\t\t\t\tguarantee\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/plant-care-section/plant-care-section.html?");

/***/ }),

/***/ "./src/components/plant-care-section/plant-care-section.js":
/*!*****************************************************************!*\
  !*** ./src/components/plant-care-section/plant-care-section.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PlantCareSection)\n/* harmony export */ });\n/* harmony import */ var _plant_care_section_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./plant-care-section.html */ \"./src/components/plant-care-section/plant-care-section.html\");\n\r\n\r\nclass PlantCareSection {\r\n\tconstructor(args) {\r\n\t\targs.target.innerHTML = _plant_care_section_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\tconst shippingPriceChange = args.target.querySelector(\r\n\t\t\t'#shippingPriceChange'\r\n\t\t);\r\n\t\tif (!shippingPriceChange) {\r\n\t\t\tconsole.warn('#shippingPriceChange not found in DOM');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\targs.app.apiGet(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!response.success ||\r\n\t\t\t\t\t!response.dto ||\r\n\t\t\t\t\tresponse.dto.shippingFree == null\r\n\t\t\t\t) {\r\n\t\t\t\t\tshippingPriceChange.innerHTML = 'Check our Contact';\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tshippingPriceChange.innerHTML = `${parseFloat(\r\n\t\t\t\t\tresponse.dto.shippingFree\r\n\t\t\t\t)} â‚¬`;\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.warn('Failed to load shopcart pricing:', err);\r\n\t\t\t\tshippingPriceChange.innerHTML = 'Check our Contact';\r\n\t\t\t},\r\n\t\t\t'/page/shopcart/pricing'\r\n\t\t);\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/components/plant-care-section/plant-care-section.js?");

/***/ }),

/***/ "./src/css/index.css":
/*!***************************!*\
  !*** ./src/css/index.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/css/index.css?");

/***/ }),

/***/ "./src/images/Logo (DarkMode).svg":
/*!****************************************!*\
  !*** ./src/images/Logo (DarkMode).svg ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"assets/Logo (DarkMode).c12f65c9851e43e5cdac.svg\";\n\n//# sourceURL=webpack://dreamplants.webservice/./src/images/Logo_(DarkMode).svg?");

/***/ }),

/***/ "./src/images/hero-banner.webp":
/*!*************************************!*\
  !*** ./src/images/hero-banner.webp ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"assets/hero-banner.d580aca72e86771912d7.webp\";\n\n//# sourceURL=webpack://dreamplants.webservice/./src/images/hero-banner.webp?");

/***/ }),

/***/ "./src/images/person-fill-up.svg":
/*!***************************************!*\
  !*** ./src/images/person-fill-up.svg ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"assets/person-fill-up.a8e754917a616cc4687b.svg\";\n\n//# sourceURL=webpack://dreamplants.webservice/./src/images/person-fill-up.svg?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../node_modules/bootstrap/dist/css/bootstrap.css */ \"./node_modules/bootstrap/dist/css/bootstrap.css\");\n/* harmony import */ var _node_modules_bootstrap_icons_font_bootstrap_icons_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../node_modules/bootstrap-icons/font/bootstrap-icons.css */ \"./node_modules/bootstrap-icons/font/bootstrap-icons.css\");\n/* harmony import */ var _css_index_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./css/index.css */ \"./src/css/index.css\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.js */ \"./src/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nnew _app_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/index.js?");

/***/ }),

/***/ "./src/page-all-products.html":
/*!************************************!*\
  !*** ./src/page-all-products.html ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container-min-height border-bottom-gold\">\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1 class=\"border-bottom border-2 py-2 m-0\">All Products</h1>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row\">\r\n\t\t\t<!-- Categorie Tree -->\r\n\t\t\t<div class=\"col-xl-3 d-none d-xl-block\">\r\n\t\t\t\t<a class=\"btn btn-secondary w-100 mt-4\" id=\"clearCatFilter\"\r\n\t\t\t\t\t><i class=\"bi bi-x-square pe-2\"></i>Clear Selected\r\n\t\t\t\t\tCategory</a\r\n\t\t\t\t>\r\n\t\t\t\t<div class=\"mt-2\" id=\"tableCategorieTree\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- Right Table -->\r\n\t\t\t<div class=\"col-12 col-xl-9\">\r\n\t\t\t\t<div class=\"row mt-4\">\r\n\t\t\t\t\t<div class=\"col-12\">\r\n\t\t\t\t\t\t<!-- CARDS  -->\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"container d-flex flex-wrap gap-1\"\r\n\t\t\t\t\t\t\tid=\"targetAllCards\"\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t<!-- PAGINATION -->\r\n\t\t\t\t\t\t<nav\r\n\t\t\t\t\t\t\taria-label=\"Page navigation\"\r\n\t\t\t\t\t\t\tclass=\"d-flex justify-content-center my-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ul id=\"pagination\" class=\"pagination m-0\"></ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Reusable Toast -->\r\n\t<div class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n\t\t<div\r\n\t\t\tid=\"liveToast\"\r\n\t\t\tclass=\"toast\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"assertive\"\r\n\t\t\taria-atomic=\"true\"\r\n\t\t>\r\n\t\t\t<div class=\"toast-header\">\r\n\t\t\t\t<strong class=\"me-auto\" id=\"toastTitle\">Bootstrap</strong>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\tdata-bs-dismiss=\"toast\"\r\n\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"toast-body\" id=\"toastBody\">\r\n\t\t\t\tHello, world! This is a toast message.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div\r\n\t\tclass=\"offcanvas offcanvas-start\"\r\n\t\ttabindex=\"-1\"\r\n\t\tid=\"mobileCategoryCanvas\"\r\n\t>\r\n\t\t<div class=\"offcanvas-header\">\r\n\t\t\t<h5 class=\"offcanvas-title\">Filter Categories</h5>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\tdata-bs-dismiss=\"offcanvas\"\r\n\t\t\t></button>\r\n\t\t</div>\r\n\t\t<div class=\"offcanvas-body\">\r\n\t\t\t<div id=\"mobileCategorieTree\"></div>\r\n\t\t\t<!-- Placeholder for clone -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-all-products.html?");

/***/ }),

/***/ "./src/page-all-products.js":
/*!**********************************!*\
  !*** ./src/page-all-products.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageAllProducts)\n/* harmony export */ });\n/* harmony import */ var _page_all_products_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-all-products.html */ \"./src/page-all-products.html\");\n/* harmony import */ var _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/category-tree/category-tree */ \"./src/components/category-tree/category-tree.js\");\n\r\n\r\n\r\nclass PageAllProducts {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\r\n\t#args = null;\r\n\t#productList = null;\r\n\t#categoriesList = null;\r\n\t#categorieTree = null;\r\n\t#mobileTree = null;\r\n\t#currentPage = 1;\r\n\t#totalPages = 1;\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_all_products_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\t\t//--------------------------------------------------\r\n\t\t// Constants\r\n\t\t//--------------------------------------------------\r\n\t\tconst tableCategorieTree = args.target.querySelector(\r\n\t\t\t'#tableCategorieTree'\r\n\t\t);\r\n\t\tconst clearCatFilter = args.target.querySelector('#clearCatFilter');\r\n\r\n\t\t//offCanva\r\n\t\tconst mobileCategorieTree = document.querySelector(\r\n\t\t\t'#mobileCategorieTree'\r\n\t\t);\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Init\r\n\t\t//--------------------------------------------------\r\n\t\tthis.#categorieTree = new _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n\t\t\ttarget: tableCategorieTree,\r\n\t\t\tapp: args.app,\r\n\t\t\tcheckbox: false,\r\n\t\t\tclick: () => {\r\n\t\t\t\tthis.#currentPage = 1;\r\n\t\t\t\t// Sync to mobile\r\n\t\t\t\tthis.#mobileTree.selectedCat = [\r\n\t\t\t\t\t...this.#categorieTree.selectedCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#mobileTree.selectedSubCat = [\r\n\t\t\t\t\t...this.#categorieTree.selectedSubCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#readData();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis.#mobileTree = new _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n\t\t\ttarget: mobileCategorieTree,\r\n\t\t\tapp: args.app,\r\n\t\t\tcheckbox: false,\r\n\t\t\tclick: () => {\r\n\t\t\t\tthis.#currentPage = 1;\r\n\t\t\t\t// Use spread to copy the selectedCat array values from mobileTree\r\n\t\t\t\t// into a new array, avoiding shared reference - find more documentation\r\n\t\t\t\tthis.#categorieTree.selectedCat = [\r\n\t\t\t\t\t...this.#mobileTree.selectedCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#categorieTree.selectedSubCat = [\r\n\t\t\t\t\t...this.#mobileTree.selectedSubCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#readData();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\targs.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\tthis.#categorieTree.categoriesList = r.categoriesList;\r\n\t\t\t\tthis.#mobileTree.categoriesList = r.categoriesList;\r\n\r\n\t\t\t\tthis.#readData(); // load data only after TreeView is ready\r\n\t\t\t},\r\n\t\t\t(ex) => alert('Failed to load categories.'),\r\n\t\t\t'/page/product&categorieslist' // or a separate category-only endpoint\r\n\t\t);\r\n\r\n\t\tthis.#readData();\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Event Listener\r\n\t\t//--------------------------------------------------\r\n\t\tclearCatFilter.addEventListener('click', () => {\r\n\t\t\tthis.#categorieTree.selectedCat = [];\r\n\t\t\tthis.#categorieTree.selectedSubCat = [];\r\n\t\t\tthis.#currentPage = 1;\r\n\t\t\tthis.#readData();\r\n\t\t});\r\n\t\targs.target.addEventListener('click', (e) => {\r\n\t\t\tif (e.target.classList.contains('addToCart')) {\r\n\t\t\t\tconst stockUid = e.target.dataset.stockUid;\r\n\t\t\t\tif (!stockUid) return;\r\n\r\n\t\t\t\t// Load existing or start new cart object\r\n\t\t\t\tconst cart = JSON.parse(\r\n\t\t\t\t\tlocalStorage.getItem('shopcart') || '{}'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!cart.hasOwnProperty(stockUid)) {\r\n\t\t\t\t\tcart[stockUid] = (cart[stockUid] || 0) + 1;\r\n\t\t\t\t\tlocalStorage.setItem('shopcart', JSON.stringify(cart));\r\n\t\t\t\t}\r\n\t\t\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//--------------------------------------------------\r\n\t// Private Methods\r\n\t//--------------------------------------------------\r\n\t#readData() {\r\n\t\tconst container = this.#args.target.querySelector('#targetAllCards');\r\n\t\tcontainer.innerHTML = ''; // Clear old cards\r\n\r\n\t\tconst selectedCats = this.#categorieTree.selectedCat;\r\n\t\tconst selectedSubcats = this.#categorieTree.selectedSubCat;\r\n\t\tconst catParam = selectedCats.join(',');\r\n\t\tconst subcatParam = selectedSubcats.join(',');\r\n\t\tconst query = `/page/product&categorieslist/Paginated?page=${\r\n\t\t\tthis.#currentPage\r\n\t\t}&pageSize=15&catIds=${catParam}&subcatIds=${subcatParam}`;\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\tthis.#productList = r.items;\r\n\t\t\t\tthis.#totalPages = Math.ceil(r.totalCount / r.pageSize);\r\n\r\n\t\t\t\t// Render cards\r\n\t\t\t\tcontainer.innerHTML = '';\r\n\t\t\t\tfor (const product of this.#productList) {\r\n\t\t\t\t\tconst card = this.#createProductCard(product);\r\n\t\t\t\t\tcontainer.appendChild(card);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.#renderPagination();\r\n\t\t\t},\r\n\t\t\t(ex) => {\r\n\t\t\t\talert(ex.message || ex);\r\n\t\t\t},\r\n\t\t\tquery\r\n\t\t);\r\n\t}\r\n\r\n\t#createProductCard(product) {\r\n\t\tconst stock = product.stocks[0];\r\n\t\tconst file = product.files?.[0];\r\n\t\tconst imageUrl = file\r\n\t\t\t? `data:${file.fileType};base64,${file.fileBase64}`\r\n\t\t\t: './../../src/images/Logo (DarkMode).svg'; // fallback if no file\r\n\r\n\t\t// i love tarnary now\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.className =\r\n\t\t\t'col-12 col-sm-5 col-md-3 col-lg-3 col-xl-3 mb-4 mx-auto';\r\n\t\tlet buttonHtml = '';\r\n\r\n\t\tif (stock.quantity === 0) {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-outline-secondary\" disabled>\r\n\t\t\t<i class=\"bi bi-cart-x me-2\"></i>Add to cart\r\n\t\t</button>\r\n\t\t<p class=\"my-2 text-danger\"><i class=\"bi bi-exclamation-triangle me-2\"></i>Out of Stock</p>\r\n\t\t`;\r\n\t\t} else if (stock.quantity < 6) {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-primary addToCart\" data-stock-uid=\"${stock.stockUid}\">\r\n\t\t\t<i class=\"bi bi-cart-plus me-2\"></i>Add to cart\r\n\t\t</button>\r\n\t\t<p class=\"my-2 text-warning\"><i class=\"bi bi-exclamation-square me-2\"></i>Limited Stock</p>\r\n\t\t`;\r\n\t\t} else {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-primary addToCart\" data-stock-uid=\"${stock.stockUid}\">\r\n\t\t\t<i class=\"bi bi-cart-plus me-2\"></i>Add to cart\r\n\t\t</button>`;\r\n\t\t}\r\n\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<div class=\"card text-center text-decoration-none h-100\">\r\n                <a href=\"#individual-product?stockUid=${stock.stockUid}\">\r\n\t\t\t\t    <img src=\"${imageUrl}\" class=\"card-img-top\" alt=\"${product.name}\" />\r\n                </a>\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<p class=\"card-text\">${product.name} - ${product.stocks[0].variantSize}</p>\r\n\t\t\t\t\t<p class=\"card-text\">${stock.price.toFixed(2)} â‚¬</p>\r\n\t\t\t\t\t${buttonHtml}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t`;\r\n\t\treturn div;\r\n\t}\r\n\r\n\t#renderPagination() {\r\n\t\tconst paginationContainer =\r\n\t\t\tthis.#args.target.querySelector('#pagination');\r\n\t\tpaginationContainer.innerHTML = '';\r\n\r\n\t\tconst createItem = (label, page, disabled = false, active = false) => {\r\n\t\t\tconst li = document.createElement('li');\r\n\t\t\tli.className = `page-item ${disabled ? 'disabled' : ''} ${\r\n\t\t\t\tactive ? 'active' : ''\r\n\t\t\t}`;\r\n\r\n\t\t\tconst a = document.createElement('a');\r\n\t\t\ta.className = 'page-link text-color';\r\n\t\t\ta.href = '#';\r\n\t\t\ta.innerText = label;\r\n\r\n\t\t\ta.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (!disabled && this.#currentPage !== page) {\r\n\t\t\t\t\tthis.#currentPage = page;\r\n\t\t\t\t\tthis.#readData();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tli.appendChild(a);\r\n\t\t\tpaginationContainer.appendChild(li);\r\n\t\t};\r\n\r\n\t\t// Previous\r\n\t\tcreateItem('Previous', this.#currentPage - 1, this.#currentPage === 1);\r\n\r\n\t\t// Pages\r\n\t\tfor (let i = 1; i <= this.#totalPages; i++) {\r\n\t\t\tcreateItem(i, i, false, i === this.#currentPage);\r\n\t\t}\r\n\r\n\t\t// Next\r\n\t\tcreateItem(\r\n\t\t\t'Next',\r\n\t\t\tthis.#currentPage + 1,\r\n\t\t\tthis.#currentPage === this.#totalPages\r\n\t\t);\r\n\t}\r\n\r\n\t#updateShopCartTotalQuantity(targetId = null) {\r\n\t\tconst raw = localStorage.getItem('shopcart');\r\n\t\tlet totalQuantity = 0;\r\n\r\n\t\tif (raw) {\r\n\t\t\ttry {\r\n\t\t\t\tconst quantities = JSON.parse(raw);\r\n\t\t\t\tfor (const qty of Object.values(quantities)) {\r\n\t\t\t\t\tif (typeof qty === 'number' && qty > 0) {\r\n\t\t\t\t\t\ttotalQuantity += qty;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn('Invalid shopcart JSON' + e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Optional DOM update\r\n\t\tif (targetId) {\r\n\t\t\tconst el = document.getElementById(targetId);\r\n\t\t\tif (el) el.innerHTML = totalQuantity > 0 ? totalQuantity : '';\r\n\t\t}\r\n\r\n\t\treturn totalQuantity;\r\n\t}\r\n} // Class\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-all-products.js?");

/***/ }),

/***/ "./src/page-category-detail.html":
/*!***************************************!*\
  !*** ./src/page-category-detail.html ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"border-bottom-gold container-min-height\">\r\n\t<div class=\"container\" id=\"pageCategoryDetail\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1 class=\"border-bottom border-2 py-2\">\r\n\t\t\t\t\tCategories Management\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col mb-3 mt-2\">\r\n\t\t\t<i class=\"bi bi-plus pe-2 border p-2\" data-action=\"add-cat\"\r\n\t\t\t\t>Add Category</i\r\n\t\t\t>\r\n\t\t</div>\r\n\t\t<div class=\"d-lg-inline list-group py-2\" id=\"containerCategory\">\r\n\t\t\t<!-- START -->\r\n\t\t\t<div id=\"pageCategoryDetail\">\r\n\t\t\t\t<div class=\"list-group\" id=\"containerCategory\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- END -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-category-detail.html?");

/***/ }),

/***/ "./src/page-category-detail.js":
/*!*************************************!*\
  !*** ./src/page-category-detail.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageCategoryDetail)\n/* harmony export */ });\n/* harmony import */ var _page_category_detail_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-category-detail.html */ \"./src/page-category-detail.html\");\n\r\n\r\nclass PageCategoryDetail {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\t#args = null;\r\n\t#actionLock = false; // DEV\r\n\t#boundClickHandler = null;\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\tthis.#actionLock = false;\r\n\t\targs.target.innerHTML = _page_category_detail_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\tthis.#fetchCategories((categories) => {\r\n\t\t\tconst container =\r\n\t\t\t\tthis.#args.target.querySelector('#containerCategory');\r\n\t\t\tcontainer.innerHTML = this.#renderCategoryTree(categories);\r\n\t\t});\r\n\r\n\t\tconst container = this.#args.target.querySelector(\r\n\t\t\t'#pageCategoryDetail'\r\n\t\t);\r\n\t\t// COpy paste\r\n\t\tif (!this.#boundClickHandler) {\r\n\t\t\tthis.#boundClickHandler = this.#handleClick.bind(this);\r\n\t\t\tcontainer.addEventListener('click', this.#boundClickHandler);\r\n\t\t}\r\n\t}\r\n\t#handleClick(e) {\r\n\t\tconst icon = e.target.closest('i[data-action]');\r\n\t\tif (!icon) return;\r\n\r\n\t\tconst action = icon.dataset.action;\r\n\t\tconst id = parseInt(icon.dataset.id);\r\n\r\n\t\tif (this.#actionLock) return;\r\n\t\tthis.#actionLock = true;\r\n\r\n\t\tswitch (action) {\r\n\t\t\tcase 'add-cat':\r\n\t\t\t\tthis.#promptAndAddCategory();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'add-subcat':\r\n\t\t\t\tthis.#promptAndAddSubcategory(id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rename-cat':\r\n\t\t\t\tthis.#promptAndRename('Category', 'Category/Rename', id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rename-subcat':\r\n\t\t\t\tthis.#promptAndRename(\r\n\t\t\t\t\t'Subcategory',\r\n\t\t\t\t\t'Category/Subcategory/Rename',\r\n\t\t\t\t\tid\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'delete-cat':\r\n\t\t\t\tthis.#confirmAndDelete('Category', `Category/Delete/${id}`);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'delete-subcat':\r\n\t\t\t\tthis.#confirmAndDelete(\r\n\t\t\t\t\t'Subcategory',\r\n\t\t\t\t\t`Category/Subcategory/Delete/${id}`\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.#actionLock = false;\r\n\t\t}, 300);\r\n\t}\r\n\r\n\t#fetchCategories(callback) {\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success && Array.isArray(res.categoriesDTO)) {\r\n\t\t\t\t\tcallback(res.categoriesDTO);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('Invalid category response:', res);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Failed to load categories:', err.message || err);\r\n\t\t\t},\r\n\t\t\t`/Category/List`\r\n\t\t);\r\n\t}\r\n\r\n\t#renderCategoryTree(categories) {\r\n\t\tlet html = '';\r\n\r\n\t\tfor (const cat of categories) {\r\n\t\t\tconst collapseId = `multiCollapseCategorie${cat.categoryId}`;\r\n\r\n\t\t\tconst subHtml = cat.subcategories\r\n\t\t\t\t.map(\r\n\t\t\t\t\t(sub) => `\r\n\t\t\t<div class=\"list-group-item d-flex justify-content-between align-items-center ps-4\">\r\n\t\t\t\t<span>${sub.subcategoryName}</span>\r\n\t\t\t\t<div class=\"d-flex gap-2\">\r\n\t\t\t\t\t<i class=\"bi bi-pencil border p-2\" data-action=\"rename-subcat\" data-id=\"${sub.subcategoryId}\" title=\"Rename Subcategory\"></i>\r\n\t\t\t\t\t<i class=\"bi bi-trash3 border p-2\" data-action=\"delete-subcat\" data-id=\"${sub.subcategoryId}\" title=\"Delete Subcategory\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`\r\n\t\t\t\t)\r\n\t\t\t\t.join('');\r\n\r\n\t\t\thtml += `\r\n\t\t\t<div class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t<div data-bs-target=\"#${collapseId}\"\r\n\t\t\t\t\t data-bs-toggle=\"collapse\"\r\n\t\t\t\t\t aria-expanded=\"false\"\r\n\t\t\t\t\t aria-controls=\"${collapseId}\"\r\n\t\t\t\t\t class=\"hover-effect text-decoration-none flex-grow-1 py-3\">\r\n\t\t\t\t\t<i class=\"bi bi-caret-up-square pe-2\"></i>${cat.categoryName}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"d-flex gap-2 ms-2\">\r\n\t\t\t\t\t<i class=\"bi bi-plus border p-2\" data-action=\"add-subcat\" data-id=\"${cat.categoryId}\" title=\"Add Subcategory\"></i>\r\n\t\t\t\t\t<i class=\"bi bi-pencil border p-2\" data-action=\"rename-cat\" data-id=\"${cat.categoryId}\" title=\"Rename Category\"></i>\r\n\t\t\t\t\t<i class=\"bi bi-trash3 border p-2\" data-action=\"delete-cat\" data-id=\"${cat.categoryId}\" title=\"Delete Category\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"collapse multi-collapse ps-3\" id=\"${collapseId}\">\r\n\t\t\t\t${subHtml}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t\t}\r\n\r\n\t\treturn html;\r\n\t}\r\n\r\n\t#promptAndRename(type, url, id) {\r\n\t\tconst newName = prompt(`Enter new ${type} name:`)?.trim();\r\n\t\tif (!newName) return;\r\n\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success) this.#refreshCategoryList();\r\n\t\t\t\telse alert(res.message || `Failed to rename ${type}.`);\r\n\t\t\t},\r\n\t\t\t(err) => alert(err.message || `Error renaming ${type}.`),\r\n\t\t\turl,\r\n\t\t\t{ id, newName }\r\n\t\t);\r\n\t}\r\n\t#promptAndAddCategory() {\r\n\t\tconst name = prompt('Enter Category name:')?.trim();\r\n\t\tif (!name) return;\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success) this.#refreshCategoryList();\r\n\t\t\t\telse alert(res.message || 'Failed to Category.');\r\n\t\t\t},\r\n\t\t\t(err) => alert(err.message || 'Error adding Category.'),\r\n\t\t\t'Category/Add',\r\n\t\t\tname\r\n\t\t);\r\n\t}\r\n\t#promptAndAddSubcategory(categoryId) {\r\n\t\tconst name = prompt('Enter Sub-Category name:')?.trim();\r\n\t\tif (!name) return;\r\n\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success) this.#refreshCategoryList();\r\n\t\t\t\telse alert(res.message || 'Failed to add subcategory.');\r\n\t\t\t},\r\n\t\t\t(err) => alert(err.message || 'Error adding subcategory.'),\r\n\t\t\t'Category/Subcategory/Add',\r\n\t\t\t{ categoryId, name }\r\n\t\t);\r\n\t}\r\n\t#confirmAndDelete(type, url) {\r\n\t\tif (!confirm(`Delete this ${type}? This cannot be undone.`)) return;\r\n\r\n\t\tthis.#args.app.apiDeleteSomething(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success) this.#refreshCategoryList();\r\n\t\t\t\telse alert(res.message || `Failed to delete ${type}.`);\r\n\t\t\t},\r\n\t\t\t(err) => alert(err.message || `Error deleting ${type}.`),\r\n\t\t\turl\r\n\t\t);\r\n\t}\r\n\t#refreshCategoryList() {\r\n\t\tthis.#fetchCategories((categories) => {\r\n\t\t\tconst container =\r\n\t\t\t\tthis.#args.target.querySelector('#containerCategory');\r\n\t\t\tcontainer.innerHTML = this.#renderCategoryTree(categories);\r\n\t\t});\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-category-detail.js?");

/***/ }),

/***/ "./src/page-home.html":
/*!****************************!*\
  !*** ./src/page-home.html ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div id=\"heroSection\"></div>\r\n<div id=\"cardsSection\"></div>\r\n<div id=\"plantCareSection\"></div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-home.html?");

/***/ }),

/***/ "./src/page-home.js":
/*!**************************!*\
  !*** ./src/page-home.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageHome)\n/* harmony export */ });\n/* harmony import */ var _components_hero_section_hero_section__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/hero-section/hero-section */ \"./src/components/hero-section/hero-section.js\");\n/* harmony import */ var _components_cards_section_cards_section__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/cards-section/cards-section */ \"./src/components/cards-section/cards-section.js\");\n/* harmony import */ var _components_plant_care_section_plant_care_section__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/plant-care-section/plant-care-section */ \"./src/components/plant-care-section/plant-care-section.js\");\n/* harmony import */ var _page_home_html__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./page-home.html */ \"./src/page-home.html\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass PageHome {\r\n\tconstructor(args) {\r\n\t\targs.target.innerHTML = _page_home_html__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Constants\r\n\t\t//--------------------------------------------------\r\n\t\tconst heroSection = args.target.querySelector('#heroSection');\r\n\t\tconst cardsSection = args.target.querySelector('#cardsSection');\r\n\t\tconst plantCareSection = args.target.querySelector('#plantCareSection');\r\n\t\t//--------------------------------------------------\r\n\t\t// Init\r\n\t\t//--------------------------------------------------\r\n\t\tnew _components_hero_section_hero_section__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n\t\t\ttarget: heroSection,\r\n\t\t});\r\n\t\tnew _components_cards_section_cards_section__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n\t\t\ttarget: cardsSection,\r\n\t\t\tapp: args.app,\r\n\t\t});\r\n\t\tnew _components_plant_care_section_plant_care_section__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n\t\t\ttarget: plantCareSection,\r\n\t\t\tapp: args.app,\r\n\t\t});\r\n\t}\r\n} // Class\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-home.js?");

/***/ }),

/***/ "./src/page-individual-product.html":
/*!******************************************!*\
  !*** ./src/page-individual-product.html ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Imports\nvar ___HTML_LOADER_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./images/Logo (DarkMode).svg */ \"./src/images/Logo (DarkMode).svg\"), __webpack_require__.b);\n// Module\nvar code = `<div class=\"mt-5\" id=\"productSection\">\r\n\t<div class=\"container my-4\">\r\n\t\t<div class=\"row g-4 align-items-start p-3\">\r\n\t\t\t<!-- Left: Product Image (50% width on md+) -->\r\n\t\t\t<div class=\"col-12 col-md-6 text-center\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tid=\"productImage\"\r\n\t\t\t\t\tsrc=\"${___HTML_LOADER_IMPORT_0___}\"\r\n\t\t\t\t\tclass=\"img-fluid rounded shadow-sm p-4 h-auto object-fit-contain border\"\r\n\t\t\t\t\talt=\"Product Image\"\r\n\t\t\t\t\tstyle=\"max-height: 65dvh\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Right: Product Info -->\r\n\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t<h2 id=\"productName\">Product Name</h2>\r\n\t\t\t\t<h4 id=\"productCategory\" class=\"text-muted mb-3\">\r\n\t\t\t\t\tCategory Name\r\n\t\t\t\t</h4>\r\n\t\t\t\t<h5 id=\"productPrice\" class=\"text-success mb-4\">â‚¬0.00</h5>\r\n\r\n\t\t\t\t<div class=\"mb-3\">\r\n\t\t\t\t\t<span class=\"badge bg-light text-dark p-2\" id=\"productSize\"\r\n\t\t\t\t\t\t>Size Info</span\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p id=\"productVariantText\" class=\"mb-4\">\r\n\t\t\t\t\tVariant description or care instructions here.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div id=\"buttonAddToCartWrapper\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"mt-5\" id=\"plantCareSection\"></div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-individual-product.html?");

/***/ }),

/***/ "./src/page-individual-product.js":
/*!****************************************!*\
  !*** ./src/page-individual-product.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageIndividualProduct)\n/* harmony export */ });\n/* harmony import */ var _page_individual_product_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-individual-product.html */ \"./src/page-individual-product.html\");\n/* harmony import */ var _components_plant_care_section_plant_care_section__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/plant-care-section/plant-care-section */ \"./src/components/plant-care-section/plant-care-section.js\");\n\r\n\r\n\r\nclass PageIndividualProduct {\r\n\t#args = null;\r\n\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_individual_product_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\tconst plantCareSection = args.target.querySelector('#plantCareSection');\r\n\t\tthis.#fetchProductDetails(args.stockUid);\r\n\t\t// END LOAD\r\n\t\tnew _components_plant_care_section_plant_care_section__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n\t\t\ttarget: plantCareSection,\r\n\t\t\tapp: args.app,\r\n\t\t});\r\n\r\n\t\targs.target.addEventListener('click', (e) => {\r\n\t\t\tconst btn = e.target.closest('#buttonAddToCart');\r\n\t\t\tif (!btn) return;\r\n\r\n\t\t\tconst stockUid = btn.dataset.stockUid;\r\n\t\t\tif (!stockUid) return;\r\n\r\n\t\t\tconst cart = JSON.parse(localStorage.getItem('shopcart') || '{}');\r\n\r\n\t\t\tif (!cart.hasOwnProperty(stockUid)) {\r\n\t\t\t\tcart[stockUid] = (cart[stockUid] || 0) + 1;\r\n\t\t\t\tlocalStorage.setItem('shopcart', JSON.stringify(cart));\r\n\t\t\t}\r\n\t\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t\t});\r\n\t}\r\n\r\n\t#renderProductDetail(res) {\r\n\t\tconst product = res?.product;\r\n\t\tif (!product) return;\r\n\r\n\t\tconst stock = product.stocks?.[0];\r\n\t\tconst file = product.files?.[0];\r\n\r\n\t\tconst imageUrl = file\r\n\t\t\t? `data:${file.fileType};base64,${file.fileData}`\r\n\t\t\t: './images/Logo (DarkMode).svg';\r\n\r\n\t\t// Fill elements by ID\r\n\t\tdocument.getElementById('productImage').src = imageUrl;\r\n\t\tdocument.getElementById('productImage').alt = product.name;\r\n\t\tdocument.getElementById('productName').innerText = product.name;\r\n\t\tdocument.getElementById('productCategory').innerText =\r\n\t\t\tproduct.categoryName || 'Unknown Category';\r\n\t\tdocument.getElementById('productPrice').innerText =\r\n\t\t\tstock?.price != null ? `â‚¬${stock.price.toFixed(2)}` : 'â‚¬0.00';\r\n\t\tdocument.getElementById('productSize').innerText =\r\n\t\t\tstock?.variantSize || 'N/A';\r\n\t\tdocument.getElementById('productVariantText').innerText =\r\n\t\t\tstock?.variantText || '';\r\n\t\tconst buttonContainer = document.getElementById(\r\n\t\t\t'buttonAddToCartWrapper'\r\n\t\t);\r\n\r\n\t\tlet buttonHtml = '';\r\n\r\n\t\tif (stock.quantity === 0) {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-outline-secondary\" disabled>\r\n\t\t\t<i class=\"bi bi-cart-x me-2\"></i>Add to cart\r\n\t\t</button>\r\n\t\t<p class=\"my-2 text-danger\"><i class=\"bi bi-exclamation-triangle me-2\"></i>Out of Stock</p>\r\n\t`;\r\n\t\t} else if (stock.quantity < 6) {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-primary\" data-stock-uid=\"${stock.stockUid}\" id=\"buttonAddToCart\">\r\n\t\t\t<i class=\"bi bi-cart-plus me-2\"></i>Add to cart\r\n\t\t</button>\r\n\t\t<p class=\"my-2 text-warning\"><i class=\"bi bi-exclamation-square me-2\"></i>Limited Stock</p>\r\n\t`;\r\n\t\t} else {\r\n\t\t\tbuttonHtml = `\r\n\t\t<button class=\"btn btn-primary\" data-stock-uid=\"${stock.stockUid}\" id=\"buttonAddToCart\">\r\n\t\t\t<i class=\"bi bi-cart-plus me-2\"></i>Add to cart\r\n\t\t</button>`;\r\n\t\t}\r\n\r\n\t\tbuttonContainer.innerHTML = buttonHtml;\r\n\t}\r\n\r\n\t#fetchProductDetails(stockUid) {\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(res) => {\r\n\t\t\t\tthis.#renderProductDetail(res);\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Error fetching product:', err.message || err);\r\n\t\t\t},\r\n\t\t\t`/Products/${stockUid}`\r\n\t\t);\r\n\t}\r\n\r\n\t#updateShopCartTotalQuantity(targetId = null) {\r\n\t\tconst raw = localStorage.getItem('shopcart');\r\n\t\tlet totalQuantity = 0;\r\n\r\n\t\tif (raw) {\r\n\t\t\ttry {\r\n\t\t\t\tconst quantities = JSON.parse(raw);\r\n\t\t\t\tfor (const qty of Object.values(quantities)) {\r\n\t\t\t\t\tif (typeof qty === 'number' && qty > 0) {\r\n\t\t\t\t\t\ttotalQuantity += qty;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn('Invalid shopcart JSON' + e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Optional DOM update\r\n\t\tif (targetId) {\r\n\t\t\tconst el = document.getElementById(targetId);\r\n\t\t\tif (el) el.innerHTML = totalQuantity > 0 ? totalQuantity : '';\r\n\t\t}\r\n\r\n\t\treturn totalQuantity;\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-individual-product.js?");

/***/ }),

/***/ "./src/page-login.html":
/*!*****************************!*\
  !*** ./src/page-login.html ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div\r\n\tclass=\"container-min-height border-bottom-gold container-fluid d-flex justify-content-center align-items-center py-5\"\r\n>\r\n\t<div class=\"row w-100 justify-content-center\">\r\n\t\t<div\r\n\t\t\tclass=\"col-12 col-md-8 col-lg-6 p-4 border border-2 rounded-3 bg-dark-green shadow\"\r\n\t\t>\r\n\t\t\t<!-- Title & Tab Buttons -->\r\n\t\t\t<div class=\"text-center mb-4\">\r\n\t\t\t\t<h2>Welcome to Dream Plants</h2>\r\n\t\t\t\t<div class=\"btn-group mt-3\" role=\"group\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"btn btn-outline-light active text-color\"\r\n\t\t\t\t\t\tid=\"btnLoginTab\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"btn btn-outline-light text-color\"\r\n\t\t\t\t\t\tid=\"btnRegisterTab\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Form -->\r\n\t\t\t<form class=\"form-control bg-light-green border-0\" id=\"formAuth\">\r\n\t\t\t\t<!-- Register-only: First Name -->\r\n\t\t\t\t<div class=\"mb-3 d-none register-only\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<span class=\"input-group-text\"\r\n\t\t\t\t\t\t\t><i class=\"bi-person-fill\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tid=\"textFirstName\"\r\n\t\t\t\t\t\t\tplaceholder=\"First Name\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Register-only: Last Name -->\r\n\t\t\t\t<div class=\"mb-3 d-none register-only\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<span class=\"input-group-text\"\r\n\t\t\t\t\t\t\t><i class=\"bi-person-fill\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tid=\"textLastName\"\r\n\t\t\t\t\t\t\tplaceholder=\"Last Name\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Register-only: Phone -->\r\n\t\t\t\t<div class=\"mb-3 d-none register-only\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<span class=\"input-group-text\"\r\n\t\t\t\t\t\t\t><i class=\"bi-telephone-fill\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tid=\"textPhone\"\r\n\t\t\t\t\t\t\tplaceholder=\"Phone\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Email -->\r\n\t\t\t\t<div class=\"mb-3\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<span class=\"input-group-text\"\r\n\t\t\t\t\t\t\t><i class=\"bi-envelope-fill\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tminlength=\"8\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tid=\"textEmail\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"E-Mail\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Password -->\r\n\t\t\t\t<div class=\"mb-3\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<span class=\"input-group-text\"\r\n\t\t\t\t\t\t\t><i class=\"bi-key-fill\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tminlength=\"10\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tid=\"textPassword\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclass=\"btn btn-secondary bi bi-eye-fill\"\r\n\t\t\t\t\t\t\tid=\"togglePasswordVisibility\"\r\n\t\t\t\t\t\t></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Register-only: Confirm Password -->\r\n\t\t\t\t<div class=\"mb-3 d-none register-only\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<span class=\"input-group-text\"\r\n\t\t\t\t\t\t\t><i class=\"bi-key-fill\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tid=\"textConfirmPassword\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Remember Me  -->\r\n\t\t\t\t<div class=\"d-flex justify-content-center my-4\">\r\n\t\t\t\t\t<div class=\"form-check\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"form-check-input\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tid=\"checkboxRemember\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label class=\"form-check-label\" for=\"checkboxRemember\">\r\n\t\t\t\t\t\t\tKeep me logged in\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Submit Button -->\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"btn btn-primary w-100\"\r\n\t\t\t\t\t\tid=\"buttonSubmit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- Toast Notification toastMessage -->\r\n\t<div class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n\t\t<div\r\n\t\t\tid=\"toastMessage\"\r\n\t\t\tclass=\"toast align-items-center text-bg-success border-0 p-2\"\r\n\t\t\trole=\"alert\"\r\n\t\t>\r\n\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t<div class=\"toast-body\" id=\"toastBody\">Success!</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn-close btn-close-white me-2 m-auto\"\r\n\t\t\t\t\tdata-bs-dismiss=\"toast\"\r\n\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-login.html?");

/***/ }),

/***/ "./src/page-login.js":
/*!***************************!*\
  !*** ./src/page-login.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageLogin)\n/* harmony export */ });\n/* harmony import */ var _page_login_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-login.html */ \"./src/page-login.html\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n\r\n\r\n\r\nclass PageLogin {\r\n\t#args = null;\r\n\t#registerTab = null;\r\n\t#textEmail = null;\r\n\t#textPassword = null;\r\n\t#checkboxRemember = null;\r\n\t#firstName = null;\r\n\t#lastName = null;\r\n\t#phone = null;\r\n\t#toastMessage = null;\r\n\t#toastMessageBody = null;\r\n\t#actionLock = false; // DEV\r\n\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_login_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\t// TABS Login/Register\r\n\t\tthis.#textEmail = args.target.querySelector('#textEmail');\r\n\t\tthis.#textPassword = args.target.querySelector('#textPassword');\r\n\t\tthis.#firstName = args.target.querySelector('#textFirstName');\r\n\t\tthis.#lastName = args.target.querySelector('#textLastName');\r\n\t\tthis.#phone = args.target.querySelector('#textPhone');\r\n\t\tthis.#toastMessage = args.target.querySelector('#toastMessage');\r\n\t\tthis.#toastMessageBody = args.target.querySelector('#toastBody');\r\n\r\n\t\tconst loginTab = args.target.querySelector('#btnLoginTab');\r\n\t\tconst registerTab = args.target.querySelector('#btnRegisterTab');\r\n\t\tthis.#registerTab = registerTab;\r\n\t\t// Fields\r\n\t\tconst registerFields = args.target.querySelectorAll('.register-only');\r\n\t\t// Checkbox\r\n\t\tconst checkboxRemember = args.target.querySelector('#checkboxRemember');\r\n\t\tthis.#checkboxRemember = checkboxRemember;\r\n\t\tconst buttonSubmit = args.target.querySelector('#buttonSubmit');\r\n\r\n\t\t// Load saved fields if available - FINISHED\r\n\t\tthis.#loadPersistentInput('textFirstName', 'firstName');\r\n\t\tthis.#loadPersistentInput('textLastName', 'lastName');\r\n\t\tthis.#loadPersistentInput('textPhone', 'phone');\r\n\t\tthis.#loadPersistentInput('textEmail', 'email');\r\n\r\n\t\t// -----------------------------------------------------------------\r\n\t\t// EVENT LISTENERS\r\n\t\t// -----------------------------------------------------------------\r\n\r\n\t\t// Login/Register toggle - FINISHED\r\n\t\tloginTab.addEventListener('click', () => {\r\n\t\t\tloginTab.classList.add('active');\r\n\t\t\tregisterTab.classList.remove('active');\r\n\t\t\tregisterFields.forEach((el) => el.classList.add('d-none'));\r\n\t\t\tbuttonSubmit.textContent = 'Login';\r\n\t\t});\r\n\t\tregisterTab.addEventListener('click', () => {\r\n\t\t\tregisterTab.classList.add('active');\r\n\t\t\tloginTab.classList.remove('active');\r\n\t\t\tregisterFields.forEach((el) => el.classList.remove('d-none'));\r\n\t\t\tbuttonSubmit.textContent = 'Register';\r\n\t\t});\r\n\r\n\t\t// Real-time input cleanup - FINISHED\r\n\t\targs.target.querySelectorAll('input').forEach((input) => {\r\n\t\t\tinput.addEventListener('input', () => {\r\n\t\t\t\tinput.classList.remove('is-invalid');\r\n\t\t\t});\r\n\t\t});\r\n\t\t// Phone only digits - FINISHED\r\n\t\tthis.#phone.addEventListener('input', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^\\d +]/g, ''); // Remove all non-digits\r\n\t\t\t// /   /g is a negated character class:\r\n\t\t\t// \\d â†’ allows digits (0â€“9)\r\n\t\t\t//  â†’ allows space\r\n\t\t\t// + â†’ allows plus sign\r\n\t\t\t// [^...] â†’ means â€œanything not in this listâ€\r\n\t\t\t// Documentation: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#character_classes\r\n\t\t});\r\n\r\n\t\t// Show/hide password - FISNISHED\r\n\t\tconst togglePassword = args.target.querySelector(\r\n\t\t\t'#togglePasswordVisibility'\r\n\t\t);\r\n\t\ttogglePassword.addEventListener('click', () => {\r\n\t\t\t// First check if element is type\r\n\t\t\tconst isPasswordVisible = this.#textPassword.type === 'text';\r\n\t\t\tif (isPasswordVisible) {\r\n\t\t\t\tthis.#textPassword.type = 'password';\r\n\t\t\t\ttogglePassword.classList.remove('bi-eye-slash-fill');\r\n\t\t\t\ttogglePassword.classList.add('bi-eye-fill');\r\n\t\t\t} else {\r\n\t\t\t\tthis.#textPassword.type = 'text';\r\n\t\t\t\ttogglePassword.classList.remove('bi-eye-fill');\r\n\t\t\t\ttogglePassword.classList.add('bi-eye-slash-fill');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Remember Me checkbox - FINISHED\r\n\t\tconst rememberStored = localStorage.getItem('remember');\r\n\t\tcheckboxRemember.checked = rememberStored === 'true';\r\n\t\tcheckboxRemember.addEventListener('change', () => {\r\n\t\t\tlocalStorage.setItem('remember', checkboxRemember.checked);\r\n\t\t});\r\n\r\n\t\t// Enter key submit - FINISHED\r\n\t\targs.target.addEventListener('keyup', (e) => {\r\n\t\t\tif (e.key === 'Enter') {\r\n\t\t\t\tconst isTextField = e.target.matches('input, textarea');\r\n\t\t\t\tif (!isTextField) return;\r\n\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (!this.#actionLock) this.#handleSubmit();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Submit - NEEDS WORK\r\n\t\tbuttonSubmit.addEventListener('click', () => this.#handleSubmit());\r\n\t}\r\n\t// Login Handler - WOKRING ON\r\n\t#handleSubmit() {\r\n\t\tif (this.#actionLock) return;\r\n\t\tif (!this.#validateAuthForm()) return;\r\n\r\n\t\tthis.#actionLock = true;\r\n\t\tsetTimeout(() => (this.#actionLock = false), 500); //  lock\r\n\r\n\t\tconst isRegister = this.#registerTab.classList.contains('active');\r\n\t\tif (isRegister) {\r\n\t\t\tthis.#handleRegister(this.#args);\r\n\t\t\tif (!this.#checkboxRemember.checked) {\r\n\t\t\t\tlocalStorage.removeItem('email');\r\n\t\t\t}\r\n\t\t\tif (localStorage.getItem('firstName'))\r\n\t\t\t\tlocalStorage.removeItem('firstName');\r\n\t\t\tif (localStorage.getItem('lastName'))\r\n\t\t\t\tlocalStorage.removeItem('lastName');\r\n\t\t\tif (localStorage.getItem('phone')) localStorage.removeItem('phone');\r\n\t\t} else {\r\n\t\t\tthis.#handleLogin(this.#args);\r\n\t\t\tif (!this.#checkboxRemember.checked) {\r\n\t\t\t\tif (localStorage.getItem('email'))\r\n\t\t\t\t\tlocalStorage.removeItem('email');\r\n\t\t\t}\r\n\t\t\tif (localStorage.getItem('firstName'))\r\n\t\t\t\tlocalStorage.removeItem('firstName');\r\n\t\t\tif (localStorage.getItem('lastName'))\r\n\t\t\t\tlocalStorage.removeItem('lastName');\r\n\t\t\tif (localStorage.getItem('phone')) localStorage.removeItem('phone');\r\n\t\t}\r\n\t}\r\n\r\n\t// Login Handler - FINISHED\r\n\t#handleLogin(args) {\r\n\t\tconst loginData = new FormData();\r\n\t\tloginData.append('email', this.#textEmail.value.trim());\r\n\t\tloginData.append('password', this.#textPassword.value.trim());\r\n\t\tloginData.append(\r\n\t\t\t'remember',\r\n\t\t\tthis.#checkboxRemember.checked ? 'true' : 'false'\r\n\t\t);\r\n\r\n\t\targs.app.apiLogin(\r\n\t\t\t(r) => {\r\n\t\t\t\tif (r.success) {\r\n\t\t\t\t\targs.app.user = r.user;\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(r.user));\r\n\t\t\t\t\twindow.open('#home', '_self');\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(r.message);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(ex) => alert(ex),\r\n\t\t\tloginData\r\n\t\t);\r\n\t}\r\n\r\n\t#handleRegister(args) {\r\n\t\tconst registerData = new FormData();\r\n\t\tregisterData.append('email', this.#textEmail.value.trim());\r\n\t\tregisterData.append('password', this.#textPassword.value.trim());\r\n\t\tregisterData.append('firstName', this.#firstName.value.trim());\r\n\t\tregisterData.append('lastName', this.#lastName.value.trim());\r\n\t\tregisterData.append('phone', this.#phone.value.trim());\r\n\t\tregisterData.append(\r\n\t\t\t'remember',\r\n\t\t\tthis.#checkboxRemember.checked ? 'true' : 'false'\r\n\t\t);\r\n\r\n\t\targs.app.apiRegister(\r\n\t\t\t(r) => {\r\n\t\t\t\tif (r.success) {\r\n\t\t\t\t\targs.app.user = r.user;\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(r.user));\r\n\t\t\t\t\twindow.open('#home', '_self');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// TOAST MESSAGE FROM API\r\n\t\t\t\t\tthis.#toastMessageBody.textContent = r.message;\r\n\t\t\t\t\tthis.#toastMessage.classList.remove(\r\n\t\t\t\t\t\t'text-bg-success',\r\n\t\t\t\t\t\t'text-bg-danger'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.#toastMessage.classList.add(\r\n\t\t\t\t\t\tr.success ? 'text-bg-success' : 'text-bg-danger'\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tconst toast = new bootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast(this.#toastMessage);\r\n\t\t\t\t\ttoast.show();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(ex) => alert(ex),\r\n\t\t\tregisterData\r\n\t\t);\r\n\t}\r\n\t// Validation Function - FINISHED\r\n\t#validateAuthForm() {\r\n\t\t// Login Fields\r\n\t\tconst fields = [\r\n\t\t\t{ id: 'textEmail', name: 'Email' },\r\n\t\t\t{ id: 'textPassword', name: 'Password' },\r\n\t\t];\r\n\r\n\t\t// Check if register tab is active\r\n\t\tconst isRegister = this.#registerTab.classList.contains('active');\r\n\t\t// If register, add additional fields\r\n\t\tif (isRegister) {\r\n\t\t\tfields.push(\r\n\t\t\t\t{ id: 'textFirstName', name: 'First Name' },\r\n\t\t\t\t{ id: 'textLastName', name: 'Last Name' },\r\n\t\t\t\t{ id: 'textPhone', name: 'Phone' },\r\n\t\t\t\t{ id: 'textConfirmPassword', name: 'Password Again' }\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet allValid = true;\r\n\r\n\t\t// Validate each field\r\n\t\tfields.forEach(({ id, name }) => {\r\n\t\t\tconst input = document.getElementById(id);\r\n\t\t\tif (!input.value.trim()) {\r\n\t\t\t\tallValid = false;\r\n\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\tinput.placeholder = `Please enter your ${name}`;\r\n\t\t\t} else {\r\n\t\t\t\tinput.classList.remove('is-invalid');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Check password match\r\n\t\tif (isRegister) {\r\n\t\t\tconst pw = document.getElementById('textPassword').value.trim();\r\n\t\t\tconst pwconfirm = document\r\n\t\t\t\t.getElementById('textConfirmPassword')\r\n\t\t\t\t.value.trim();\r\n\t\t\tif (pw !== pwconfirm) {\r\n\t\t\t\tallValid = false;\r\n\t\t\t\tconst confirmInput = document.getElementById(\r\n\t\t\t\t\t'textConfirmPassword'\r\n\t\t\t\t);\r\n\t\t\t\tconfirmInput.classList.add('is-invalid');\r\n\t\t\t\tconfirmInput.value = '';\r\n\t\t\t\tconfirmInput.placeholder = 'Passwords do not match';\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Return TRUE\r\n\t\treturn allValid;\r\n\t}\r\n\t// Input Fields save state - FINISHED\r\n\t#loadPersistentInput(inputId, storageKey) {\r\n\t\tconst input = document.getElementById(inputId);\r\n\t\tif (!input) return;\r\n\r\n\t\t// Load saved value\r\n\t\tinput.value = localStorage.getItem(storageKey) || '';\r\n\r\n\t\t// Save value on input\r\n\t\tinput.addEventListener('input', () => {\r\n\t\t\tlocalStorage.setItem(storageKey, input.value);\r\n\t\t});\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-login.js?");

/***/ }),

/***/ "./src/page-product-detail.html":
/*!**************************************!*\
  !*** ./src/page-product-detail.html ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<section class=\"container-min-height border-bottom-gold\">\r\n\t<div class=\"container container-min-height py-4\">\r\n\t\t<div class=\"row border-bottom border-2\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1>Product Detail</h1>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row mt-3\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<!-- Category Tree -->\r\n\t\t\t\t<div class=\"col-3 d-none d-lg-inline\">\r\n\t\t\t\t\t<div class=\"mt-2\" id=\"tableCategorieTree\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- Product -->\r\n\t\t\t\t<div class=\"col-12 col-lg-9\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"accordion accordion-flush\"\r\n\t\t\t\t\t\tid=\"accordionArtikel\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"accordion-item\">\r\n\t\t\t\t\t\t\t<h2 class=\"accordion-header\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"accordion-button text-uppercase\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-target=\"#collapseOne\"\r\n\t\t\t\t\t\t\t\t\taria-expanded=\"true\"\r\n\t\t\t\t\t\t\t\t\taria-controls=\"collapseOne\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tProduct\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tid=\"collapseOne\"\r\n\t\t\t\t\t\t\t\tclass=\"accordion-collapse collapse show\"\r\n\t\t\t\t\t\t\t\tdata-bs-parent=\"#accordionProduct\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"accordion-body\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Stock Number:</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textName\">Name:</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-9\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textVariantSize\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Size:</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-9\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textVariantSize\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textVariantColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Color:</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-9\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textVariantColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Description:</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-9\">\r\n\t\t\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textVariantText\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trows=\"4\"\r\n\t\t\t\t\t\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Price:</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-9\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"textPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Product Note:</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-8 col-lg-9\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"textNote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!--  Stock History -->\r\n\t\t\t\t\t\t<div class=\"accordion-item\" id=\"accordionItem2\">\r\n\t\t\t\t\t\t\t<h2 class=\"accordion-header\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"accordion-button collapsed text-uppercase\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-target=\"#collapseTwo\"\r\n\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\taria-controls=\"collapseTwo\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tStock History\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tid=\"collapseTwo\"\r\n\t\t\t\t\t\t\t\tclass=\"accordion-collapse collapse\"\r\n\t\t\t\t\t\t\t\tdata-bs-parent=\"#accordionArtikel\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"accordion-body\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-success w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"buttonAddStock\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bi-plus-circle me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t></i\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Add Stock\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-danger w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"buttonRemoveStock\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bi-dash-circle me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t></i\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Remove Stock\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 border-top border-2 pt-2\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"fs-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Current Ammount:</span\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"fs-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"infoCurrentAmmount\"\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- Upload File -->\r\n\t\t\t\t\t\t<div class=\"accordion-item\" id=\"accordionItem3\">\r\n\t\t\t\t\t\t\t<h2 class=\"accordion-header\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"accordion-button collapsed text-uppercase\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-target=\"#collapseThree\"\r\n\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\t\taria-controls=\"collapseThree\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFile(s)\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<!-- Open Files after this -->\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tid=\"collapseThree\"\r\n\t\t\t\t\t\t\t\tclass=\"accordion-collapse collapse\"\r\n\t\t\t\t\t\t\t\tdata-bs-parent=\"#accordionProduct\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"accordion-body\">\r\n\t\t\t\t\t\t\t\t\t<!-- Display None Chose File -->\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"d-none\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"inputFile\"\r\n\t\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\t\taccept=\"image/jpeg, image/png\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"row element-clickable hover-effect\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"rowFile\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"col-12 text-center p-3\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder: 2px dashed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar(--lightGreen);\r\n\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-upload\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tUpload file(s) with Drag & Drop\r\n\t\t\t\t\t\t\t\t\t\t\t\tor click.</i\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<!-- Images Here -->\r\n\t\t\t\t\t\t\t\t\t<div class=\"row mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"row justify-content-start g-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"containerFiles\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Some Data -->\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"container-save-bar fixed-bottom py-2 bg-wifi\">\r\n\t\t\t<div class=\"position-relative\">\r\n\t\t\t\t<div class=\"container align-middle\">\r\n\t\t\t\t\t<div class=\"d-flex align-items-center justify-content-end\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\tid=\"buttonSave\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i class=\"bi bi-floppy me-2\"></i>Save\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Reusable Toast -->\r\n\t<div class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n\t\t<div\r\n\t\t\tid=\"liveToast\"\r\n\t\t\tclass=\"toast\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"assertive\"\r\n\t\t\taria-atomic=\"true\"\r\n\t\t>\r\n\t\t\t<div class=\"toast-header\">\r\n\t\t\t\t<strong class=\"me-auto\" id=\"toastTitle\">Bootstrap</strong>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\tdata-bs-dismiss=\"toast\"\r\n\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"toast-body\" id=\"toastBody\">\r\n\t\t\t\tHello, world! This is a toast message.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Offcanva -->\r\n\t<div\r\n\t\tclass=\"offcanvas offcanvas-start\"\r\n\t\ttabindex=\"-1\"\r\n\t\tid=\"mobileCategoryCanvas\"\r\n\t>\r\n\t\t<div class=\"offcanvas-header\">\r\n\t\t\t<h5 class=\"offcanvas-title\">Select Category</h5>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\tdata-bs-dismiss=\"offcanvas\"\r\n\t\t\t></button>\r\n\t\t</div>\r\n\t\t<div class=\"offcanvas-body\">\r\n\t\t\t<div id=\"mobileCategorieTree\"></div>\r\n\t\t\t<!-- Placeholder for clone -->\r\n\t\t</div>\r\n\t</div>\r\n</section>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-product-detail.html?");

/***/ }),

/***/ "./src/page-product-detail.js":
/*!************************************!*\
  !*** ./src/page-product-detail.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageProductDetail)\n/* harmony export */ });\n/* harmony import */ var _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/category-tree/category-tree */ \"./src/components/category-tree/category-tree.js\");\n/* harmony import */ var _page_product_detail_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page-product-detail.html */ \"./src/page-product-detail.html\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n\r\n\r\n\r\n\r\nclass PageProductDetail {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\t#args = null;\r\n\t#product = null;\r\n\t#stockUid = null;\r\n\r\n\t// Prefill items\r\n\t#textNumber = null;\r\n\t#textName = null;\r\n\t#textVariantSize = null;\r\n\t#textVariantColor = null;\r\n\t#textPrice = null;\r\n\t#infoCurrentAmmount = null;\r\n\t#textNote = null;\r\n\t#textVariantText = null;\r\n\t#containerFiles = null;\r\n\r\n\t#uploadedFiles = [];\r\n\t#existingFiles = []; //  DB\r\n\r\n\t#categorieTree = null;\r\n\t#mobileTree = null;\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_product_detail_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n\r\n\t\t//7 stock\r\n\t\tthis.#stockUid =\r\n\t\t\tthis.#args.stockUid ||\r\n\t\t\tnew URLSearchParams(window.location.search).get('stockUid');\r\n\t\t//--------------------------------------------------\r\n\t\t// Constants\r\n\t\t//--------------------------------------------------\r\n\t\tconst product = null;\r\n\t\tthis.#product = product;\r\n\r\n\t\t// TreeView container\r\n\t\tconst tableCategorieTree = args.target.querySelector(\r\n\t\t\t'#tableCategorieTree'\r\n\t\t);\r\n\t\tconst mobileCategorieTree = document.querySelector(\r\n\t\t\t'#mobileCategorieTree'\r\n\t\t);\r\n\r\n\t\t// Input fields\r\n\t\tconst textNumber = args.target.querySelector('#textNumber');\r\n\t\tthis.#textNumber = textNumber;\r\n\t\tconst textName = args.target.querySelector('#textName');\r\n\t\tthis.#textName = textName;\r\n\t\tconst textVariantSize = args.target.querySelector('#textVariantSize');\r\n\t\tthis.#textVariantSize = textVariantSize;\r\n\t\tconst textVariantColor = args.target.querySelector('#textVariantColor');\r\n\t\tthis.#textVariantColor = textVariantColor;\r\n\t\tconst textPrice = args.target.querySelector('#textPrice');\r\n\t\tthis.#textPrice = textPrice;\r\n\t\tconst textNote = args.target.querySelector('#textNote');\r\n\t\tthis.#textNote = textNote;\r\n\t\tconst textVariantText = args.target.querySelector('#textVariantText');\r\n\t\tthis.#textVariantText = textVariantText;\r\n\r\n\t\t// Accordion panels\r\n\t\tconst accordionItem2 = args.target.querySelector('#accordionItem2');\r\n\r\n\t\t// Stock buttons and info\r\n\t\tconst buttonAddStock = args.target.querySelector('#buttonAddStock');\r\n\t\tconst buttonRemoveStock =\r\n\t\t\targs.target.querySelector('#buttonRemoveStock');\r\n\t\tconst infoCurrentAmmount = args.target.querySelector(\r\n\t\t\t'#infoCurrentAmmount'\r\n\t\t);\r\n\t\tthis.#infoCurrentAmmount = infoCurrentAmmount;\r\n\r\n\t\t// Save\r\n\t\tconst buttonSave = args.target.querySelector('#buttonSave');\r\n\r\n\t\t// Toastie\r\n\t\tconst toastLiveExample = document.getElementById('liveToast');\r\n\t\tconst toastTitle = document.getElementById('toastTitle');\r\n\t\tconst toastBody = document.getElementById('toastBody');\r\n\r\n\t\t// File inputs (unused but declared)\r\n\t\tconst rowFile = args.target.querySelector('#rowFile');\r\n\t\tconst inputFile = args.target.querySelector('#inputFile');\r\n\t\tconst containerFiles = args.target.querySelector('#containerFiles');\r\n\t\tthis.#containerFiles = containerFiles;\r\n\t\t//--------------------------------------------------\r\n\t\t// Init\r\n\r\n\t\tconst random8Digit = Math.floor(10000000 + Math.random() * 90000000);\r\n\t\tif (this.#product == null) this.#textNumber.value = random8Digit;\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// TreeView init with single select\r\n\r\n\t\tthis.#categorieTree = new _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n\t\t\ttarget: tableCategorieTree,\r\n\t\t\tapp: args.app,\r\n\t\t\tcheckbox: true,\r\n\t\t\tsingleSelect: true,\r\n\r\n\t\t\tclick: () => {\r\n\t\t\t\t// Sync to mobile\r\n\t\t\t\tthis.#mobileTree.selectedCat = [\r\n\t\t\t\t\t...this.#categorieTree.selectedCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#mobileTree.selectedSubCat = [\r\n\t\t\t\t\t...this.#categorieTree.selectedSubCat,\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis.#mobileTree = new _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n\t\t\ttarget: mobileCategorieTree,\r\n\t\t\tapp: args.app,\r\n\t\t\tcheckbox: true,\r\n\t\t\tsingleSelect: true,\r\n\t\t\tclick: () => {\r\n\t\t\t\t// Use spread to copy the selectedCat array values from mobileTree\r\n\t\t\t\t// into a new array, avoiding shared reference - find more documentation\r\n\t\t\t\tthis.#categorieTree.selectedCat = [\r\n\t\t\t\t\t...this.#mobileTree.selectedCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#categorieTree.selectedSubCat = [\r\n\t\t\t\t\t...this.#mobileTree.selectedSubCat,\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// First load categories and product\r\n\t\targs.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\t// Pass category list to the treeview.\r\n\t\t\t\tthis.#categorieTree.categoriesList = r.categoriesList;\r\n\t\t\t\tthis.#mobileTree.categoriesList = r.categoriesList;\r\n\r\n\t\t\t\tif (args.stockUid) {\r\n\t\t\t\t\targs.app.apiGet(\r\n\t\t\t\t\t\t(successCallback) => {\r\n\t\t\t\t\t\t\tthis.#product = successCallback.product;\r\n\r\n\t\t\t\t\t\t\t// Select the product's subcategory\r\n\t\t\t\t\t\t\tconst subId = successCallback.product.subcategoryId;\r\n\t\t\t\t\t\t\tconst catId = successCallback.product.categoryId;\r\n\r\n\t\t\t\t\t\t\tthis.#categorieTree.selectedSubCat = [subId];\r\n\t\t\t\t\t\t\tthis.#categorieTree.selectedCat = [catId];\r\n\t\t\t\t\t\t\tthis.#mobileTree.selectedSubCat = [subId];\r\n\t\t\t\t\t\t\tthis.#mobileTree.selectedCat = [catId];\r\n\r\n\t\t\t\t\t\t\t// Select the parent category for visual sync\r\n\t\t\t\t\t\t\tconst parentCat = r.categoriesList.find((cat) =>\r\n\t\t\t\t\t\t\t\tcat.subcategories?.some(\r\n\t\t\t\t\t\t\t\t\t(sub) => sub.subcategoryId === subId\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (parentCat) {\r\n\t\t\t\t\t\t\t\tthis.#categorieTree.selectedCat = [\r\n\t\t\t\t\t\t\t\t\tparentCat.categoryId,\r\n\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.#refreshFields();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t(ex) => alert(ex),\r\n\t\t\t\t\t\t'/Products/' + args.stockUid\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\taccordionItem2.classList.add('d-none');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(ex) => alert(ex),\r\n\t\t\t'/page/product&categorieslist'\r\n\t\t);\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Events\r\n\t\t//--------------------------------------------------\r\n\t\ttextPrice.addEventListener('input', (e) => {\r\n\t\t\tconst val = e.target.value\r\n\t\t\t\t.replace(',', '.') // convert comma to dot\r\n\t\t\t\t.replace(/[^0-9.]/g, '') // remove non-numeric and non-dot\r\n\t\t\t\t.replace(/(\\..*?)\\..*/g, '$1'); // allow only one dot check later if you doin 1.000,29 stuff https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions/Cheatsheet\r\n\t\t\te.target.value = val;\r\n\t\t});\r\n\r\n\t\t// Trigger file picker on click\r\n\t\trowFile.addEventListener('click', () => inputFile.click());\r\n\r\n\t\t// Handle file selection via input\r\n\t\tinputFile.addEventListener('change', () => {\r\n\t\t\tthis.#handleFiles(inputFile.files);\r\n\t\t});\r\n\r\n\t\t// Handle drag/drop\r\n\t\trowFile.addEventListener('dragover', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\trowFile.classList.add('drag-over');\r\n\t\t});\r\n\t\trowFile.addEventListener('dragleave', () =>\r\n\t\t\trowFile.classList.remove('drag-over')\r\n\t\t);\r\n\t\trowFile.addEventListener('drop', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\trowFile.classList.remove('drag-over');\r\n\t\t\tthis.#handleFiles(e.dataTransfer.files);\r\n\t\t});\r\n\r\n\t\t// DEV\r\n\r\n\t\tbuttonSave.addEventListener('click', async () => {\r\n\t\t\tconst payload = await this.#prepareProductPayload();\r\n\t\t\tif (!this.#validateProductFields()) return;\r\n\r\n\t\t\t// CREATE NEW PRODUCT\r\n\t\t\tif ((!this.#product && !this.#args.stockUid) || !this.#stockUid) {\r\n\t\t\t\targs.app.apiNewSomethingPOST(\r\n\t\t\t\t\t(r) => {\r\n\t\t\t\t\t\tif (r.success) {\r\n\t\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\t\ttoastBody.innerText = r.message;\r\n\t\t\t\t\t\t\tconst toastBootstrap =\r\n\t\t\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t\t\t\tthis.#stockUid = r.stockUid;\r\n\t\t\t\t\t\t\taccordionItem2.classList.remove('d-none');\r\n\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tif (r.stockUid) {\r\n\t\t\t\t\t\t\t\t\twindow.location.hash = `product-detail?stockUid=${r.stockUid}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 2500);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttoastTitle.innerText = 'Validation Error';\r\n\t\t\t\t\t\t\ttoastBody.innerText = r.message;\r\n\t\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t\t).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\ttoastBody.innerText =\r\n\t\t\t\t\t\t\terr.message || 'Failed to save product.';\r\n\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t).show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'Products/AddProduct',\r\n\t\t\t\t\tpayload\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t// EDIT EXISTING PRODUCT\r\n\t\t\telse if (this.#args.stockUid || this.#stockUid) {\r\n\t\t\t\targs.app.apiNewSomethingPOST(\r\n\t\t\t\t\t(r) => {\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\ttoastBody.innerText = r.message;\r\n\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t).show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\ttoastBody.innerText =\r\n\t\t\t\t\t\t\terr.message || 'Failed to update product.';\r\n\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t).show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'Products/UpdateProduct/' + this.#stockUid,\r\n\t\t\t\t\tpayload\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Handle add stock\r\n\t\tbuttonAddStock.addEventListener('click', () => {\r\n\t\t\tconst amount = parseInt(\r\n\t\t\t\tprompt('Enter amount to ADD to stock:'),\r\n\t\t\t\t10\r\n\t\t\t);\r\n\t\t\tif (isNaN(amount) || amount <= 0) return alert('Invalid amount.');\r\n\t\t\tthis.#adjustStock('positiv', amount);\r\n\t\t});\r\n\r\n\t\t// Handle remove stock\r\n\t\tbuttonRemoveStock.addEventListener('click', () => {\r\n\t\t\tconst amount = parseInt(\r\n\t\t\t\tprompt('Enter amount to SUBTRACT from stock:'),\r\n\t\t\t\t10\r\n\t\t\t);\r\n\t\t\tif (isNaN(amount) || amount <= 0) return alert('Invalid amount.');\r\n\t\t\tthis.#adjustStock('negativ', amount);\r\n\t\t});\r\n\r\n\t\t// Handlke delete image\r\n\t\t// File delete (for existing DB files)\r\n\t\tthis.#containerFiles.addEventListener('click', (e) => {\r\n\t\t\tconst btn = e.target.closest('.btn-delete-file');\r\n\t\t\tif (!btn) return;\r\n\r\n\t\t\tconst tempId = btn.dataset.tempId;\r\n\t\t\tif (tempId) {\r\n\t\t\t\tthis.#uploadedFiles = this.#uploadedFiles.filter(\r\n\t\t\t\t\t(_, i) => `temp-${i}` !== tempId\r\n\t\t\t\t);\r\n\t\t\t\tconst fileCard = btn.closest(`[data-temp-id-card=\"${tempId}\"]`);\r\n\t\t\t\tif (fileCard) fileCard.remove();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//  Existing DB file\r\n\t\t\tconst fileId = btn.dataset.fileId;\r\n\t\t\tif (fileId && confirm('Delete this image?')) {\r\n\t\t\t\tthis.#existingFiles = this.#existingFiles.filter(\r\n\t\t\t\t\t(f) => f.fileId != fileId\r\n\t\t\t\t);\r\n\t\t\t\tthis.#args.app.apiDeleteSomething(\r\n\t\t\t\t\t(r) => {\r\n\t\t\t\t\t\t// THIS IS WHAT YOU NEED TO FIX  !! CHECK BAK LATER !!\r\n\t\t\t\t\t\tconst fileCard = btn.closest(\r\n\t\t\t\t\t\t\t`[data-file-id=\"${fileId}\"]`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (fileCard) fileCard.remove();\r\n\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\ttoastBody.innerText = r.message;\r\n\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t).show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\ttoastBody.innerText = err.message;\r\n\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t).show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t`Products/DeleteFile/${fileId}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t} // Constructor\r\n\r\n\t#refreshFields() {\r\n\t\tif (this.#product != null) {\r\n\t\t\t// Fill fields\r\n\t\t\tthis.#textNumber.value = this.#product.stocks[0].stockNumber || '';\r\n\t\t\tthis.#textName.value = this.#product.name || '';\r\n\t\t\tthis.#textVariantSize.value =\r\n\t\t\t\tthis.#product.stocks[0].variantSize || '';\r\n\t\t\tthis.#textVariantColor.value =\r\n\t\t\t\tthis.#product.stocks[0].variantColor || '';\r\n\t\t\tthis.#textVariantText.value =\r\n\t\t\t\tthis.#product.stocks[0].variantText || '';\r\n\t\t\tthis.#infoCurrentAmmount.innerHTML =\r\n\t\t\t\tthis.#product.stocks[0].quantity ?? '';\r\n\t\t\tthis.#textPrice.value =\r\n\t\t\t\tthis.#product.stocks[0].price != null\r\n\t\t\t\t\t? parseFloat(this.#product.stocks[0].price).toFixed(2)\r\n\t\t\t\t\t: '';\r\n\t\t\tthis.#textNote.value = this.#product.stocks[0].note || '';\r\n\t\t}\r\n\r\n\t\tif (this.#product.files?.length > 0) {\r\n\t\t\tthis.#containerFiles.innerHTML = ''; // clear before inserting\r\n\t\t\tthis.#existingFiles = [...this.#product.files]; //fucking ...\r\n\r\n\t\t\tthis.#product.files.forEach((file) => {\r\n\t\t\t\tconst base64 = `data:${file.fileType};base64,${file.fileData}`;\r\n\t\t\t\tconst html = `\r\n\t\t\t<div class=\"col-12 col-sm-6 col-md-4 col-xl-3\" data-temp-id-card=\"${file.fileId}\">\r\n\t\t\t\t<div class=\"card text-center h-100\">\r\n\t\t\t\t\t<img src=\"${base64}\" class=\"card-img-top\" alt=\"${file.fileName}\" />\r\n\t\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t\t<p class=\"card-text\">${file.fileName}</p>\r\n\t\t\t\t\t\t<button class=\"btn btn-sm btn-danger btn-delete-file\" data-file-id=\"${file.fileId}\">\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t`;\r\n\t\t\t\tthis.#containerFiles.insertAdjacentHTML('beforeend', html);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync #prepareProductPayload() {\r\n\t\t// you need away for the promise so you dont mingle the files\r\n\t\tconst files = this.#uploadedFiles;\r\n\r\n\t\t// cant use this.#categorieTree.selectedCat[] because u got more then 1 cat open at a time. check with the subcat id as i cant have more then 1 subid be the same in databank for the correct catid.\r\n\t\tconst selectedSubCatId = this.#categorieTree.selectedSubCat[0];\r\n\r\n\t\tlet categoryId = -1; // Default to -1 if nothing is selected\r\n\r\n\t\tif (selectedSubCatId) {\r\n\t\t\tconst input = document.querySelector(\r\n\t\t\t\t`#checkbox_${selectedSubCatId}`\r\n\t\t\t);\r\n\t\t\tif (input && input.dataset.catId) {\r\n\t\t\t\tconst parsed = parseInt(input.dataset.catId);\r\n\t\t\t\tif (!isNaN(parsed)) {\r\n\t\t\t\t\tcategoryId = parsed;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst fileDTOs = await Promise.all(\r\n\t\t\tfiles.map(\r\n\t\t\t\t(file) =>\r\n\t\t\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\t\t\treader.onload = () => {\r\n\t\t\t\t\t\t\tconst base64 = reader.result.split(',')[1];\r\n\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\tfileName: file.name,\r\n\t\t\t\t\t\t\t\tfileType: file.type,\r\n\t\t\t\t\t\t\t\tfileData: base64,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\treader.onerror = reject;\r\n\t\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\t})\r\n\t\t\t)\r\n\t\t);\r\n\t\treturn {\r\n\t\t\tname: this.#textName.value,\r\n\t\t\tsubcategoryId: this.#categorieTree.selectedSubCat[0],\r\n\t\t\tcategoryId: categoryId,\r\n\t\t\tstocks: [\r\n\t\t\t\t{\r\n\t\t\t\t\tstockNumber: this.#textNumber.value,\r\n\t\t\t\t\tvariantSize: this.#textVariantSize.value,\r\n\t\t\t\t\tvariantColor: this.#textVariantColor.value,\r\n\t\t\t\t\tvariantText: this.#textVariantText.value,\r\n\t\t\t\t\tprice:\r\n\t\t\t\t\t\tthis.#textPrice.value.trim() !== ''\r\n\t\t\t\t\t\t\t? parseFloat(this.#textPrice.value)\r\n\t\t\t\t\t\t\t: null,\r\n\r\n\t\t\t\t\tquantity: this.#product?.stocks?.[0]?.quantity ?? 0, // DEV\r\n\t\t\t\t\tnote: this.#textNote.value,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tfiles: [\r\n\t\t\t\t...this.#existingFiles, //From DB\r\n\t\t\t\t...fileDTOs, // newly uploaded\r\n\t\t\t],\r\n\t\t};\r\n\t}\r\n\r\n\t#handleFiles(fileList) {\r\n\t\tthis.#uploadedFiles.push(...fileList); // âœ… Append instead of replace\r\n\r\n\t\tconst currentCount =\r\n\t\t\tthis.#containerFiles.querySelectorAll('[data-temp-id]').length;\r\n\r\n\t\tArray.from(fileList).forEach((file, index) => {\r\n\t\t\tif (!file.type.startsWith('image/')) return;\r\n\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tconst tempId = `temp-${currentCount + index}`; // Make sure IDs stay unique\r\n\t\t\t\tconst html = `\r\n\t\t\t\t<div class=\"col-12 col-sm-6 col-md-4 col-xl-3\" data-temp-id-card=\"${tempId}\">\r\n\t\t\t\t\t<div class=\"card text-center h-100\">\r\n\t\t\t\t\t\t<img src=\"${e.target.result}\" class=\"card-img-top\" alt=\"${file.name}\" />\r\n\t\t\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t\t\t<p class=\"card-text\">${file.name}</p>\r\n\t\t\t\t\t\t\t<button class=\"btn btn-sm btn-danger btn-delete-file\" data-temp-id=\"${tempId}\">\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\t\tthis.#containerFiles.insertAdjacentHTML('beforeend', html);\r\n\t\t\t};\r\n\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t});\r\n\t}\r\n\r\n\t#validateProductFields() {\r\n\t\tconst name = this.#textName.value.trim();\r\n\t\tconst variantSize = this.#textVariantSize.value.trim();\r\n\t\tconst variantColor = this.#textVariantColor.value.trim();\r\n\t\tconst priceString = this.#textPrice.value.trim();\r\n\t\tconst priceIntCheck = parseFloat(priceString);\r\n\r\n\t\tfunction showErrorPopover(inputElement, message) {\r\n\t\t\tconst existing = bootstrap__WEBPACK_IMPORTED_MODULE_2__.Popover.getInstance(inputElement);\r\n\t\t\tif (existing) existing.dispose();\r\n\r\n\t\t\tconst popover = new bootstrap__WEBPACK_IMPORTED_MODULE_2__.Popover(inputElement, {\r\n\t\t\t\tcontent: message,\r\n\t\t\t\ttrigger: 'manual',\r\n\t\t\t\tplacement: 'top',\r\n\t\t\t\tcustomClass: 'popover-error',\r\n\t\t\t});\r\n\r\n\t\t\tpopover.show();\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tpopover.hide();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\r\n\t\tconst fields = [this.#textName, this.#textVariantSize, this.#textPrice];\r\n\t\tlet valid = true;\r\n\r\n\t\tfields.forEach((element) => {\r\n\t\t\tif (element == this.#textName && !name) {\r\n\t\t\t\tshowErrorPopover(this.#textName, 'Product name is required.');\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\telement == this.#textVariantSize &&\r\n\t\t\t\t!variantSize &&\r\n\t\t\t\t!variantColor\r\n\t\t\t) {\r\n\t\t\t\tshowErrorPopover(\r\n\t\t\t\t\tthis.#textVariantColor,\r\n\t\t\t\t\t'Product Variant (Size or Color) is required.'\r\n\t\t\t\t);\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (element == this.#textPrice) {\r\n\t\t\t\tif (!priceString) {\r\n\t\t\t\t\tshowErrorPopover(\r\n\t\t\t\t\t\tthis.#textPrice,\r\n\t\t\t\t\t\t'Product price is required.'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tvalid = false;\r\n\t\t\t\t} else if (isNaN(priceIntCheck) || priceIntCheck <= 0) {\r\n\t\t\t\t\tshowErrorPopover(\r\n\t\t\t\t\t\tthis.#textPrice,\r\n\t\t\t\t\t\t'Price must be a valid positive number.'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tvalid = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn valid;\r\n\t}\r\n\r\n\t#adjustStock(adjustType, amount) {\r\n\t\tconst stockUid = this.#product?.stocks[0]?.stockUid;\r\n\t\tif (!stockUid) return alert('Stock UID missing.');\r\n\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(r) => {\r\n\t\t\t\tconst toast = bootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\tdocument.getElementById('liveToast')\r\n\t\t\t\t);\r\n\t\t\t\tdocument.getElementById('toastTitle').innerText =\r\n\t\t\t\t\t'Stock Update';\r\n\t\t\t\tdocument.getElementById('toastBody').innerText = r.message;\r\n\t\t\t\ttoast.show();\r\n\r\n\t\t\t\tif (r.success) {\r\n\t\t\t\t\tthis.#infoCurrentAmmount.innerText = r.newQuantity ?? '0';\r\n\t\t\t\t\tthis.#product.stocks[0].quantity = r.newQuantity;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\talert('Stock update failed.');\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t},\r\n\t\t\t`Products/AdjustStock/${adjustType}`,\r\n\t\t\t{ stockUid, amount }\r\n\t\t);\r\n\t}\r\n} // Class\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-product-detail.js?");

/***/ }),

/***/ "./src/page-products.html":
/*!********************************!*\
  !*** ./src/page-products.html ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container-min-height border-bottom-gold\">\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1 class=\"border-bottom border-2 py-2 m-0\">\r\n\t\t\t\t\tProducts Management\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row\">\r\n\t\t\t<!-- Categorie Tree -->\r\n\t\t\t<!-- <div class=\"col-xl-3 d-lg-inline\"> -->\r\n\t\t\t<div class=\"col-xl-3 d-none d-xl-block\">\r\n\t\t\t\t<a class=\"btn btn-secondary w-100 mt-4\" id=\"clearCatFilter\"\r\n\t\t\t\t\t><i class=\"bi bi-x-square pe-2\"></i>Clear Selected\r\n\t\t\t\t\tCategory</a\r\n\t\t\t\t>\r\n\t\t\t\t<div class=\"mt-2\" id=\"tableCategorieTree\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- Right Table -->\r\n\t\t\t<div class=\"col-12 col-xl-9\">\r\n\t\t\t\t<div class=\"row mt-4\">\r\n\t\t\t\t\t<div class=\"col-12\">\r\n\t\t\t\t\t\t<!-- TABLE  -->\r\n\t\t\t\t\t\t<div class=\"table-responsive\">\r\n\t\t\t\t\t\t\t<table\r\n\t\t\t\t\t\t\t\tclass=\"table table-striped table-hover table-bordered mb-0\"\r\n\t\t\t\t\t\t\t\tid=\"tableProducts\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr class=\"dreamPlantsTableRow\">\r\n\t\t\t\t\t\t\t\t\t\t<th\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dreamPlantsTableHead1\"\r\n\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"#product-detail\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t><i class=\"bi-plus-lg me-2\"></i\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Neu Product</a\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tNumber\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tSize\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tPrice\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tQuantity\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tCategorie\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\tSubcategorie\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<!-- Insert Products -->\r\n\t\t\t\t\t\t\t\t<tbody></tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- PAGINATION -->\r\n\t\t\t\t\t\t<nav\r\n\t\t\t\t\t\t\taria-label=\"Page navigation\"\r\n\t\t\t\t\t\t\tclass=\"d-flex justify-content-center my-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ul id=\"pagination\" class=\"pagination m-0\"></ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Reusable Toast -->\r\n\t<div class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n\t\t<div\r\n\t\t\tid=\"liveToast\"\r\n\t\t\tclass=\"toast\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"assertive\"\r\n\t\t\taria-atomic=\"true\"\r\n\t\t>\r\n\t\t\t<div class=\"toast-header\">\r\n\t\t\t\t<strong class=\"me-auto\" id=\"toastTitle\">Bootstrap</strong>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\tdata-bs-dismiss=\"toast\"\r\n\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"toast-body\" id=\"toastBody\">\r\n\t\t\t\tHello, world! This is a toast message.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div\r\n\t\tclass=\"offcanvas offcanvas-start\"\r\n\t\ttabindex=\"-1\"\r\n\t\tid=\"mobileCategoryCanvas\"\r\n\t>\r\n\t\t<div class=\"offcanvas-header\">\r\n\t\t\t<h5 class=\"offcanvas-title\">Filter Categories</h5>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\tdata-bs-dismiss=\"offcanvas\"\r\n\t\t\t></button>\r\n\t\t</div>\r\n\t\t<div class=\"offcanvas-body\">\r\n\t\t\t<div id=\"mobileCategorieTree\"></div>\r\n\t\t\t<!-- Placeholder for clone -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-products.html?");

/***/ }),

/***/ "./src/page-products.js":
/*!******************************!*\
  !*** ./src/page-products.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageProducts)\n/* harmony export */ });\n/* harmony import */ var _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/category-tree/category-tree */ \"./src/components/category-tree/category-tree.js\");\n/* harmony import */ var _page_products_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page-products.html */ \"./src/page-products.html\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n\r\n\r\n\r\n\r\nclass PageProducts {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\r\n\t#args = null;\r\n\t#productList = null;\r\n\t#categoriesList = null;\r\n\t#categorieTree = null;\r\n\t#mobileTree = null;\r\n\t#currentPage = 1;\r\n\t#totalPages = 1;\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_products_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n\t\t//--------------------------------------------------\r\n\t\t// Constants\r\n\t\t//--------------------------------------------------\r\n\t\tconst tableProducts = args.target.querySelector('#tableProducts>tbody');\r\n\t\tconst tableCategorieTree = args.target.querySelector(\r\n\t\t\t'#tableCategorieTree'\r\n\t\t);\r\n\t\tconst clearCatFilter = args.target.querySelector('#clearCatFilter');\r\n\r\n\t\t// Toastie\r\n\t\tconst toastLiveExample = document.getElementById('liveToast');\r\n\t\tconst toastTitle = document.getElementById('toastTitle');\r\n\t\tconst toastBody = document.getElementById('toastBody');\r\n\r\n\t\t//offCanva\r\n\t\tconst mobileCategorieTree = document.querySelector(\r\n\t\t\t'#mobileCategorieTree'\r\n\t\t);\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Init\r\n\t\t//--------------------------------------------------\r\n\t\tthis.#categorieTree = new _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n\t\t\ttarget: tableCategorieTree,\r\n\t\t\tapp: args.app,\r\n\t\t\tcheckbox: false,\r\n\t\t\tclick: () => {\r\n\t\t\t\tthis.#currentPage = 1;\r\n\t\t\t\t// Sync to mobile\r\n\t\t\t\tthis.#mobileTree.selectedCat = [\r\n\t\t\t\t\t...this.#categorieTree.selectedCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#mobileTree.selectedSubCat = [\r\n\t\t\t\t\t...this.#categorieTree.selectedSubCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#readData();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis.#mobileTree = new _components_category_tree_category_tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n\t\t\ttarget: mobileCategorieTree,\r\n\t\t\tapp: args.app,\r\n\t\t\tcheckbox: false,\r\n\t\t\tclick: () => {\r\n\t\t\t\tthis.#currentPage = 1;\r\n\t\t\t\t// Use spread to copy the selectedCat array values from mobileTree\r\n\t\t\t\t// into a new array, avoiding shared reference - find more documentation\r\n\t\t\t\tthis.#categorieTree.selectedCat = [\r\n\t\t\t\t\t...this.#mobileTree.selectedCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#categorieTree.selectedSubCat = [\r\n\t\t\t\t\t...this.#mobileTree.selectedSubCat,\r\n\t\t\t\t];\r\n\t\t\t\tthis.#readData();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\targs.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\tthis.#categorieTree.categoriesList = r.categoriesList;\r\n\t\t\t\tthis.#mobileTree.categoriesList = r.categoriesList;\r\n\r\n\t\t\t\tthis.#readData(); // load data only after TreeView is ready\r\n\t\t\t},\r\n\t\t\t(ex) => alert('Failed to load categories.'),\r\n\t\t\t'/page/product&categorieslist' // or a separate category-only endpoint\r\n\t\t);\r\n\r\n\t\tthis.#readData();\r\n\r\n\t\t//--------------------------------------------------\r\n\t\t// Event Listener\r\n\t\t//--------------------------------------------------\r\n\t\tclearCatFilter.addEventListener('click', () => {\r\n\t\t\tthis.#categorieTree.selectedCat = [];\r\n\t\t\tthis.#categorieTree.selectedSubCat = [];\r\n\t\t\tthis.#currentPage = 1;\r\n\t\t\tthis.#readData();\r\n\t\t});\r\n\r\n\t\ttableProducts.addEventListener('click', (e) => {\r\n\t\t\tlet btn = null;\r\n\r\n\t\t\tif (e.target.nodeName == 'BUTTON') {\r\n\t\t\t\tbtn = e.target;\r\n\t\t\t} else if (\r\n\t\t\t\te.target.nodeName == 'I' &&\r\n\t\t\t\te.target.parentElement.nodeName == 'BUTTON'\r\n\t\t\t)\r\n\t\t\t\tbtn = e.target.parentElement;\r\n\t\t\tif (btn) {\r\n\t\t\t\tif (btn.dataset.aktion == 'del') {\r\n\t\t\t\t\tif (confirm('Are you sure you wish to delete?')) {\r\n\t\t\t\t\t\targs.app.apiDeleteSomething(\r\n\t\t\t\t\t\t\t(r) => {\r\n\t\t\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\t\t\ttoastBody.innerText = r.message;\r\n\t\t\t\t\t\t\t\tconst toastBootstrap =\r\n\t\t\t\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t\t\t\t\tthis.#readData();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\t\t\ttoastTitle.innerText = 'Product Detail:';\r\n\t\t\t\t\t\t\t\ttoastBody.innerText = err.message;\r\n\t\t\t\t\t\t\t\tconst toastBootstrap =\r\n\t\t\t\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_2__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t'Products/DeleteProduct/' + btn.dataset.id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twindow.open(\r\n\t\t\t\t\t'#product-detail?stockUid=' +\r\n\t\t\t\t\t\te.target.parentElement.dataset.stockUid,\r\n\t\t\t\t\t'_self'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//--------------------------------------------------\r\n\t// Private Methods\r\n\t//--------------------------------------------------\r\n\r\n\t#readData() {\r\n\t\tconst tableProducts = this.#args.target.querySelector(\r\n\t\t\t'#tableProducts>tbody'\r\n\t\t);\r\n\t\tconst selectedCats = this.#categorieTree.selectedCat;\r\n\t\tconst selectedSubcats = this.#categorieTree.selectedSubCat;\r\n\t\tconst catParam = selectedCats.join(',');\r\n\t\tconst subcatParam = selectedSubcats.join(',');\r\n\t\tconst query = `/page/product&categorieslist/Paginated?page=${\r\n\t\t\tthis.#currentPage\r\n\t\t}&pageSize=9&catIds=${catParam}&subcatIds=${subcatParam}`;\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\tthis.#productList = r.items;\r\n\t\t\t\tthis.#totalPages = Math.ceil(r.totalCount / r.pageSize);\r\n\t\t\t\ttableProducts.innerHTML = this.#createTableTow();\r\n\t\t\t\tthis.#renderPagination();\r\n\t\t\t},\r\n\t\t\t(ex) => {\r\n\t\t\t\talert(ex.message || ex);\r\n\t\t\t},\r\n\t\t\tquery\r\n\t\t);\r\n\t}\r\n\r\n\t#createTableTow() {\r\n\t\tlet html = '';\r\n\t\tfor (const product of this.#productList) {\r\n\t\t\tif (product.stocks.length === 1) {\r\n\t\t\t\t// Products with with 1 stock\r\n\t\t\t\tconst stock = product.stocks[0];\r\n\t\t\t\tconst quantityClass =\r\n\t\t\t\t\tstock.quantity === 0\r\n\t\t\t\t\t\t? 'popover-error'\r\n\t\t\t\t\t\t: stock.quantity < 10\r\n\t\t\t\t\t\t? 'popover-warning'\r\n\t\t\t\t\t\t: '';\r\n\t\t\t\thtml += `\r\n\t\t\t\t\t\t<tr data-stock-uid=\"${stock.stockUid}\" >\r\n\t\t\t\t\t\t\t<td class=\"text-center\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" data-aktion=\"del\" data-id=\"${stock.stockUid}\"><i class=\"bi-trash\"></i></button>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${stock.stockUid}</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${product.name}</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${stock.variantSize}</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${stock.price} â‚¬</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center ${quantityClass}\">${stock.quantity}</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${product.categoryName}</td>\r\n\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${product.subcategoryName}</td>\r\n\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t`;\r\n\t\t\t} else if (product.stocks.length > 1) {\r\n\t\t\t\t// Products with more then 1 stock.. for future remember other variantes not just size.\r\n\r\n\t\t\t\tfor (const stocks of product.stocks) {\r\n\t\t\t\t\tconst quantityClass =\r\n\t\t\t\t\t\tstocks.quantity === 0\r\n\t\t\t\t\t\t\t? 'popover-error'\r\n\t\t\t\t\t\t\t: stocks.quantity < 10\r\n\t\t\t\t\t\t\t? 'popover-warning'\r\n\t\t\t\t\t\t\t: '';\r\n\t\t\t\t\thtml += `\r\n\t\t\t\t\t\t\t<tr data-stock-uid=\"${stocks.stockUid}\">\r\n\t\t\t\t\t\t\t\t<td class=\"text-center\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" data-aktion=\"del\" data-id=\"${stocks.stockUid}\"><i class=\"bi-trash\"></i></button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${stocks.stockUid}</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${product.name}</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${stocks.variantSize}</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${stocks.price} â‚¬</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center ${quantityClass}\">${stocks.quantity}</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${product.categoryName}</td>\r\n\t\t\t\t\t\t\t\t<td class=\"element-clickable pt-3 text-center\">${product.subcategoryName}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn html;\r\n\t} // createTableTow\r\n\r\n\t#renderPagination() {\r\n\t\tconst paginationContainer =\r\n\t\t\tthis.#args.target.querySelector('#pagination');\r\n\t\tpaginationContainer.innerHTML = '';\r\n\r\n\t\tconst createItem = (label, page, disabled = false, active = false) => {\r\n\t\t\tconst li = document.createElement('li');\r\n\t\t\tli.className = `page-item ${disabled ? 'disabled' : ''} ${\r\n\t\t\t\tactive ? 'active' : ''\r\n\t\t\t}`;\r\n\r\n\t\t\tconst a = document.createElement('a');\r\n\t\t\ta.className = 'page-link text-color';\r\n\t\t\ta.href = '#';\r\n\t\t\ta.innerText = label;\r\n\r\n\t\t\ta.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (!disabled && this.#currentPage !== page) {\r\n\t\t\t\t\tthis.#currentPage = page;\r\n\t\t\t\t\tthis.#readData();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tli.appendChild(a);\r\n\t\t\tpaginationContainer.appendChild(li);\r\n\t\t};\r\n\r\n\t\t// Previous\r\n\t\tcreateItem('Previous', this.#currentPage - 1, this.#currentPage === 1);\r\n\r\n\t\t// Pages\r\n\t\tfor (let i = 1; i <= this.#totalPages; i++) {\r\n\t\t\tcreateItem(i, i, false, i === this.#currentPage);\r\n\t\t}\r\n\r\n\t\t// Next\r\n\t\tcreateItem(\r\n\t\t\t'Next',\r\n\t\t\tthis.#currentPage + 1,\r\n\t\t\tthis.#currentPage === this.#totalPages\r\n\t\t);\r\n\t}\r\n} // Class\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-products.js?");

/***/ }),

/***/ "./src/page-shopcart.html":
/*!********************************!*\
  !*** ./src/page-shopcart.html ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<section class=\"h-100 h-custom border-bottom-gold\">\r\n\t<div class=\"container py-5 h-100\">\r\n\t\t<!-- shopcart PRE Register -->\r\n\t\t<div class=\"row d-flex justify-content-center align-items-center my-3\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"card card-registration card-registration-2\"\r\n\t\t\t\t\tstyle=\"border-radius: 15px\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"card-body p-0\" style=\"border-radius: 15px\">\r\n\t\t\t\t\t\t<div class=\"row g-0\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-lg-8\"\r\n\t\t\t\t\t\t\t\tstyle=\"border-radius: 15px 0 0 15px\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"p-5\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"d-flex justify-content-between align-items-center mb-5\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<h1 class=\"fw-bold mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\tShopping Cart\r\n\t\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"d-flex align-items-center gap-1\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-0 text-muted\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"shopCardItemCount\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-0 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\titems\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div id=\"shopCartItemsTarget\"></div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"pt-5\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"#home-page\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-body\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t><i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"fas fa-long-arrow-alt-left me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t></i\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Back to shop</a\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- SUMMARYX -->\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-lg-4 bg-body-tertiary\"\r\n\t\t\t\t\t\t\t\tstyle=\"border-radius: 0 15px 15px 0\"\r\n\t\t\t\t\t\t\t\tid=\"shopCartSummaryTarget\"\r\n\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Reusable Toast -->\r\n\t<div class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n\t\t<div\r\n\t\t\tid=\"liveToast\"\r\n\t\t\tclass=\"toast\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"assertive\"\r\n\t\t\taria-atomic=\"true\"\r\n\t\t>\r\n\t\t\t<div class=\"toast-header\">\r\n\t\t\t\t<strong class=\"me-auto\" id=\"toastTitle\">Bootstrap</strong>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\tdata-bs-dismiss=\"toast\"\r\n\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"toast-body\" id=\"toastBody\">\r\n\t\t\t\tHello, world! This is a toast message.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</section>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-shopcart.html?");

/***/ }),

/***/ "./src/page-shopcart.js":
/*!******************************!*\
  !*** ./src/page-shopcart.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageShopCart)\n/* harmony export */ });\n/* harmony import */ var _page_shopcart_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-shopcart.html */ \"./src/page-shopcart.html\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n\r\n\r\n\r\nclass PageShopCart {\r\n\t#args = null;\r\n\t#cart = [];\r\n\t#shopCartItemsTarget = null;\r\n\t#shopCardItemCount = null;\r\n\r\n\t#shopcartItemsPrice = null;\r\n\t#shopcartTotalPrice = null;\r\n\t#shopcartFreeShipping;\r\n\t#freeShippingAmmount;\r\n\t#quantities = {};\r\n\t#btnPlaceOrder;\r\n\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_shopcart_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\tthis.#btnPlaceOrder = document.getElementById('btnPlaceOrder');\r\n\r\n\t\tif (!this.#args.app.user) {\r\n\t\t\tthis.#insertSummaryForGuest('shopCartSummaryTarget');\r\n\t\t} else {\r\n\t\t\tthis.#insertSummaryForUser('shopCartSummaryTarget');\r\n\t\t}\r\n\t\tthis.#shopCartItemsTarget = document.querySelector(\r\n\t\t\t'#shopCartItemsTarget'\r\n\t\t);\r\n\t\tthis.#shopCardItemCount = document.getElementById('shopCardItemCount');\r\n\t\tthis.#shopcartItemsPrice =\r\n\t\t\tdocument.getElementById('shopcartItemsPrice');\r\n\t\tthis.#shopcartTotalPrice =\r\n\t\t\tdocument.getElementById('shopcartTotalPrice');\r\n\t\tthis.#shopcartFreeShipping = document.getElementById(\r\n\t\t\t'shopcartFreeShipping'\r\n\t\t);\r\n\r\n\t\t// INIT\r\n\r\n\t\tconst rawCart = localStorage.getItem('shopcart');\r\n\t\ttry {\r\n\t\t\tconst cartObj = JSON.parse(rawCart) || {};\r\n\t\t\tthis.#cart = Object.keys(cartObj); // extract stockUids as array\r\n\t\t\tthis.#quantities = cartObj;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn('Invalid cart data' + e);\r\n\t\t\tthis.#cart = [];\r\n\t\t\tthis.#quantities = {};\r\n\t\t}\r\n\r\n\t\tif (this.#cart.length > 0) {\r\n\t\t\tthis.#fetchCartItems(this.#cart);\r\n\t\t} else {\r\n\t\t\tthis.#shopCartItemsTarget.innerHTML = '<p>Your cart is empty.</p>';\r\n\t\t\tthis.#shopCardItemCount.innerHTML = '0 items';\r\n\t\t}\r\n\r\n\t\t// DEV\r\n\t\tthis.#updateShopCartTotalQuantity('shopCardItemCount');\r\n\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t} // COnstructor\r\n\r\n\t#fetchCartItems() {\r\n\t\tconst cartRaw = localStorage.getItem('shopcart');\r\n\t\tif (!cartRaw) {\r\n\t\t\tconsole.warn('No items in cart');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet stockUidList;\r\n\t\ttry {\r\n\t\t\tconst cartObj = JSON.parse(cartRaw);\r\n\t\t\tstockUidList = Object.keys(cartObj); // Get only stockUids\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn('Invalid cart data' + e);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (stockUidList.length === 0) return;\r\n\r\n\t\tconst query = `/page/product&categorieslist/Paginated?stockUids=${stockUidList.join(\r\n\t\t\t','\r\n\t\t)}&pageSize=100`;\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(r) => {\r\n\t\t\t\tthis.#renderCartItems(r.items);\r\n\t\t\t},\r\n\t\t\t(err) => console.error('Failed to fetch cart items', err),\r\n\t\t\tquery\r\n\t\t);\r\n\t}\r\n\r\n\t#renderCartItems(items) {\r\n\t\tthis.#shopCartItemsTarget.innerHTML = '';\r\n\t\tlet html = '';\r\n\r\n\t\t// Load quantities from localStorage\r\n\t\tconst storedQuantities = this.#getStoredQuantities();\r\n\r\n\t\tfor (const item of items) {\r\n\t\t\tconst file = item.files?.[0];\r\n\t\t\tconst stock = item.stocks?.[0];\r\n\t\t\tif (!stock) continue;\r\n\r\n\t\t\t// Use stored quantity or default to 1\r\n\t\t\tconst quantity = parseInt(storedQuantities[stock.stockUid]) || 1;\r\n\t\t\tthis.#quantities[stock.stockUid] = quantity;\r\n\r\n\t\t\tconst imageSrc = file\r\n\t\t\t\t? `data:image/${file.fileType};base64,${file.fileBase64}`\r\n\t\t\t\t: './../../src/images/Logo (DarkMode).svg';\r\n\r\n\t\t\tconst stockMessage =\r\n\t\t\t\tstock.quantity === 0\r\n\t\t\t\t\t? '<div class=\"text-center text-danger small mt-2\">Out of stock!</div>'\r\n\t\t\t\t\t: stock.quantity < 5\r\n\t\t\t\t\t? '<div class=\"text-center text-warning small mt-2\">Limited stock AVAILABLE</div>'\r\n\t\t\t\t\t: '';\r\n\r\n\t\t\thtml += `\r\n\t\t\t<div class=\"row mb-4 d-flex justify-content-between align-items-center\">\r\n\t\t\t\t<hr class=\"my-4\" />\r\n\t\t\t\t<div class=\"col-md-2 col-lg-2 col-xl-2\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc=\"${imageSrc}\"\r\n\t\t\t\t\t\tclass=\"img-fluid\"\r\n\t\t\t\t\t\talt=\"${item.name}\"\r\n\t\t\t\t\t\tstyle=\"border: 1px solid var(--gold)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-md-3 col-lg-3 col-xl-3\">\r\n\t\t\t\t\t<h6 class=\"text-muted\">${item.categoryName || 'Category'}</h6>\r\n\t\t\t\t\t<h6 class=\"mb-0\">${item.name}</h6>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col\" >\r\n\t\t\t\t\t<div class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\r\n\t\t\t\t\t\t<button class=\"btn p-1\" onclick=\"this.nextElementSibling.stepDown();  this.nextElementSibling.dispatchEvent(new Event('change'))\"> \r\n\t\t\t\t\t\t\t<i class=\"bi bi-dash\"></i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"form-control form-control-sm cart-qty\"\r\n\t\t\t\t\t\t\tdata-uid=\"${stock.stockUid}\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tmax=\"${stock.quantity}\"\r\n\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\tvalue=\"${quantity}\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tstyle=\"min-width: 50px\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button class=\"btn p-1\" onclick=\"this.previousElementSibling.stepUp();  this.previousElementSibling.dispatchEvent(new Event('change'))\">\r\n\t\t\t\t\t\t\t<i class=\"bi bi-plus-lg\"></i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t${stockMessage}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\r\n\t\t\t\t\t<h6 class=\"mb-0\">â‚¬ ${stock.price.toFixed(2)}</h6>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\r\n\t\t\t\t\t<div class=\"text-muted remove-item\" data-uid=\"${stock.stockUid}\">\r\n\t\t\t\t\t\t<i class=\"bi bi-x-lg\" style=\"font-size: 1.4rem\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t`;\r\n\t\t}\r\n\t\tthis.#shopCartItemsTarget.innerHTML = html;\r\n\t\tthis.#setupRemoveHandlers();\r\n\t\tthis.#calculateShopCartTotal();\r\n\r\n\t\t// Update Numbers.\r\n\r\n\t\t// NEW!\r\n\t\tdocument.querySelectorAll('.cart-qty').forEach((input) => {\r\n\t\t\tinput.addEventListener('change', () => {\r\n\t\t\t\tconst uid = input.dataset.uid;\r\n\t\t\t\tconst qty = Math.max(1, parseInt(input.value) || 1); // prevent 0 or NaN\r\n\r\n\t\t\t\tthis.#quantities[uid] = qty;\r\n\r\n\t\t\t\t// localStorage\r\n\t\t\t\tconst raw = localStorage.getItem('shopcart');\r\n\t\t\t\tif (raw) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst parsed = JSON.parse(raw);\r\n\t\t\t\t\t\tparsed[uid] = qty;\r\n\t\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\t'shopcart',\r\n\t\t\t\t\t\t\tJSON.stringify(parsed)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn('Invalid shopcart JSON' + e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.#updateShopCartTotalQuantity('shopCardItemCount');\r\n\t\t\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#setupRemoveHandlers() {\r\n\t\tdocument.querySelectorAll('.remove-item').forEach((btn) => {\r\n\t\t\tbtn.addEventListener('click', () => {\r\n\t\t\t\tconst uid = btn.getAttribute('data-uid');\r\n\t\t\t\tthis.#removeFromCart(uid);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#removeFromCart(uid) {\r\n\t\tdelete this.#quantities[uid];\r\n\t\tlocalStorage.setItem('shopcart', JSON.stringify(this.#quantities));\r\n\t\tthis.#cart = Object.keys(this.#quantities);\r\n\r\n\t\tif (this.#cart.length > 0) {\r\n\t\t\tthis.#fetchCartItems(this.#cart);\r\n\t\t} else {\r\n\t\t\tif (this.#shopCartItemsTarget) {\r\n\t\t\t\tthis.#shopCartItemsTarget.innerHTML =\r\n\t\t\t\t\t'<p>Your cart is empty.</p>';\r\n\t\t\t}\r\n\t\t\tif (this.#shopCardItemCount) {\r\n\t\t\t\tthis.#shopCardItemCount.innerHTML = '0';\r\n\t\t\t}\r\n\t\t\tif (this.#shopcartItemsPrice) {\r\n\t\t\t\tthis.#shopcartItemsPrice.innerHTML = '0.00';\r\n\t\t\t}\r\n\t\t\tif (this.#shopcartTotalPrice) {\r\n\t\t\t\tthis.#shopcartTotalPrice.innerHTML = '0.00';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// update the count in header/cart icon if applicable\r\n\t\tthis.#updateShopCartTotalQuantity('shopCardsItemNumber');\r\n\t\tthis.#updateShopCartTotalQuantity('shopCardItemCount');\r\n\t}\r\n\r\n\t// FINISHED\r\n\t#updateShopCartTotalQuantity(targetId = null) {\r\n\t\tconst raw = localStorage.getItem('shopcart');\r\n\t\tlet totalQuantity = 0;\r\n\r\n\t\tif (raw) {\r\n\t\t\ttry {\r\n\t\t\t\tconst quantities = JSON.parse(raw);\r\n\t\t\t\tfor (const qty of Object.values(quantities)) {\r\n\t\t\t\t\tif (typeof qty === 'number' && qty > 0) {\r\n\t\t\t\t\t\ttotalQuantity += qty;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn('Invalid shopcart JSON' + e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Optional DOM update\r\n\t\tif (targetId) {\r\n\t\t\tconst el = document.getElementById(targetId);\r\n\t\t\tif (el) el.innerHTML = totalQuantity > 0 ? totalQuantity : '';\r\n\t\t\tthis.#calculateShopCartTotal();\r\n\t\t}\r\n\r\n\t\treturn totalQuantity;\r\n\t}\r\n\r\n\t#insertSummaryForGuest(target) {\r\n\t\tconst inserInto = document.getElementById(target);\r\n\t\tinserInto.innerHTML += `\r\n\t\t<div class=\"p-5\">\r\n\t\t\t<h3 class=\"fw-bold mb-1 mt-2 pt-1\">\r\n\t\t\t\tSummary\r\n\t\t\t</h3>\r\n\t\t\t<h5 class=\"fw-bold mb-1 mt-1 pt-1\">\r\n\t\t\t\tPrices\r\n\t\t\t</h5>\r\n\t\t\t<hr class=\"my-4\" />\r\n\t\t\t<div\r\n\t\t\t\tclass=\"d-flex justify-content-between mb-2\"\r\n\t\t\t>\r\n\t\t\t\t<h6 class=\"text-uppercase\">\r\n\t\t\t\t\tCart Items\r\n\t\t\t\t</h6>\r\n\t\t\t\t<h5 id=\"shopcartItemsPrice\">0.00</h5>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\t<h5 class=\"text-uppercase mb-3\">\r\n\t\t\t\t\tShipping Method\r\n\t\t\t\t</h5>\r\n\r\n\t\t\t\t<div class=\"mb-4 pb-2 mt-1\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"shopCartShippingCost\"\r\n\t\t\t\t\t\tdata-mdb-select-init\r\n\t\t\t\t\t\tclass=\"w-100 \"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t<div class=\"mt-1 text-success d-none\" id=\"shopcartFreeShipping\"> Free Shipping!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<hr class=\"my-4\" />\r\n\t\t\t<div\r\n\t\t\t\tclass=\"d-flex justify-content-between mb-4\"\r\n\t\t\t>\r\n\t\t\t\t<h6 class=\"text-uppercase\">Taxes</h6>\r\n\t\t\t\t<h5 id=\"shopcartTaxesPrice\"></h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass=\"d-flex justify-content-between mb-5\"\r\n\t\t\t>\r\n\t\t\t\t<h5 class=\"text-uppercase\">\r\n\t\t\t\t\tTotal price\r\n\t\t\t\t</h5>\r\n\t\t\t\t<h5 id=\"shopcartTotalPrice\"></h5>\r\n\t\t\t</div>\r\n\r\n\t\t<a\r\n\t\t\thref=\"#login\"\r\n\t\t\ttype=\"button\"\r\n\t\t\tdata-mdb-button-init\r\n\t\t\tdata-mdb-ripple-init\r\n\t\t\tclass=\"btn btn-dark btn-block btn-lg\"\r\n\t\t\tdata-mdb-ripple-color=\"dark\"\r\n\t\t>\r\n\t\t\tRegister\r\n\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t\t`;\r\n\t\tthis.#loadShippingOptions('shopCartShippingCost');\r\n\t}\r\n\r\n\t#insertSummaryForUser(target) {\r\n\t\tconst inserInto = document.getElementById(target);\r\n\t\tinserInto.innerHTML += `\r\n\t\t<div class=\"p-5\">\r\n\t\t\t\t<h3 class=\"fw-bold mb-1 mt-2 pt-1\">\r\n\t\t\t\tSummary\r\n\t\t\t</h3>\r\n\t\t\t<h5 class=\"fw-bold mb-1 mt-1 pt-1\">\r\n\t\t\t\tPrices\r\n\t\t\t</h5>\r\n\t\t\t<hr class=\"my-4\" />\r\n\t\t\t<div\r\n\t\t\t\tclass=\"d-flex justify-content-between mb-2\"\r\n\t\t\t>\r\n\t\t\t\t<h6 class=\"text-uppercase\">\r\n\t\t\t\t\tCart Items\r\n\t\t\t\t</h6>\r\n\t\t\t\t<h5 id=\"shopcartItemsPrice\">0.00</h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\"my-4\" />\r\n\t\t<h5 class=\"text-uppercase mb-2\">\r\n\t\t\tShipping Method\r\n\t\t</h5>\r\n\r\n\t\t<div class=\"mb-4 pb-2\">\r\n\t\t\t<select\r\n\t\t\t\tid=\"shopCartShippingCost\"\r\n\t\t\t\tdata-mdb-select-init\r\n\t\t\t\tclass=\"w-100 mb-0\"\r\n\t\t\t>\r\n\t\t\t</select>\r\n\t\t\t<div class=\"mt-1 text-success d-none\" id=\"shopcartFreeShipping\"> Free Shipping!\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\r\n\t\t<h5 class=\"text-uppercase mb-2\">\r\n\t\t\tDelivery Adress\r\n\t\t</h5>\r\n\r\n\t\t<div class=\"mb-4 pb-2\">\r\n\t\t\t<select\r\n\t\t\t\tid=\"shopCartAdresses\"\r\n\t\t\t\tdata-mdb-select-init\r\n\t\t\t\tclass=\"w-100 mb-3\"\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t</select>\r\n\t\t\t<a\r\n\t\t\t\thref=\"#user-profile\"\r\n\t\t\t\tclass=\"text-decoration-none text-body border p-1\"\r\n\t\t\t\t>Add new adress</a\r\n\t\t\t>\r\n\t\t</div>\r\n\r\n\t\t<h5 class=\"text-uppercase mb-2\">\r\n\t\t\tPayment method\r\n\t\t</h5>\r\n\t\t<div class=\"mb-4 pb-2\">\r\n\t\t\t<select\r\n\t\t\t\tid=\"shopCartCreditCards\"\r\n\t\t\t\tdata-mdb-select-init\r\n\t\t\t\tclass=\"w-100 mb-3\"\r\n\t\t\t>\r\n\t\t\t\t\r\n\t\t\t</select>\r\n\t\t\t<a\r\n\t\t\t\thref=\"#user-profile\"\r\n\t\t\t\tclass=\"text-decoration-none text-body border p-1\"\r\n\t\t\t\t>Add new payment</a\r\n\t\t\t>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\"my-4\" />\r\n\t\t\t\t\t<div\r\n\t\t\t\tclass=\"d-flex justify-content-between mb-4\"\r\n\t\t\t>\r\n\t\t\t\t<h6 class=\"text-uppercase\">Taxes</h6>\r\n\t\t\t\t<h5 id=\"shopcartTaxesPrice\">+ 19%</h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass=\"d-flex justify-content-between mb-5\"\r\n\t\t\t>\r\n\t\t\t\t<h5 class=\"text-uppercase\">\r\n\t\t\t\t\tTotal price\r\n\t\t\t\t</h5>\r\n\t\t\t\t<h5 id=\"shopcartTotalPrice\"></h5>\r\n\t\t\t</div>\r\n\r\n\t\t<button\r\n\t\t\ttype=\"button\"\r\n\t\t\tdata-mdb-button-init\r\n\t\t\tdata-mdb-ripple-init\r\n\t\t\tclass=\"btn btn-dark btn-block btn-lg\"\r\n\t\t\tdata-mdb-ripple-color=\"dark\"\r\n\t\t\tid=\"btnPlaceOrder\"\r\n\t\t>\r\n\t\t\tPlace Order\r\n\t\t</button>\r\n\t</div>\r\n\t\t`;\r\n\t\tthis.#loadUserAddresses('shopCartAdresses');\r\n\t\tthis.#loadUserCreditCards('shopCartCreditCards');\r\n\t\tthis.#loadShippingOptions('shopCartShippingCost');\r\n\t\tdocument\r\n\t\t\t.getElementById('btnPlaceOrder')\r\n\t\t\t?.addEventListener('click', () => {\r\n\t\t\t\tif (confirm('Are you sure you want to place this order?')) {\r\n\t\t\t\t\tthis.#placeOrder();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\t#loadShippingOptions(target) {\r\n\t\tconst select = document.getElementById(target);\r\n\t\tconst taxFee = document.getElementById('shopcartTaxesPrice');\r\n\t\tif (!select) {\r\n\t\t\tconsole.warn(`#${target} not found in DOM`);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (!response.success || !response.dto) {\r\n\t\t\t\t\tselect.innerHTML = `<option value=\"\">No shipping options found</option>`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.#freeShippingAmmount = response.dto.shippingFree;\r\n\t\t\t\ttaxFee.innerHTML = '+ ' + response.dto.taxMultiplier + ' %';\r\n\t\t\t\tselect.innerHTML = `\r\n\t\t\t\t<option value=\"standard\">Standard (â‚¬ ${response.dto.shippingStandard})</option>\r\n\t\t\t\t<option value=\"express\">Express (â‚¬ ${response.dto.shippingExpress})</option>\r\n\t\t\t\t`;\r\n\t\t\t\tselect.addEventListener('change', () => {\r\n\t\t\t\t\tthis.#calculateShopCartTotal();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.warn('Failed to load shopcart pricing:', err);\r\n\t\t\t\tselect.innerHTML = `<option value=\"\">Error loading shipping options</option>`;\r\n\t\t\t},\r\n\t\t\t'/page/shopcart/pricing'\r\n\t\t);\r\n\t}\r\n\r\n\t#loadUserAddresses(target) {\r\n\t\tconst select = document.getElementById(target);\r\n\t\tif (!select) {\r\n\t\t\tconsole.warn('#shopCartAdresses not found in DOM');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (!response.success) {\r\n\t\t\t\t\tselect.innerHTML = `<option value=\"\">No addresses found</option>`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst addresses = response.addressesDTO;\r\n\t\t\t\tif (!addresses || addresses.length === 0) {\r\n\t\t\t\t\tselect.innerHTML = `<option value=\"\">No saved addresses</option>`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet optionsHtml = `<option value=\"\">Select your address</option>`;\r\n\r\n\t\t\t\tfor (const a of addresses) {\r\n\t\t\t\t\toptionsHtml += `\r\n\t\t\t\t\t<option value=\"${a.addressId}\">\r\n\t\t\t\t\t\t${a.street} ${a.houseNr}${a.door ? '/' + a.door : ''}, ${a.city} (${\r\n\t\t\t\t\t\ta.postalCode\r\n\t\t\t\t\t})\r\n\t\t\t\t\t</option>\r\n\t\t\t\t`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tselect.innerHTML = optionsHtml;\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Error loading addresses:', err);\r\n\t\t\t\tselect.innerHTML = `<option value=\"\">Error loading addresses</option>`;\r\n\t\t\t},\r\n\t\t\t'/Address/GetAddresses'\r\n\t\t);\r\n\t}\r\n\r\n\t#loadUserCreditCards(target) {\r\n\t\tconst select = document.getElementById(target);\r\n\t\tif (!select) {\r\n\t\t\tconsole.warn('#shopCartCreditCards not found in DOM');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (!response.success) {\r\n\t\t\t\t\tselect.innerHTML = `<option value=\"\">No cards found</option>`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst cards = response.creditCardsDTO;\r\n\t\t\t\tif (!cards || cards.length === 0) {\r\n\t\t\t\t\tselect.innerHTML = `<option value=\"\">No saved cards</option>`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet optionsHtml = `<option value=\"\">Select a card</option>`;\r\n\r\n\t\t\t\tfor (const c of cards) {\r\n\t\t\t\t\toptionsHtml += `\r\n\t\t\t\t\t<option value=\"${c.cardId}\">\r\n\t\t\t\t\t\t**** **** **** ${c.cardNumberLastDigits}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tselect.innerHTML = optionsHtml;\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Error loading credit cards:', err);\r\n\t\t\t\tselect.innerHTML = `<option value=\"\">Error loading cards</option>`;\r\n\t\t\t},\r\n\t\t\t'/CreditCards/GetCards'\r\n\t\t);\r\n\t}\r\n\r\n\t// DEV\r\n\t#getStoredQuantities() {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(localStorage.getItem('shopcart')) || {};\r\n\t\t} catch {\r\n\t\t\tconsole.warn('Invalid shopcart data');\r\n\t\t\treturn {};\r\n\t\t}\r\n\t}\r\n\r\n\t#calculateShopCartTotal() {\r\n\t\tconst rawCart = localStorage.getItem('shopcart');\r\n\r\n\t\tif (!rawCart) return;\r\n\r\n\t\tlet cart;\r\n\t\ttry {\r\n\t\t\tcart = JSON.parse(rawCart);\r\n\t\t} catch {\r\n\t\t\tconsole.warn('Invalid cart JSON');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst entries = Object.entries(cart);\r\n\t\tif (entries.length === 0) {\r\n\t\t\tthis.#shopcartItemsPrice.innerHTML = '0.00';\r\n\t\t\tthis.#shopcartTotalPrice.innerHTML = '0.00';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst shippingSelect = document.getElementById('shopCartShippingCost');\r\n\t\tconst selectedShipping =\r\n\t\t\tshippingSelect?.value === 'express' ? 'express' : 'standard';\r\n\r\n\t\tconst requestData = {\r\n\t\t\tshippingType: selectedShipping,\r\n\t\t\titems: entries.map(([stockUid, quantity]) => ({\r\n\t\t\t\tstockUid,\r\n\t\t\t\tquantity: parseInt(quantity) || 1,\r\n\t\t\t})),\r\n\t\t};\r\n\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (!response.success || !response.dto) return;\r\n\t\t\t\tthis.#shopcartItemsPrice.innerHTML = `â‚¬ ${response.dto.itemTotal.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)}`;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tresponse.dto.itemTotal.toFixed(2) >=\r\n\t\t\t\t\tthis.#freeShippingAmmount\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.#shopcartFreeShipping.classList.remove('d-none');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.#shopcartFreeShipping.classList.add('d-none');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.#shopcartTotalPrice.innerHTML = `â‚¬ ${response.dto.finalTotal.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)}`;\r\n\t\t\t},\r\n\t\t\t(err) => console.error('Failed to calculate cart totals', err),\r\n\t\t\t'Order/CalculateShopCartTotal',\r\n\t\t\trequestData\r\n\t\t);\r\n\t}\r\n\r\n\t#placeOrder() {\r\n\t\tconst addressId = parseInt(\r\n\t\t\tdocument.getElementById('shopCartAdresses')?.value\r\n\t\t);\r\n\t\tconst cardId = parseInt(\r\n\t\t\tdocument.getElementById('shopCartCreditCards')?.value\r\n\t\t);\r\n\t\tconst shippingType =\r\n\t\t\tdocument.getElementById('shopCartShippingCost')?.value ||\r\n\t\t\t'standard';\r\n\r\n\t\t// Toastie\r\n\t\tconst toastLiveExample = document.getElementById('liveToast');\r\n\t\tconst toastTitle = document.getElementById('toastTitle');\r\n\t\tconst toastBody = document.getElementById('toastBody');\r\n\r\n\t\tconst toastBootstrap =\r\n\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(toastLiveExample);\r\n\r\n\t\tif (!addressId || !cardId) {\r\n\t\t\ttoastTitle.innerText = 'Shop Cart';\r\n\t\t\ttoastBody.innerText =\r\n\t\t\t\t'Please select both an address and a payment method.';\r\n\t\t\ttoastBootstrap.show();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cartRaw = localStorage.getItem('shopcart');\r\n\t\tif (!cartRaw) {\r\n\t\t\ttoastTitle.innerText = 'Shop Cart';\r\n\t\t\ttoastBody.innerText = 'Your cart is empty.';\r\n\t\t\ttoastBootstrap.show();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet items;\r\n\t\ttry {\r\n\t\t\tconst cart = JSON.parse(cartRaw);\r\n\t\t\titems = Object.entries(cart).map(([stockUid, quantity]) => ({\r\n\t\t\t\tstockUid,\r\n\t\t\t\tquantity: parseInt(quantity) || 1,\r\n\t\t\t}));\r\n\t\t} catch {\r\n\t\t\talert('Cart data is invalid.');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst payload = {\r\n\t\t\taddressId,\r\n\t\t\tcardId,\r\n\t\t\tshippingType,\r\n\t\t\titems,\r\n\t\t};\r\n\r\n\t\tconst btn = document.getElementById('btnPlaceOrder');\r\n\t\tif (btn) btn.disabled = true;\r\n\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success) {\r\n\t\t\t\t\tlocalStorage.removeItem('shopcart');\r\n\t\t\t\t\talert('Order placed successfully!');\r\n\t\t\t\t\twindow.location.hash = '#user-order-history';\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoastTitle.innerText = 'Shop Cart';\r\n\t\t\t\t\ttoastBody.innerText = res.message;\r\n\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t}\r\n\t\t\t\tif (btn) btn.disabled = false;\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Order error', err);\r\n\t\t\t\talert('Server error while placing order.');\r\n\t\t\t\tif (btn) btn.disabled = false;\r\n\t\t\t},\r\n\t\t\t'Order/PlaceOrder',\r\n\t\t\tpayload\r\n\t\t);\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-shopcart.js?");

/***/ }),

/***/ "./src/page-summary.html":
/*!*******************************!*\
  !*** ./src/page-summary.html ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<section class=\"container-min-height border-bottom-gold pb-5\">\r\n\t<div class=\"container\">\r\n\t\t<h1 class=\"border-bottom border-2 py-2 mb-4\">\r\n\t\t\tIncome / Expense Overview\r\n\t\t</h1>\r\n\r\n\t\t<!-- Year Selector -->\r\n\t\t<div class=\"row mb-4\">\r\n\t\t\t<div class=\"col-md-4\">\r\n\t\t\t\t<label class=\"form-label fw-bold\">Select Year</label>\r\n\t\t\t\t<select id=\"yearSelect\" class=\"form-select\">\r\n\t\t\t\t\t<option>2025</option>\r\n\t\t\t\t\t<option>2024</option>\r\n\t\t\t\t\t<option>2023</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- Summary Table -->\r\n\t\t<div class=\"table-responsive mb-3\">\r\n\t\t\t<table class=\"table table-bordered table-hover\">\r\n\t\t\t\t<thead class=\"table-light\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Month</th>\r\n\t\t\t\t\t\t<th>Orders</th>\r\n\t\t\t\t\t\t<th>Total Income</th>\r\n\t\t\t\t\t\t<th>Total Expenses</th>\r\n\t\t\t\t\t\t<th>Net</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody id=\"summaryTableBody\">\r\n\t\t\t\t\t<!-- Example rows -->\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>January</td>\r\n\t\t\t\t\t\t<td>45</td>\r\n\t\t\t\t\t\t<td>â‚¬4,230.00</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control form-control-sm expense-input\"\r\n\t\t\t\t\t\t\t\tvalue=\"1100.00\"\r\n\t\t\t\t\t\t\t\tdata-month=\"1\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"net-cell\">â‚¬3,130.00</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>February</td>\r\n\t\t\t\t\t\t<td>38</td>\r\n\t\t\t\t\t\t<td>â‚¬3,850.00</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control form-control-sm expense-input\"\r\n\t\t\t\t\t\t\t\tvalue=\"900.00\"\r\n\t\t\t\t\t\t\t\tdata-month=\"2\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"net-cell\">â‚¬2,950.00</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t\t<tfoot>\r\n\t\t\t\t\t<tr class=\"fw-bold\">\r\n\t\t\t\t\t\t<td>Total</td>\r\n\t\t\t\t\t\t<td id=\"totalOrders\">83</td>\r\n\t\t\t\t\t\t<td id=\"totalIncome\">â‚¬8,080.00</td>\r\n\t\t\t\t\t\t<td id=\"totalExpenses\">â‚¬2,000.00</td>\r\n\t\t\t\t\t\t<td id=\"totalNet\">â‚¬6,080.00</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tfoot>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\r\n\t\t<!-- Save Button -->\r\n\t\t<div class=\"d-flex justify-content-end\">\r\n\t\t\t<button class=\"btn btn-success\" id=\"saveExpensesBtn\">\r\n\t\t\t\tSave Expenses\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n</section>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-summary.html?");

/***/ }),

/***/ "./src/page-summary.js":
/*!*****************************!*\
  !*** ./src/page-summary.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageSummary)\n/* harmony export */ });\n/* harmony import */ var _page_summary_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-summary.html */ \"./src/page-summary.html\");\n\r\n\r\nclass PageSummary {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\r\n\t#args = null;\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_summary_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\t}\r\n\r\n\t//--------------------------------------------------\r\n\t// Public Methods\r\n\t//--------------------------------------------------\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-summary.js?");

/***/ }),

/***/ "./src/page-user-detail.html":
/*!***********************************!*\
  !*** ./src/page-user-detail.html ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Imports\nvar ___HTML_LOADER_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./images/person-fill-up.svg */ \"./src/images/person-fill-up.svg\"), __webpack_require__.b);\n// Module\nvar code = `<section class=\"container-min-height border-bottom-gold\">\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1 class=\"border-bottom border-2 py-2 m-0 mb-3\">\r\n\t\t\t\t\tUser Profile\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row g-3 mb-5\">\r\n\t\t\t<!-- Profile Avatar Card -->\r\n\t\t\t<div class=\"col-lg-4 d-flex align-items-stretch\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"card text-center d-flex justify-content-center align-items-center w-100 rounded-0\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"d-none\"\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tid=\"avatarFileInput\"\r\n\t\t\t\t\t\taccept=\".jpg,.jpeg,.png\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclass=\"card-body text-center d-flex justify-content-center align-items-center img-fluid w-100 mb-4 p-5 rounded-circle\"\r\n\t\t\t\t\t\tsrc=\"${___HTML_LOADER_IMPORT_0___}\"\r\n\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t\tclass=\"img-fluid mb-3 p-1 border\"\r\n\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\twidth: 200px;\r\n\t\t\t\t\t\t\tmax-width: 310px;\r\n\t\t\t\t\t\t\tmin-height: 310px;\r\n\t\t\t\t\t\t\tmax-height: 310px;\r\n\t\t\t\t\t\t\tobject-fit: cover;\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t\tid=\"avatarImage\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button class=\"btn mb-4\" id=\"avatarButton\">\r\n\t\t\t\t\t\tChanger User Picture\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Profile Info Card -->\r\n\t\t\t<div class=\"col-lg-8 d-flex align-items-stretch\">\r\n\t\t\t\t<div class=\"card w-100 rounded-0\">\r\n\t\t\t\t\t<div class=\"card-body d-flex flex-column\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"row mb-3 border-bottom pb-2 align-items-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-3 fw-bold\">First Name</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-sm-9 d-flex justify-content-between align-items-center\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"Johnatan Smith\"\r\n\t\t\t\t\t\t\t\t\tid=\"inputFirstName\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-sm border ms-2 py-2 px-3\"\r\n\t\t\t\t\t\t\t\t\tdata-field=\"firstname\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Edit First Name\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-pencil\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"row mb-3 border-bottom pb-2 align-items-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-3 fw-bold\">Last Name</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-sm-9 d-flex justify-content-between align-items-center\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"Johnatan Smith\"\r\n\t\t\t\t\t\t\t\t\tid=\"inputLastName\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-sm border ms-2 py-2 px-3\"\r\n\t\t\t\t\t\t\t\t\tdata-field=\"lastname\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Edit Last Name\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-pencil\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"row mb-3 border-bottom pb-2 align-items-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-3 fw-bold\">Email</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-sm-9 d-flex justify-content-between align-items-center\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\t\tid=\"inputEmail\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-sm border ms-2 py-2 px-3\"\r\n\t\t\t\t\t\t\t\t\tdata-field=\"email\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Edit Email\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-pencil\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"row mb-3 border-bottom pb-2 align-items-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-3 fw-bold\">Password</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-sm-9 d-flex justify-content-between align-items-center\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"**********\"\r\n\t\t\t\t\t\t\t\t\tid=\"inputPassword\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-sm border ms-2 py-2 px-3\"\r\n\t\t\t\t\t\t\t\t\tdata-field=\"password\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Edit Password\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-pencil\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"row mb-3 pb-2 align-items-center\">\r\n\t\t\t\t\t\t\t<div class=\"col-sm-3 fw-bold\">Phone Number</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"col-sm-9 d-flex justify-content-between align-items-center\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\t\tid=\"inputPhone\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-sm border ms-2 py-2 px-3\"\r\n\t\t\t\t\t\t\t\t\tdata-field=\"phone\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Edit Mobile\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-pencil\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Save Button -->\r\n\t\t\t\t\t\t<div class=\"mt-auto\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary btn-lg w-100\"\r\n\t\t\t\t\t\t\t\tid=\"savePersonalInfo\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Delivery Info -->\r\n\t\t\t<div class=\"col-xl-6 d-flex align-items-stretch\">\r\n\t\t\t\t<div class=\"card w-100 rounded-0\">\r\n\t\t\t\t\t<div class=\"card-body p-4 d-flex flex-column\">\r\n\t\t\t\t\t\t<h3 class=\"mb-4 text-uppercase\">Delivery Info</h3>\r\n\r\n\t\t\t\t\t\t<p class=\"fw-bold mb-3\">Saved addresses:</p>\r\n\r\n\t\t\t\t\t\t<div class=\"row\" id=\"targetAddresses\">\r\n\t\t\t\t\t\t\t<!-- Show Addresses Here -->\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Add New Address -->\r\n\t\t\t\t\t\t<p class=\"fw-bold mb-3\">Add new address:</p>\r\n\t\t\t\t\t\t<div class=\"row flex-grow-0\">\r\n\t\t\t\t\t\t\t<div class=\"col-md-6 mb-3\">\r\n\t\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressFirstName\"\r\n\t\t\t\t\t\t\t\t\t>First Name:</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tid=\"addressFirstName\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"First name\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6 mb-3\">\r\n\t\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressLastName\"\r\n\t\t\t\t\t\t\t\t\t>Last Name:</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"addressLastName\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Last name\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"row flex-grow-0\">\r\n\t\t\t\t\t\t\t<div class=\"col-md-6 mb-3\">\r\n\t\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressStreet\"\r\n\t\t\t\t\t\t\t\t\t>Street:</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"addressStreet\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Street\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-4 mb-3\">\r\n\t\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressHouseNr\"\r\n\t\t\t\t\t\t\t\t\t>House Nr:</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"addressHouseNr\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"House Nr:\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-2 mb-3\">\r\n\t\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressDoor\"\r\n\t\t\t\t\t\t\t\t\t>Door:</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"addressDoor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Door\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mb-3 flex-grow-0\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressCity\"\r\n\t\t\t\t\t\t\t\t>City:</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"addressCity\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"City\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mb-4 flex-grow-0\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\" for=\"addressPostalCode\"\r\n\t\t\t\t\t\t\t\t>Postal Code::</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"addressPostalCode\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Zip\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-auto d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tid=\"saveDeliveryAdress\"\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary btn-lg w-100\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdd delivery address\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Payment Settings -->\r\n\t\t\t<div class=\"col-xl-6 d-flex align-items-stretch\">\r\n\t\t\t\t<div class=\"card w-100 rounded-0\">\r\n\t\t\t\t\t<div class=\"card-body p-4 d-flex flex-column\">\r\n\t\t\t\t\t\t<h3 class=\"mb-4 text-uppercase\">Payment Info</h3>\r\n\r\n\t\t\t\t\t\t<p class=\"fw-bold mb-3\">Saved cards:</p>\r\n\r\n\t\t\t\t\t\t<div class=\"row\" id=\"targetCards\">\r\n\t\t\t\t\t\t\t<!-- Show Addresses Here -->\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Grouped Add Card Section at Bottom -->\r\n\t\t\t\t\t\t<div class=\"mt-auto\">\r\n\t\t\t\t\t\t\t<p class=\"fw-bold mb-3\">Add new card:</p>\r\n\r\n\t\t\t\t\t\t\t<div class=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<label for=\"cardholderName\" class=\"form-label\"\r\n\t\t\t\t\t\t\t\t\t>Cardholder's Name</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cardholder's Name\"\r\n\t\t\t\t\t\t\t\t\tid=\"cardholderName\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-7\">\r\n\t\t\t\t\t\t\t\t\t<label for=\"cardNumber\" class=\"form-label\"\r\n\t\t\t\t\t\t\t\t\t\t>Card Number</label\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Card Number\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-placement=\"top\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-3\">\r\n\t\t\t\t\t\t\t\t\t<label for=\"cardExpiry\" class=\"form-label\"\r\n\t\t\t\t\t\t\t\t\t\t>Expiry Date</label\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"MM/YY\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"cardExpiry\"\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-placement=\"top\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t<label for=\"cardCVV\" class=\"form-label\"\r\n\t\t\t\t\t\t\t\t\t\t>CVV</label\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-md\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"CVV\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"cardCVV\"\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-placement=\"top\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary btn-lg w-100\"\r\n\t\t\t\t\t\t\t\tid=\"saveCard\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdd card\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Reusable Edit Modal -->\r\n\t<div\r\n\t\tclass=\"modal fade\"\r\n\t\tid=\"modalEditFullName\"\r\n\t\ttabindex=\"-1\"\r\n\t\taria-hidden=\"true\"\r\n\t>\r\n\t\t<div class=\"modal-dialog modal-dialog-centered\">\r\n\t\t\t<div class=\"modal-content rounded-0\">\r\n\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t<h5 class=\"modal-title\" id=\"modalEditTitle\"></h5>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\r\n\t\t\t\t\t></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t<div class=\"d-none\" id=\"modalGroup1\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tfor=\"modalFirstInput\"\r\n\t\t\t\t\t\t\tclass=\"form-label me-2\"\r\n\t\t\t\t\t\t\tid=\"modalFirstLabel\"\r\n\t\t\t\t\t\t></label>\r\n\t\t\t\t\t\t<div class=\"mb-2 input-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"modalFirstInput\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-secondary bi bi-eye-fill d-none\"\r\n\t\t\t\t\t\t\t\tid=\"togglePasswordVisibility\"\r\n\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"d-none\" id=\"modalGroup2\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tfor=\"modalSecondInput\"\r\n\t\t\t\t\t\t\tclass=\"form-label me-2\"\r\n\t\t\t\t\t\t\tid=\"modalSecondLabel\"\r\n\t\t\t\t\t\t></label>\r\n\t\t\t\t\t\t<div class=\"mb-2 input-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"modalSecondInput\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"d-none\" id=\"modalGroup3\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tfor=\"modalThirdInput\"\r\n\t\t\t\t\t\t\tclass=\"form-label me-2\"\r\n\t\t\t\t\t\t\tid=\"modalThirdLabel\"\r\n\t\t\t\t\t\t></label>\r\n\t\t\t\t\t\t<div class=\"mb-2 input-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"modalThirdInput\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t<button class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button class=\"btn btn-primary\" id=\"confirmEdit\">OK</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- Reusable Toast -->\r\n\t<div class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n\t\t<div\r\n\t\t\tid=\"liveToast\"\r\n\t\t\tclass=\"toast\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"assertive\"\r\n\t\t\taria-atomic=\"true\"\r\n\t\t>\r\n\t\t\t<div class=\"toast-header\">\r\n\t\t\t\t<strong class=\"me-auto\" id=\"toastTitle\">Bootstrap</strong>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\tdata-bs-dismiss=\"toast\"\r\n\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"toast-body\" id=\"toastBody\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</section>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-user-detail.html?");

/***/ }),

/***/ "./src/page-user-detail.js":
/*!*********************************!*\
  !*** ./src/page-user-detail.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageUserDetail)\n/* harmony export */ });\n/* harmony import */ var _page_user_detail_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-user-detail.html */ \"./src/page-user-detail.html\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n\r\n\r\n\r\nclass PageUserDetail {\r\n\t#args = null;\r\n\t#newPassword = '';\r\n\r\n\t#inputFirstName = '';\r\n\t#inputLastName = '';\r\n\t#inputEmail = '';\r\n\t#inputPhone = '';\r\n\t#avatarImage = '';\r\n\r\n\t#adresses = [];\r\n\t#cards = [];\r\n\r\n\t//DEV\r\n\t#image64Bit = '';\r\n\t#imageType = '';\r\n\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_user_detail_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\tconst inputFirstName = document.querySelector('#inputFirstName');\r\n\t\tconst inputLastName = document.querySelector('#inputLastName');\r\n\t\tconst inputPhone = document.querySelector('#inputPhone');\r\n\t\tconst inputEmail = document.querySelector('#inputEmail');\r\n\t\tconst savePersonalInfo = document.querySelector('#savePersonalInfo');\r\n\t\tconst saveDeliveryAdress = document.querySelector(\r\n\t\t\t'#saveDeliveryAdress'\r\n\t\t);\r\n\t\tconst saveCard = document.querySelector('#saveCard');\r\n\r\n\t\tthis.#inputFirstName = inputFirstName;\r\n\t\tthis.#inputLastName = inputLastName;\r\n\t\tthis.#inputEmail = inputEmail;\r\n\t\tthis.#inputPhone = inputPhone;\r\n\r\n\t\t// Toastie\r\n\t\tconst toastLiveExample = document.getElementById('liveToast');\r\n\t\tconst toastTitle = document.getElementById('toastTitle');\r\n\t\tconst toastBody = document.getElementById('toastBody');\r\n\r\n\t\t// LiveReplace\r\n\t\tconst cardExpiry = document.getElementById('cardExpiry');\r\n\t\tconst cardNumber = document.getElementById('cardNumber');\r\n\t\tconst cardCVV = document.getElementById('cardCVV');\r\n\r\n\t\t// ------------------------------\r\n\t\t// DEV\r\n\t\t// ------------------------------\r\n\r\n\t\tconst avatarButton = document.getElementById('avatarButton');\r\n\t\tconst avatarImage = document.getElementById('avatarImage');\r\n\t\tthis.#avatarImage = avatarImage;\r\n\t\tconst avatarFileInput = document.getElementById('avatarFileInput');\r\n\r\n\t\tavatarButton.addEventListener('click', () => {\r\n\t\t\tavatarFileInput.click();\r\n\t\t});\r\n\r\n\t\tavatarFileInput.addEventListener('change', (e) => {\r\n\t\t\tconst file = e.target.files[0];\r\n\t\t\tif (!file) return;\r\n\r\n\t\t\tif (!file.type.match(/^image\\/(jpeg|png)$/)) {\r\n\t\t\t\talert('Only JPG and PNG files are allowed.');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onload = function (e) {\r\n\t\t\t\tconst result = e.target.result;\r\n\t\t\t\tavatarImage.src = result;\r\n\r\n\t\t\t\t// Extract data\r\n\t\t\t\tconst userAvatarBase64 = result.split(',')[1]; // Raw base64\r\n\t\t\t\tconst extension = file.name.split('.').pop().toLowerCase(); // \"png\" or \"jpeg\"\r\n\r\n\t\t\t\t// Save to private vars\r\n\t\t\t\tthis.#image64Bit = userAvatarBase64;\r\n\t\t\t\tthis.#imageType = extension;\r\n\r\n\t\t\t\t// Upload AFTER data is ready\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tformData.append('image64Bit', this.#image64Bit);\r\n\t\t\t\tformData.append('imageType', this.#imageType);\r\n\r\n\t\t\t\tthis.#args.app.apiUploadPicture(\r\n\t\t\t\t\t(successCallback) => {\r\n\t\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t\ttoastTitle.innerText = 'User Profile';\r\n\t\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\t\tconst toastBootstrap =\r\n\t\t\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t\t\t\t//  refresh user data here?\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformData\r\n\t\t\t\t);\r\n\t\t\t}.bind(this); // bind 'this' so private fields work\r\n\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t});\r\n\r\n\t\t// ------------------------------\r\n\t\t// ------------------------------\r\n\r\n\t\t['dragenter', 'dragover', 'dragleave', 'drop'].forEach((eventName) => {\r\n\t\t\tavatarImage.addEventListener(eventName, (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tavatarImage.addEventListener('dragover', () => {\r\n\t\t\tavatarImage.classList.add('border', 'border-primary');\r\n\t\t});\r\n\r\n\t\tavatarImage.addEventListener('dragleave', () => {\r\n\t\t\tavatarImage.classList.remove('border', 'border-primary');\r\n\t\t});\r\n\r\n\t\tavatarImage.addEventListener('drop', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tavatarImage.classList.remove('border', 'border-primary');\r\n\r\n\t\t\tconst file = e.dataTransfer.files[0];\r\n\t\t\tif (!file) return;\r\n\r\n\t\t\tif (!file.type.match(/^image\\/(jpeg|png)$/)) {\r\n\t\t\t\talert('Only JPG and PNG files are allowed.');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onload = function (e) {\r\n\t\t\t\tconst result = e.target.result;\r\n\t\t\t\tavatarImage.src = result;\r\n\r\n\t\t\t\t// Extract and store image data\r\n\t\t\t\tconst base64 = result.split(',')[1];\r\n\t\t\t\tconst extension = file.name.split('.').pop().toLowerCase(); // \"png\" or \"jpeg\"\r\n\r\n\t\t\t\tthis.#image64Bit = base64;\r\n\t\t\t\tthis.#imageType = extension;\r\n\r\n\t\t\t\t// Upload AFTER data is ready\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tformData.append('image64Bit', this.#image64Bit);\r\n\t\t\t\tformData.append('imageType', this.#imageType);\r\n\r\n\t\t\t\tthis.#args.app.apiUploadPicture(\r\n\t\t\t\t\t(successCallback) => {\r\n\t\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t\ttoastTitle.innerText = 'User Profile';\r\n\t\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\t\tconst toastBootstrap =\r\n\t\t\t\t\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(\r\n\t\t\t\t\t\t\t\t\ttoastLiveExample\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t\t\t\t//  refresh user data here?\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformData\r\n\t\t\t\t);\r\n\t\t\t}.bind(this); //\r\n\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t});\r\n\r\n\t\t// ------------------------------\r\n\t\t// ------------------------------\r\n\t\t// DEV\r\n\t\t// ------------------------------\r\n\t\t// ------------------------------\r\n\r\n\t\t// Get User Data - INITIAL INSERT\r\n\t\t// ------------------------------\r\n\t\tthis.#refreshUserFields();\r\n\t\t// Handle User Data\r\n\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\tconst buttonEdit = e.target.closest('button[data-field]');\r\n\t\t\tif (!buttonEdit) return;\r\n\r\n\t\t\tconst field = buttonEdit.dataset.field;\r\n\r\n\t\t\tswitch (field) {\r\n\t\t\t\tcase 'firstname': {\r\n\t\t\t\t\tthis.#setupEditModal(\r\n\t\t\t\t\t\t'firstname',\r\n\t\t\t\t\t\tinputFirstName.value,\r\n\t\t\t\t\t\t(val) => {\r\n\t\t\t\t\t\t\tinputFirstName.value = val.trim();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcase 'lastname': {\r\n\t\t\t\t\tthis.#setupEditModal(\r\n\t\t\t\t\t\t'lastname',\r\n\t\t\t\t\t\tinputLastName.value,\r\n\t\t\t\t\t\t(val) => {\r\n\t\t\t\t\t\t\tinputLastName.value = val.trim();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcase 'email':\r\n\t\t\t\t\tthis.#setupEditModal('email', inputEmail.value, (val) => {\r\n\t\t\t\t\t\tinputEmail.value = val.trim();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'phone':\r\n\t\t\t\t\tthis.#setupEditModal('phone', inputPhone.value, (val) => {\r\n\t\t\t\t\t\tinputPhone.value = val.trim();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'password':\r\n\t\t\t\t\tthis.#setupEditModal(\r\n\t\t\t\t\t\t'password',\r\n\t\t\t\t\t\t['', '', ''],\r\n\t\t\t\t\t\t(oldPass, newPass, confirmPass, modal) => {\r\n\t\t\t\t\t\t\tif (!this.#validatePasswordModal()) return;\r\n\t\t\t\t\t\t\tif (newPass !== confirmPass) return;\r\n\r\n\t\t\t\t\t\t\tconst passwordData = new FormData();\r\n\t\t\t\t\t\t\tpasswordData.append('oldPassword', oldPass);\r\n\r\n\t\t\t\t\t\t\tthis.#args.app.apiValidatePassword(\r\n\t\t\t\t\t\t\t\t(data) => {\r\n\t\t\t\t\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\t\t\t\t\tthis.#newPassword = newPass;\r\n\r\n\t\t\t\t\t\t\t\t\t\tdocument\r\n\t\t\t\t\t\t\t\t\t\t\t.getElementById('modalFirstInput')\r\n\t\t\t\t\t\t\t\t\t\t\t.classList.remove('is-invalid');\r\n\r\n\t\t\t\t\t\t\t\t\t\tdocument.activeElement.blur();\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => modal.hide(), 50);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconst oldPassInput =\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'modalFirstInput'\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\toldPassInput.classList.add(\r\n\t\t\t\t\t\t\t\t\t\t\t'is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\toldPassInput.value = '';\r\n\t\t\t\t\t\t\t\t\t\toldPassInput.placeholder =\r\n\t\t\t\t\t\t\t\t\t\t\tdata.message || 'Invalid password';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.error('API error:', err);\r\n\t\t\t\t\t\t\t\t\talert('Something went wrong. Try again.');\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpasswordData\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// Save User Data\r\n\t\tsavePersonalInfo.addEventListener('click', () => {\r\n\t\t\tconst personalInfoData = new FormData();\r\n\t\t\t// Toastie\r\n\t\t\tconst toastBootstrap =\r\n\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(toastLiveExample);\r\n\r\n\t\t\tif (this.#newPassword?.trim()) {\r\n\t\t\t\tpersonalInfoData.append(\r\n\t\t\t\t\t'newPassword',\r\n\t\t\t\t\tthis.#newPassword.trim()\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tpersonalInfoData.append('firstName', inputFirstName.value.trim());\r\n\t\t\tpersonalInfoData.append('lastName', inputLastName.value.trim());\r\n\t\t\tpersonalInfoData.append('phoneNumber', inputPhone.value.trim());\r\n\t\t\tpersonalInfoData.append('email', inputEmail.value.trim());\r\n\r\n\t\t\tthis.#args.app.apiUpdateUser(\r\n\t\t\t\t(successCallback) => {\r\n\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t// Scucess Code\r\n\t\t\t\t\t\tthis.#args.app.user = successCallback.user;\r\n\t\t\t\t\t\tthis.#newPassword = '';\r\n\t\t\t\t\t\t// Check if you need to actualize the fields\r\n\t\t\t\t\t\tthis.#refreshUserFields();\r\n\t\t\t\t\t\ttoastTitle.innerText = 'User Profile';\r\n\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\ttoastBootstrap.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t},\r\n\t\t\t\tpersonalInfoData\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t// Get Delivery Data - INITIAL INSERT\r\n\t\t// ----------------------------------\r\n\t\t// Get Delivery Data\r\n\t\tthis.#getAndInsertAddresses();\r\n\t\tthis.#insertAddresses([]);\r\n\t\t// Save Delivery Data\r\n\t\tsaveDeliveryAdress.addEventListener('click', () => {\r\n\t\t\tconst fields = [\r\n\t\t\t\t'addressFirstName',\r\n\t\t\t\t'addressLastName',\r\n\t\t\t\t'addressStreet',\r\n\t\t\t\t'addressHouseNr',\r\n\t\t\t\t'addressDoor',\r\n\t\t\t\t'addressCity',\r\n\t\t\t\t'addressPostalCode',\r\n\t\t\t];\r\n\r\n\t\t\tlet allValid = true;\r\n\r\n\t\t\tfields.forEach((id) => {\r\n\t\t\t\tconst input = document.getElementById(id);\r\n\t\t\t\tinput.classList.remove('is-invalid');\r\n\t\t\t\tif (!input.value.trim()) {\r\n\t\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\t\tallValid = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!allValid) {\r\n\t\t\t\tfields.forEach((id) => {\r\n\t\t\t\t\tconst input = document.getElementById(id);\r\n\t\t\t\t\tinput.placeholder = 'Field cannot be empty';\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If all valid save.\r\n\t\t\tconst addressInfoData = new FormData();\r\n\t\t\tconst toastBootstrap =\r\n\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(toastLiveExample);\r\n\r\n\t\t\t// DYNAMIC BABY!\r\n\t\t\tfields.forEach((id) => {\r\n\t\t\t\tconst input = document.getElementById(id);\r\n\t\t\t\taddressInfoData.append(id, input.value.trim());\r\n\t\t\t});\r\n\r\n\t\t\tthis.#args.app.apiNewAddress(\r\n\t\t\t\t(successCallback) => {\r\n\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t// Sucsess Code\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Delivery Address';\r\n\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\ttoastBootstrap.show();\r\n\r\n\t\t\t\t\t\t// Get Delivery Data\r\n\t\t\t\t\t\tthis.#getAndInsertAddresses();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t},\r\n\t\t\t\taddressInfoData\r\n\t\t\t);\r\n\t\t});\r\n\t\t// Del Delivery Data\r\n\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\tif (!e.target.classList.contains('removeAddress')) return;\r\n\t\t\tconst addressId = e.target.dataset.setId;\r\n\t\t\tconst toastBootstrapDelete =\r\n\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(toastLiveExample);\r\n\r\n\t\t\tthis.#args.app.apiDelAddress(\r\n\t\t\t\t(successCallback) => {\r\n\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t// Sucsess Code\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Delivery Address';\r\n\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\ttoastBootstrapDelete.show();\r\n\t\t\t\t\t\tthis.#getAndInsertAddresses();\r\n\t\t\t\t\t\tthis.#insertAddresses([]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn('Delete failed:', successCallback.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t},\r\n\t\t\t\taddressId\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t// Get Card Data - INITIAL INSERT\r\n\t\t// ----------------------------------\r\n\t\t// Get Card Data\r\n\t\tthis.#getAndInsertCards();\r\n\t\tthis.#insertCards([]);\r\n\r\n\t\t// Handle Card\r\n\t\tcardNumber.addEventListener('input', (e) => {\r\n\t\t\tlet val = e.target.value.replace(/\\D/g, '');\r\n\t\t\tval = val.match(/.{1,4}/g)?.join(' ') || ''; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match\r\n\t\t\tif (val.length > 19) {\r\n\t\t\t\tval = val.slice(0, 19); // Splice stops the number there. This works fine for visa and mastercard.\r\n\t\t\t}\r\n\r\n\t\t\te.target.value = val;\r\n\t\t});\r\n\t\tcardExpiry.addEventListener('input', (e) => {\r\n\t\t\tlet val = e.target.value.replace(/\\D/g, ''); // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\r\n\t\t\tif (val.length > 2) {\r\n\t\t\t\tval = val.slice(0, 2) + '/' + val.slice(2, 4);\r\n\t\t\t}\r\n\t\t\te.target.value = val;\r\n\t\t});\r\n\t\tcardCVV.addEventListener('input', (e) => {\r\n\t\t\tlet val = e.target.value.replace(/\\D/g, ''); // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\r\n\t\t\tif (val.length > 4) {\r\n\t\t\t\tval = val.slice(0, 4);\r\n\t\t\t}\r\n\t\t\te.target.value = val;\r\n\t\t});\r\n\t\t// Save Card Data\r\n\t\tsaveCard.addEventListener('click', () => {\r\n\t\t\tif (!this.#validateFieldsCard()) return;\r\n\t\t\t// If all valid save.\r\n\t\t\tconst fields = [\r\n\t\t\t\t'cardholderName',\r\n\t\t\t\t'cardNumber',\r\n\t\t\t\t'cardExpiry',\r\n\t\t\t\t'cardCVV',\r\n\t\t\t];\r\n\r\n\t\t\tconst creditCardInfoData = new FormData();\r\n\t\t\tconst toastBootstrap =\r\n\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(toastLiveExample);\r\n\r\n\t\t\tfields.forEach((id) => {\r\n\t\t\t\tconst input = document.getElementById(id);\r\n\t\t\t\tcreditCardInfoData.append(id, input.value.trim());\r\n\t\t\t});\r\n\r\n\t\t\tthis.#args.app.apiNewCard(\r\n\t\t\t\t(successCallback) => {\r\n\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t// Sucsess Code\r\n\t\t\t\t\t\tthis.#cards = successCallback.creditCardsDTO;\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Credit Card';\r\n\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\ttoastBootstrap.show();\r\n\r\n\t\t\t\t\t\t// Get Delivery Data\r\n\t\t\t\t\t\tthis.#getAndInsertCards();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t},\r\n\t\t\t\tcreditCardInfoData\r\n\t\t\t);\r\n\t\t});\r\n\t\t// Del Card Data\r\n\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\tif (!e.target.classList.contains('removeCard')) return;\r\n\t\t\tconst cardId = e.target.dataset.setId;\r\n\t\t\tconst toastBootstrapDelete =\r\n\t\t\t\tbootstrap__WEBPACK_IMPORTED_MODULE_1__.Toast.getOrCreateInstance(toastLiveExample);\r\n\r\n\t\t\tthis.#args.app.apiDelCard(\r\n\t\t\t\t(successCallback) => {\r\n\t\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t\t// Sucsess Code\r\n\t\t\t\t\t\ttoastTitle.innerText = 'Credit Card';\r\n\t\t\t\t\t\ttoastBody.innerText = successCallback.message;\r\n\t\t\t\t\t\ttoastBootstrapDelete.show();\r\n\t\t\t\t\t\tthis.#getAndInsertCards();\r\n\t\t\t\t\t\tthis.#insertCards([]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn('Delete failed:', successCallback.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(errorCallback) => {\r\n\t\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t\t},\r\n\t\t\t\tcardId\r\n\t\t\t);\r\n\t\t});\r\n\t} // Constructor\r\n\r\n\t#setupEditModal(field, value, callback) {\r\n\t\tconst modalEl = document.getElementById('modalEditFullName');\r\n\t\tconst modal = new bootstrap__WEBPACK_IMPORTED_MODULE_1__.Modal(modalEl);\r\n\t\tconst confirmBtn = document.getElementById('confirmEdit');\r\n\r\n\t\tconst group1 = document.getElementById('modalGroup1');\r\n\t\tconst group2 = document.getElementById('modalGroup2');\r\n\t\tconst group3 = document.getElementById('modalGroup3');\r\n\r\n\t\tconst firstInput = document.getElementById('modalFirstInput');\r\n\t\tconst secondInput = document.getElementById('modalSecondInput');\r\n\t\tconst thirdInput = document.getElementById('modalThirdInput');\r\n\r\n\t\tconst firstLabel = document.getElementById('modalFirstLabel');\r\n\t\tconst secondLabel = document.getElementById('modalSecondLabel');\r\n\t\tconst thirdLabel = document.getElementById('modalThirdLabel');\r\n\r\n\t\tconst togglePasswordVisibility = document.getElementById(\r\n\t\t\t'togglePasswordVisibility'\r\n\t\t);\r\n\r\n\t\t// Hide all groups initially\r\n\t\tgroup1.classList.add('d-none');\r\n\t\tgroup2.classList.add('d-none');\r\n\t\tgroup3.classList.add('d-none');\r\n\t\ttogglePasswordVisibility.classList.add('d-none');\r\n\r\n\t\t// Reset validation state\r\n\t\t[firstInput, secondInput, thirdInput].forEach((input) => {\r\n\t\t\tinput.classList.remove('is-invalid');\r\n\t\t\tinput.placeholder = '';\r\n\t\t});\r\n\r\n\t\tconst title = document.getElementById('modalEditTitle');\r\n\r\n\t\tif (field === 'firstname') {\r\n\t\t\ttitle.textContent = 'Edit First Name';\r\n\t\t\tfirstInput.type = 'text';\r\n\r\n\t\t\tgroup1.classList.remove('d-none');\r\n\t\t\tfirstLabel.textContent = 'First Name';\r\n\t\t\tfirstInput.value = value;\r\n\t\t} else if (field === 'lastname') {\r\n\t\t\ttitle.textContent = 'Edit Last Name';\r\n\t\t\tfirstInput.type = 'text';\r\n\r\n\t\t\tgroup1.classList.remove('d-none');\r\n\t\t\tfirstLabel.textContent = 'Last Name';\r\n\t\t\tfirstInput.value = value;\r\n\t\t} else if (field === 'email') {\r\n\t\t\ttitle.textContent = 'Edit Email';\r\n\t\t\tfirstInput.type = 'text';\r\n\r\n\t\t\tgroup1.classList.remove('d-none');\r\n\t\t\tfirstLabel.textContent = 'Email Address';\r\n\t\t\tfirstInput.value = value;\r\n\t\t} else if (field === 'phone') {\r\n\t\t\ttitle.textContent = 'Edit Phone';\r\n\t\t\tfirstInput.type = 'text';\r\n\r\n\t\t\tgroup1.classList.remove('d-none');\r\n\t\t\tfirstLabel.textContent = 'Phone Number';\r\n\r\n\t\t\tfirstInput.value = value;\r\n\t\t} else if (field === 'password') {\r\n\t\t\ttitle.textContent = 'Change Password';\r\n\t\t\tfirstInput.type = 'password';\r\n\t\t\tsecondInput.type = 'password';\r\n\t\t\tthirdInput.type = 'password';\r\n\r\n\t\t\tgroup1.classList.remove('d-none');\r\n\t\t\tgroup2.classList.remove('d-none');\r\n\t\t\tgroup3.classList.remove('d-none');\r\n\t\t\ttogglePasswordVisibility.classList.remove('d-none');\r\n\r\n\t\t\tfirstLabel.textContent = 'Current Password';\r\n\t\t\tsecondLabel.textContent = 'New Password';\r\n\t\t\tthirdLabel.textContent = 'Confirm New Password';\r\n\r\n\t\t\tfirstInput.value = '';\r\n\t\t\tsecondInput.value = '';\r\n\t\t\tthirdInput.value = '';\r\n\r\n\t\t\ttogglePasswordVisibility.onclick = () => {\r\n\t\t\t\tconst isVisible = firstInput.type === 'text';\r\n\t\t\t\tfirstInput.type = isVisible ? 'password' : 'text';\r\n\t\t\t\ttogglePasswordVisibility.classList.toggle(\r\n\t\t\t\t\t'bi-eye-slash-fill',\r\n\t\t\t\t\t!isVisible\r\n\t\t\t\t);\r\n\t\t\t\ttogglePasswordVisibility.classList.toggle(\r\n\t\t\t\t\t'bi-eye-fill',\r\n\t\t\t\t\tisVisible\r\n\t\t\t\t);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst handleConfirm = () => {\r\n\t\t\tif (!this.#validateModalInputs(field)) return;\r\n\r\n\t\t\tif (\r\n\t\t\t\tfield === 'firstname' ||\r\n\t\t\t\tfield === 'lastname' ||\r\n\t\t\t\tfield === 'email' ||\r\n\t\t\t\tfield === 'phone'\r\n\t\t\t) {\r\n\t\t\t\tcallback(firstInput.value);\r\n\t\t\t} else if (field === 'password') {\r\n\t\t\t\tcallback(\r\n\t\t\t\t\tfirstInput.value,\r\n\t\t\t\t\tsecondInput.value,\r\n\t\t\t\t\tthirdInput.value,\r\n\t\t\t\t\tmodal\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tmodal.hide();\r\n\t\t\t}, 50);\r\n\t\t};\r\n\r\n\t\tconfirmBtn.onclick = handleConfirm;\r\n\r\n\t\tmodalEl.onkeydown = (e) => {\r\n\t\t\tif (e.key === 'Enter') {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\thandleConfirm();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tmodal.show();\r\n\t}\r\n\r\n\t#validatePasswordModal() {\r\n\t\tconst fields = [\r\n\t\t\t{ id: 'modalFirstInput', name: 'Current Password' },\r\n\t\t\t{ id: 'modalSecondInput', name: 'New Password' },\r\n\t\t\t{ id: 'modalThirdInput', name: 'Confirm New Password' },\r\n\t\t];\r\n\r\n\t\tlet allValid = true;\r\n\r\n\t\tfields.forEach(({ id, name }) => {\r\n\t\t\tconst input = document.getElementById(id);\r\n\t\t\tif (!input.value.trim()) {\r\n\t\t\t\tallValid = false;\r\n\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\tinput.placeholder = `Please enter ${name}`;\r\n\t\t\t} else {\r\n\t\t\t\tinput.classList.remove('is-invalid');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst newPass = document\r\n\t\t\t.getElementById('modalSecondInput')\r\n\t\t\t.value.trim();\r\n\t\tconst confirmPass = document\r\n\t\t\t.getElementById('modalThirdInput')\r\n\t\t\t.value.trim();\r\n\r\n\t\tif (newPass && confirmPass && newPass !== confirmPass) {\r\n\t\t\tallValid = false;\r\n\t\t\tconst confirmInput = document.getElementById('modalThirdInput');\r\n\t\t\tconfirmInput.classList.add('is-invalid');\r\n\t\t\tconfirmInput.value = '';\r\n\t\t\tconfirmInput.placeholder = 'Passwords do not match';\r\n\t\t}\r\n\r\n\t\treturn allValid;\r\n\t}\r\n\r\n\t#validateModalInputs(field) {\r\n\t\tlet valid = true;\r\n\t\tconst firstInput = document.getElementById('modalFirstInput');\r\n\r\n\t\tfirstInput.classList.remove('is-invalid');\r\n\r\n\t\tif (field === 'firstname') {\r\n\t\t\tif (!firstInput.value.trim()) {\r\n\t\t\t\tfirstInput.classList.add('is-invalid');\r\n\t\t\t\tfirstInput.placeholder = 'Please enter First Name';\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\t\t} else if (field === 'lastname') {\r\n\t\t\tif (!firstInput.value.trim()) {\r\n\t\t\t\tfirstInput.classList.add('is-invalid');\r\n\t\t\t\tfirstInput.placeholder = 'Please enter Last Name';\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\t\t} else if (field === 'email') {\r\n\t\t\tif (!firstInput.value.trim()) {\r\n\t\t\t\tfirstInput.classList.add('is-invalid');\r\n\t\t\t\tfirstInput.placeholder = 'Please enter Email Address';\r\n\t\t\t\tvalid = false;\r\n\t\t\t} else if (\r\n\t\t\t\t!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(firstInput.value.trim())\r\n\t\t\t) {\r\n\t\t\t\tfirstInput.classList.add('is-invalid');\r\n\t\t\t\tfirstInput.value = '';\r\n\t\t\t\tfirstInput.placeholder = 'Invalid Mail Adress';\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\t\t} else if (field === 'phone') {\r\n\t\t\tif (!firstInput.value.trim()) {\r\n\t\t\t\tfirstInput.classList.add('is-invalid');\r\n\t\t\t\tfirstInput.placeholder = 'Please enter your Phone Number';\r\n\t\t\t\tvalid = false;\r\n\t\t\t} else if (!/^\\+?[0-9 ]{7,20}$/.test(firstInput.value.trim())) {\r\n\t\t\t\tfirstInput.classList.add('is-invalid');\r\n\t\t\t\tfirstInput.value = '';\r\n\t\t\t\tfirstInput.placeholder =\r\n\t\t\t\t\t'Phone Number must only contain numbers';\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\t\t} else if (field === 'password') {\r\n\t\t\treturn this.#validatePasswordModal();\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\t}\r\n\r\n\t#refreshUserFields() {\r\n\t\tconst user = this.#args.app.user;\r\n\t\tthis.#inputFirstName.value = user.firstName;\r\n\t\tthis.#inputLastName.value = user.lastName;\r\n\t\tthis.#inputEmail.value = user.email;\r\n\t\tthis.#inputPhone.value = user.phoneNumber;\r\n\t\tif (user.avatarBase64 && user.avatarFileType)\r\n\t\t\tthis.#avatarImage.src = `data:image/${user.avatarFileType};base64,${user.avatarBase64}`;\r\n\t}\r\n\r\n\t// Adresses\r\n\t#getAndInsertAddresses() {\r\n\t\tthis.#args.app.apiGetAddresses(\r\n\t\t\t(successCallback) => {\r\n\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t// Scucess Code\r\n\t\t\t\t\tthis.#adresses = successCallback.addressesDTO;\r\n\t\t\t\t\tthis.#insertAddresses(this.#adresses);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(errorCallback) => {\r\n\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\t#insertAddresses(addresses) {\r\n\t\tconst target = document.querySelector('#targetAddresses');\r\n\t\tlet html = '';\r\n\r\n\t\tif (!addresses || addresses.length === 0) {\r\n\t\t\ttarget.innerHTML = `<div class=\"text-muted mb-3\">No addresses saved.</div>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\taddresses.forEach((address) => {\r\n\t\t\thtml += `\r\n\t\t\t<div class=\"d-flex align-items-center mb-3\">\r\n\t\t\t\t<i\r\n\t\t\t\t\tclass=\"bi bi-truck d-flex justify-content-center align-items-center h-100 me-3\"\r\n\t\t\t\t\tstyle=\"font-size: 2.5rem\"\r\n\t\t\t\t></i>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclass=\"form-control form-control-lg me-3\"\r\n\t\t\t\t\tvalue=\"${address.firstName} ${address.lastName}: ${address.street} ${address.houseNr} / ${address.door} , ${address.postalCode} ${address.city}\" \r\n\t\t\t\t\treadonly\r\n\t\t\t\t/>\r\n\t\t\t\t<i class=\"btn btn-secondary bi bi-trash3 d-flex justify-content-center align-items-center border h-100 px-3 removeAddress\"\r\n\t\t\t\tdata-set-id=\"${address.addressId}\"\r\n\t\t\t\t\r\n\t\t\t\t></i>\t\t\t\r\n\t\t\t</div>\r\n\t\t`;\r\n\t\t});\r\n\t\ttarget.innerHTML = html;\r\n\t}\r\n\r\n\t// Cards\r\n\t#validateFieldsCard() {\r\n\t\tconst fields = [\r\n\t\t\t'cardholderName',\r\n\t\t\t'cardNumber',\r\n\t\t\t'cardExpiry',\r\n\t\t\t'cardCVV',\r\n\t\t];\r\n\r\n\t\tlet allValid = true;\r\n\r\n\t\tfields.forEach((id) => {\r\n\t\t\tconst input = document.getElementById(id);\r\n\t\t\tinput.classList.remove('is-invalid');\r\n\r\n\t\t\tif (!input.value.trim()) {\r\n\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\tinput.placeholder = 'Field cannot be empty';\r\n\t\t\t\tallValid = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'cardExpiry') {\r\n\t\t\t\tconst date = input.value.trim();\r\n\t\t\t\tconst month = date.slice(0, 2);\r\n\t\t\t\tif (+month > 12 || +month < 1) {\r\n\t\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\t\tinput.setAttribute(\r\n\t\t\t\t\t\t'data-bs-content',\r\n\t\t\t\t\t\t+month > 12 ? 'Max Month: 12' : 'Min Month: 01'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst popover = bootstrap__WEBPACK_IMPORTED_MODULE_1__.Popover.getOrCreateInstance(\r\n\t\t\t\t\t\tinput,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttrigger: 'manual',\r\n\t\t\t\t\t\t\tplacement: 'top',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tpopover.show();\r\n\t\t\t\t\tsetTimeout(() => popover.hide(), 1500);\r\n\t\t\t\t\tallValid = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'cardNumber') {\r\n\t\t\t\tconst cardNumber = input.value.replace(/\\s/g, '').trim();\r\n\t\t\t\tif (cardNumber.length < 13 || cardNumber.length > 19) {\r\n\t\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\t\tinput.setAttribute(\r\n\t\t\t\t\t\t'data-bs-content',\r\n\t\t\t\t\t\t'Must be 13â€“19 digits'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst popover = bootstrap__WEBPACK_IMPORTED_MODULE_1__.Popover.getOrCreateInstance(\r\n\t\t\t\t\t\tinput,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttrigger: 'manual',\r\n\t\t\t\t\t\t\tplacement: 'top',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tpopover.show();\r\n\t\t\t\t\tsetTimeout(() => popover.hide(), 1500);\r\n\t\t\t\t\tallValid = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tid !== 'cardholderName' &&\r\n\t\t\t\tid !== 'cardExpiry' &&\r\n\t\t\t\tid !== 'cardNumber'\r\n\t\t\t) {\r\n\t\t\t\tif (!/^[0-9 ]+$/.test(input.value.trim())) {\r\n\t\t\t\t\tinput.classList.add('is-invalid');\r\n\t\t\t\t\tinput.setAttribute(\r\n\t\t\t\t\t\t'data-bs-content',\r\n\t\t\t\t\t\t'Only numbers allowed!'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst popover = bootstrap__WEBPACK_IMPORTED_MODULE_1__.Popover.getOrCreateInstance(\r\n\t\t\t\t\t\tinput,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttrigger: 'manual',\r\n\t\t\t\t\t\t\tplacement: 'top',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tpopover.show();\r\n\t\t\t\t\tsetTimeout(() => popover.hide(), 1500);\r\n\t\t\t\t\tallValid = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn allValid;\r\n\t}\r\n\r\n\t#getAndInsertCards() {\r\n\t\tthis.#args.app.apiGetCards(\r\n\t\t\t(successCallback) => {\r\n\t\t\t\tif (successCallback.success) {\r\n\t\t\t\t\t// Scucess Code\r\n\t\t\t\t\tthis.#cards = successCallback.creditCardsDTO;\r\n\t\t\t\t\tthis.#insertCards(this.#cards);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(errorCallback) => {\r\n\t\t\t\tconsole.error('API error:', errorCallback);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\t#insertCards(cards) {\r\n\t\tconst target = document.querySelector('#targetCards');\r\n\t\tlet html = '';\r\n\r\n\t\tif (!cards || cards.length === 0) {\r\n\t\t\ttarget.innerHTML = `<div class=\"text-muted mb-3\">No cards saved.</div>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcards.forEach((card) => {\r\n\t\t\thtml += `\r\n\t\t\t<div class=\"d-flex align-items-center mb-3\">\r\n\t\t\t\t<i\r\n\t\t\t\t\tclass=\"bi bi-credit-card d-flex justify-content-center align-items-center h-100\"\r\n\t\t\t\t\tstyle=\"font-size: 2.5rem\"\r\n\t\t\t\t></i>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclass=\"form-control form-control-lg mx-3\"\r\n\t\t\t\t\tvalue=\"**** **** **** ${card.cardNumberLastDigits}\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t/>\r\n\t\t\t\t<i\r\n\t\t\t\t\tclass=\"btn btn-secondary bi bi-trash3 d-flex justify-content-center align-items-center border h-100 px-3 removeCard\"\r\n\t\t\t\t\tdata-set-id=\"${card.cardId}\"\r\n\t\t\t\t></i>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t\t});\r\n\t\ttarget.innerHTML = html;\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-user-detail.js?");

/***/ }),

/***/ "./src/page-user-order-history.html":
/*!******************************************!*\
  !*** ./src/page-user-order-history.html ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<section class=\"container-min-height border-bottom-gold\">\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1 class=\"border-bottom border-2 py-2 m-0 mb-3\">\r\n\t\t\t\t\tUser Order History\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Search Bar -->\r\n\t\t<div class=\"row mb-4\">\r\n\t\t\t<div class=\"col-12 col-md-6 col-lg-4\">\r\n\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Search users...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button class=\"btn btn-outline-secondary\" type=\"button\">\r\n\t\t\t\t\t\t<i class=\"bi bi-search\"></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"userOrderHistoryPage\">\r\n\t\t\t<!-- button change -->\r\n\t\t\t<div id=\"ordersList\"></div>\r\n\t\t</div>\r\n\r\n\t\t<!-- PAGINATION -->\r\n\t\t<nav\r\n\t\t\taria-label=\"Page navigation\"\r\n\t\t\tclass=\"d-flex justify-content-center my-4\"\r\n\t\t>\r\n\t\t\t<ul id=\"pagination\" class=\"pagination m-0\"></ul>\r\n\t\t</nav>\r\n\t</div>\r\n</section>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-user-order-history.html?");

/***/ }),

/***/ "./src/page-user-order-history.js":
/*!****************************************!*\
  !*** ./src/page-user-order-history.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageUserOrderHistory)\n/* harmony export */ });\n/* harmony import */ var _page_user_order_history_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-user-order-history.html */ \"./src/page-user-order-history.html\");\n\r\n\r\nclass PageUserOrderHistory {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\r\n\t#args = null;\r\n\t#currentPage = 1;\r\n\t#totalPages = 1;\r\n\t#clickLock = false;\r\n\t#boundClickHandler = null;\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\tthis.#clickLock = false;\r\n\t\targs.target.innerHTML = _page_user_order_history_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\t\tthis.#fetchOrders();\r\n\r\n\t\t// ðŸ‘‡ Attach to local wrapper instead of <main>\r\n\t\tconst container = args.target.querySelector('#userOrderHistoryPage');\r\n\r\n\t\tif (!this.#boundClickHandler) {\r\n\t\t\tthis.#boundClickHandler = this.#handleClick.bind(this);\r\n\t\t\tcontainer.addEventListener('click', this.#boundClickHandler);\r\n\t\t}\r\n\t}\r\n\r\n\t#handleClick = (e) => {\r\n\t\tif (this.#clickLock) return;\r\n\t\tthis.#clickLock = true;\r\n\t\tsetTimeout(() => (this.#clickLock = false), 10);\r\n\r\n\t\tconst btn = e.target.closest('button');\r\n\t\tif (!btn || !this.#args.target.contains(btn)) return;\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tswitch (true) {\r\n\t\t\tcase btn.classList.contains('btnCancelOrder'): {\r\n\t\t\t\tconst orderId = btn.dataset.orderId;\r\n\t\t\t\tif (confirm('Are you sure you want to cancel this order?')) {\r\n\t\t\t\t\tthis.#cancelOrder(orderId);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase btn.classList.contains('btnReorder'): {\r\n\t\t\t\tconst orderId = btn.dataset.orderId;\r\n\t\t\t\tif (confirm('Reorder this same order?')) {\r\n\t\t\t\t\tthis.#reorder(orderId);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase btn.classList.contains('btnSaveStatus'): {\r\n\t\t\t\tconst orderId = parseInt(btn.dataset.orderId);\r\n\t\t\t\tconst select = this.#args.target.querySelector(\r\n\t\t\t\t\t`.status-dropdown[data-order-id=\"${orderId}\"]`\r\n\t\t\t\t);\r\n\t\t\t\tconst statusId = parseInt(select?.value);\r\n\t\t\t\tif (!isNaN(orderId) && !isNaN(statusId)) {\r\n\t\t\t\t\tthis.#updateOrderStatus(orderId, statusId);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t//--------------------------------------------------\r\n\t// Public Methods\r\n\t//--------------------------------------------------\r\n\t#fetchOrders() {\r\n\t\tthis.#fetchDeliveryStatuses((statuses) => {\r\n\t\t\tthis.#args.app.apiGet(\r\n\t\t\t\t(res) => {\r\n\t\t\t\t\tconst container =\r\n\t\t\t\t\t\tthis.#args.target.querySelector('#ordersList');\r\n\t\t\t\t\tcontainer.innerHTML = this.#renderOrders(\r\n\t\t\t\t\t\tres.orders,\r\n\t\t\t\t\t\tstatuses\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.#totalPages = res.totalPages;\r\n\t\t\t\t\tthis.#renderPagination();\r\n\t\t\t\t},\r\n\t\t\t\t(err) => {\r\n\t\t\t\t\tconsole.error('Failed to load orders:', err.message || err);\r\n\t\t\t\t},\r\n\t\t\t\t`/Order/OrderHistory?page=${this.#currentPage}&pageSize=4`\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t#renderOrders(orders, statuses = []) {\r\n\t\tconst isAdmin = [1, 2].includes(this.#args.app.user.roleId);\r\n\r\n\t\tif (!orders || orders.length === 0) {\r\n\t\t\treturn `<p class=\"text-muted text-center\">You have no orders yet.</p>`;\r\n\t\t}\r\n\r\n\t\tlet html = '';\r\n\r\n\t\tfor (const order of orders) {\r\n\t\t\tconst status = order.status.toLowerCase();\r\n\t\t\tconst canCancel = ['pending', 'confirmed', 'shipped'].includes(\r\n\t\t\t\tstatus\r\n\t\t\t);\r\n\t\t\tconst isFinal = ['delivered'].includes(status);\r\n\t\t\tconst isOwnOrder =\r\n\t\t\t\torder.firstName === this.#args.app.user.firstName;\r\n\r\n\t\t\tconst itemsHtml = order.items\r\n\t\t\t\t.map(\r\n\t\t\t\t\t(item) => `\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>${item.productName}</td>\r\n\t\t\t\t\t<td>${item.variantSize}</td>\r\n\t\t\t\t\t<td>${item.variantColor}</td>\r\n\t\t\t\t\t<td>${item.quantity}</td>\r\n\t\t\t\t\t<td>${item.unitPrice.toFixed(2)} â‚¬</td>\r\n\t\t\t\t\t<td>${item.totalPrice.toFixed(2)} â‚¬</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t`\r\n\t\t\t\t)\r\n\t\t\t\t.join('');\r\n\r\n\t\t\tconst table = `\r\n\t\t\t<div class=\"table-responsive\">\r\n\t\t\t\t<table class=\"table table-bordered mb-0\">\r\n\t\t\t\t<thead class=\"table-light text-uppercase\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Product</th>\r\n\t\t\t\t\t<th>Variant Size</th>\r\n\t\t\t\t\t<th>Variant Color</th>\r\n\t\t\t\t\t<th>Quantity</th>\r\n\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t<th>Subtotal</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>${itemsHtml}</tbody>\r\n\t\t\t\t<tfoot>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td colspan=\"5\" class=\"text-end\">Shipping</td>\r\n\t\t\t\t\t\t<td class=\"text-end\">${order.shippingName}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td colspan=\"5\" class=\"text-end\">Taxes</td>\r\n\t\t\t\t\t\t<td class=\"text-end\">+ ${order.tax} %</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td colspan=\"5\" class=\"text-end fw-bold\">Total</td>\r\n\t\t\t\t\t\t<td class=\"fw-bold text-end\">${order.totalPrice.toFixed(2)} â‚¬</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td colspan=\"6\" class=\"text-end\">\r\n\t\t\t\t\t\t\t<span class=\"badge bg-secondary\">${order.status}</span>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tfoot>\r\n\t\t\t\t</table>\r\n\t\t\t</div>`;\r\n\r\n\t\t\tconst buttonBlock = `\r\n\t\t\t<div class=\"d-flex align-items-center gap-3\">\r\n\t\t\t\t${\r\n\t\t\t\t\t!isFinal && canCancel && !isAdmin\r\n\t\t\t\t\t\t? `<button data-order-id=\"${order.orderId}\" class=\"btn btn-danger btnCancelOrder\">CANCEL Order</button>`\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t\t${\r\n\t\t\t\t\tisOwnOrder\r\n\t\t\t\t\t\t? `<button data-order-id=\"${order.orderId}\" class=\"btn btn-secondary btnReorder\">Reorder</button>`\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t</div>`;\r\n\r\n\t\t\tconst header = `\r\n\t\t\t<div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h5 class=\"mb-1\">Order #${order.orderNumber}</h5>\r\n\t\t\t\t\t<h5 class=\"mb-1\">${order.firstName} ${order.lastName}</h5>\r\n\t\t\t\t\t<small class=\"text-muted\">Placed on: ${new Date(\r\n\t\t\t\t\t\torder.orderDate\r\n\t\t\t\t\t).toLocaleString()}</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t${buttonBlock}\r\n\t\t\t</div>`;\r\n\r\n\t\t\tconst statusOptions = statuses\r\n\t\t\t\t.map(\r\n\t\t\t\t\t(statusItem) =>\r\n\t\t\t\t\t\t`<option value=\"${statusItem.id}\" ${\r\n\t\t\t\t\t\t\tstatusItem.name === order.status ? 'selected' : ''\r\n\t\t\t\t\t\t}>${statusItem.name}</option>`\r\n\t\t\t\t)\r\n\t\t\t\t.join('');\r\n\r\n\t\t\tconst statusControl =\r\n\t\t\t\tisAdmin && !isFinal\r\n\t\t\t\t\t? `\r\n\t\t\t<div class=\"d-flex justify-content-end pt-3\">\r\n\t\t\t\t<select class=\"form-select w-auto me-3 status-dropdown\" \r\n\t\t\t\t\t\tstyle=\"min-width: 150px\"\r\n\t\t\t\t\t\tdata-order-id=\"${order.orderId}\">\r\n\t\t\t\t\t${statusOptions}\r\n\t\t\t\t</select>\r\n\t\t\t\t<button class=\"btn btn-success btnSaveStatus\" \r\n\t\t\t\t\t\tdata-order-id=\"${order.orderId}\">\r\n\t\t\t\t\tSave Status\r\n\t\t\t\t</button>\r\n\t\t\t</div>`\r\n\t\t\t\t\t: '';\r\n\r\n\t\t\t// Final Card HTML\r\n\t\t\thtml += `\r\n\t\t\t<div class=\"card mb-4 rounded-0\">\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t${header}\r\n\t\t\t\t\t${table}\r\n\t\t\t\t\t${statusControl}\r\n\t\t\t\t</div>\r\n\t\t\t</div>`;\r\n\t\t}\r\n\r\n\t\treturn html;\r\n\t}\r\n\r\n\t#cancelOrder(orderId) {\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\talert(res.message);\r\n\t\t\t\tthis.#fetchOrders();\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\talert(err.message || 'Failed to cancel order.');\r\n\t\t\t},\r\n\t\t\t`Order/Cancel/${orderId}`,\r\n\t\t\tnull\r\n\t\t);\r\n\t}\r\n\r\n\t#reorder(orderId) {\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\talert(res.message);\r\n\t\t\t\tthis.#fetchOrders();\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\talert(err.message || 'Failed to reorder.');\r\n\t\t\t},\r\n\t\t\t`Order/Reorder/${orderId}`,\r\n\t\t\tnull\r\n\t\t);\r\n\t}\r\n\r\n\t#renderPagination() {\r\n\t\tconst paginationContainer =\r\n\t\t\tthis.#args.target.querySelector('#pagination');\r\n\t\tpaginationContainer.innerHTML = '';\r\n\r\n\t\tconst createItem = (label, page, disabled = false, active = false) => {\r\n\t\t\tconst li = document.createElement('li');\r\n\t\t\tli.className = `page-item ${disabled ? 'disabled' : ''} ${\r\n\t\t\t\tactive ? 'active' : ''\r\n\t\t\t}`;\r\n\r\n\t\t\tconst a = document.createElement('a');\r\n\t\t\ta.className = 'page-link text-color';\r\n\t\t\ta.href = '#';\r\n\t\t\ta.innerText = label;\r\n\r\n\t\t\ta.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (!disabled && this.#currentPage !== page) {\r\n\t\t\t\t\tthis.#currentPage = page;\r\n\t\t\t\t\tthis.#fetchOrders(); // <- key change\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tli.appendChild(a);\r\n\t\t\tpaginationContainer.appendChild(li);\r\n\t\t};\r\n\r\n\t\t// Previous\r\n\t\tcreateItem('Previous', this.#currentPage - 1, this.#currentPage === 1);\r\n\r\n\t\t// Pages\r\n\t\tfor (let i = 1; i <= this.#totalPages; i++) {\r\n\t\t\tcreateItem(i, i, false, i === this.#currentPage);\r\n\t\t}\r\n\r\n\t\t// Next\r\n\t\tcreateItem(\r\n\t\t\t'Next',\r\n\t\t\tthis.#currentPage + 1,\r\n\t\t\tthis.#currentPage === this.#totalPages\r\n\t\t);\r\n\t}\r\n\t// DEV\r\n\t#fetchDeliveryStatuses(callback) {\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(res) => {\r\n\t\t\t\tcallback(res.statuses); // extract 'statuses' array from response\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error(\r\n\t\t\t\t\t'Failed to fetch delivery statuses:',\r\n\t\t\t\t\terr.message || err\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t`/Order/DeliveryStatuses`\r\n\t\t);\r\n\t}\r\n\r\n\t#updateOrderStatus(orderId, statusId) {\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\talert(res.message || 'Status updated!');\r\n\t\t\t\tthis.#fetchOrders(); // Refresh orders list\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\talert(err.message || 'Failed to update status.');\r\n\t\t\t},\r\n\t\t\t`Order/UpdateOrderStatus`,\r\n\t\t\t{ orderId, statusId }\r\n\t\t);\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-user-order-history.js?");

/***/ }),

/***/ "./src/page-users-management.html":
/*!****************************************!*\
  !*** ./src/page-users-management.html ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<section class=\"container-min-height border-bottom-gold\">\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-12\">\r\n\t\t\t\t<h1 class=\"border-bottom border-2 py-2 m-0 mb-3\">\r\n\t\t\t\t\tUsers Management\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t\t<!-- Search Bar -->\r\n\t\t\t<div class=\"row mb-4\">\r\n\t\t\t\t<div class=\"col-12 col-md-6 col-lg-4\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Search users...\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button class=\"btn btn-outline-secondary\" type=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"bi bi-search\"></i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Users -->\r\n\t\t<div class=\"row g-4\" id=\"targetUsersAdmin\"></div>\r\n\r\n\t\t<!-- Pagination -->\r\n\t\t<nav\r\n\t\t\taria-label=\"Page navigation\"\r\n\t\t\tclass=\"d-flex justify-content-center my-4\"\r\n\t\t>\r\n\t\t\t<ul id=\"pagination\" class=\"pagination m-0\"></ul>\r\n\t\t</nav>\r\n\t</div>\r\n</section>\r\n`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-users-management.html?");

/***/ }),

/***/ "./src/page-users-management.js":
/*!**************************************!*\
  !*** ./src/page-users-management.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PageUsersManagement)\n/* harmony export */ });\n/* harmony import */ var _page_users_management_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-users-management.html */ \"./src/page-users-management.html\");\n\r\n\r\nclass PageUsersManagement {\r\n\t//--------------------------------------------------\r\n\t// Private Variables\r\n\t//--------------------------------------------------\r\n\r\n\t#args = null;\r\n\t#currentPage = 1;\r\n\t#totalPages = 1;\r\n\t#actionLock = false; // DEV\r\n\r\n\t//--------------------------------------------------\r\n\t// Constructor\r\n\t//--------------------------------------------------\r\n\tconstructor(args) {\r\n\t\tthis.#args = args;\r\n\t\targs.target.innerHTML = _page_users_management_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\t\t// INIT\r\n\t\tthis.#readUsers();\r\n\t\t// EVENTS\r\n\t\tthis.#args.target.addEventListener('click', (e) => {\r\n\t\t\tif (this.#actionLock) return;\r\n\t\t\tconst btn = e.target.closest('.btn-save-user');\r\n\t\t\tif (!btn) return;\r\n\r\n\t\t\tthis.#actionLock = true;\r\n\r\n\t\t\tconst userId = parseInt(btn.dataset.userId);\r\n\t\t\tconst roleSelect = this.#args.target.querySelector(\r\n\t\t\t\t`.role-select[data-user-id=\"${userId}\"]`\r\n\t\t\t);\r\n\t\t\tconst statusSelect = this.#args.target.querySelector(\r\n\t\t\t\t`.status-select[data-user-id=\"${userId}\"]`\r\n\t\t\t);\r\n\r\n\t\t\tconst roleId = parseInt(roleSelect.value);\r\n\t\t\tconst userStatus = statusSelect.value === 'true';\r\n\r\n\t\t\tthis.#updateUserAdmin(userId, roleId, userStatus);\r\n\r\n\t\t\t// DEV\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.#actionLock = false;\r\n\t\t\t}, 300); // DEV\r\n\t\t});\r\n\t}\r\n\r\n\t//--------------------------------------------------\r\n\t// Public Methods\r\n\t//--------------------------------------------------\r\n\t#fetchAllUsers() {\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success && Array.isArray(res.users)) {\r\n\t\t\t\t\tthis.#renderUsers(res.users);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('Invalid user response', res);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tconsole.error('Failed to fetch users:', err.message || err);\r\n\t\t\t},\r\n\t\t\t'/Users/GetAllUsersAndOrders'\r\n\t\t);\r\n\t}\r\n\r\n\t#readUsers() {\r\n\t\tconst container = this.#args.target.querySelector('#targetUsersAdmin');\r\n\t\tcontainer.innerHTML = '';\r\n\r\n\t\tconst query = `/Users/GetAllUsersAndOrders?page=${\r\n\t\t\tthis.#currentPage\r\n\t\t}&pageSize=5`;\r\n\r\n\t\tthis.#args.app.apiGet(\r\n\t\t\t(res) => {\r\n\t\t\t\tif (res.success) {\r\n\t\t\t\t\tthis.#totalPages = Math.ceil(res.totalCount / res.pageSize);\r\n\t\t\t\t\tthis.#renderUsers(res.users);\r\n\r\n\t\t\t\t\tthis.#renderPagination();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontainer.innerHTML = `<p class=\"text-danger\">Failed to load users.</p>`;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tcontainer.innerHTML = `<p class=\"text-danger\">${\r\n\t\t\t\t\terr.message || err\r\n\t\t\t\t}</p>`;\r\n\t\t\t},\r\n\t\t\tquery\r\n\t\t);\r\n\t}\r\n\r\n\t#renderUsers(users) {\r\n\t\tconst container = this.#args.target.querySelector('#targetUsersAdmin');\r\n\t\tcontainer.innerHTML = '';\r\n\r\n\t\tfor (const user of users) {\r\n\t\t\tconst div = document.createElement('div');\r\n\t\t\tdiv.className = 'col-12';\r\n\t\t\tdiv.innerHTML = `\r\n\t\t\t<div class=\"card rounded-0 mb-4\">\r\n\t\t\t\t<div class=\"card-body d-flex flex-column\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-md-8\">\r\n\t\t\t\t\t\t\t<h5 class=\"card-title mb-2\">${user.firstName} ${user.lastName}</h5>\r\n\t\t\t\t\t\t\t<p class=\"mb-1\"><strong>Email:</strong> ${user.email}</p>\r\n\t\t\t\t\t\t\t<p class=\"mb-1\"><strong>Phone:</strong> ${user.phoneNumber}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-md-4 d-flex flex-column flex-md-row justify-content-md-end gap-3\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label class=\"form-label fw-bold mb-0\">Role</label>\r\n\t\t\t\t\t\t\t\t<select class=\"form-select form-select-sm role-select\" data-user-id=\"${\r\n\t\t\t\t\t\t\t\t\tuser.userId\r\n\t\t\t\t\t\t\t\t}\">\r\n\t\t\t\t\t\t\t\t\t<option value=\"1\" ${user.roleId === 1 ? 'selected' : ''}>Admin</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"2\" ${user.roleId === 2 ? 'selected' : ''}>Employee</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"3\" ${user.roleId === 3 ? 'selected' : ''}>Customer</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label class=\"form-label fw-bold mb-0\">Status</label>\r\n\t\t\t\t\t\t\t\t<select class=\"form-select form-select-sm status-select\" data-user-id=\"${\r\n\t\t\t\t\t\t\t\t\tuser.userId\r\n\t\t\t\t\t\t\t\t}\">\r\n\t\t\t\t\t\t\t\t\t<option value=\"true\" ${user.userStatus ? 'selected' : ''}>Active</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"false\" ${!user.userStatus ? 'selected' : ''}>Disabled</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h6 class=\"fw-bold mt-4\">Last 5 Orders</h6>\r\n\t\t\t\t\t<div class=\"table-responsive mb-3\">\r\n\t\t\t\t\t\t<table class=\"table table-sm table-bordered mb-0\">\r\n\t\t\t\t\t\t\t<thead class=\"table-light\">\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Order #</th>\r\n\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t\t\t\t<th class=\"text-center\">Action</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t${user.orders\r\n\t\t\t\t\t\t\t\t\t.map(\r\n\t\t\t\t\t\t\t\t\t\t(order) => `\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>#${order.orderId}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>${new Date(order.orderDate)\r\n\t\t\t\t\t\t\t\t\t\t\t.toLocaleString('en-GB', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tyear: '2-digit',\r\n\t\t\t\t\t\t\t\t\t\t\t\thour: '2-digit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tminute: '2-digit',\r\n\t\t\t\t\t\t\t\t\t\t\t\thour12: false,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/\\//g, '-')}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<td>â‚¬${order.totalPrice.toFixed(2)}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><span class=\"badge bg-secondary\">${order.status}</span></td>\r\n\t\t\t\t\t\t\t\t\t\t<td class=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#user-order-history\" class=\"btn btn-sm btn-outline-secondary\" title=\"View Order\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-eye\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t.join('')}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t<button class=\"btn btn-success btn-save-user\" data-user-id=\"${\r\n\t\t\t\t\t\t\tuser.userId\r\n\t\t\t\t\t\t}\">Save</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\r\n\t\t\tcontainer.appendChild(div);\r\n\t\t}\r\n\t}\r\n\r\n\t#renderPagination() {\r\n\t\tconst paginationContainer =\r\n\t\t\tthis.#args.target.querySelector('#pagination');\r\n\t\tpaginationContainer.innerHTML = '';\r\n\r\n\t\tconst createItem = (label, page, disabled = false, active = false) => {\r\n\t\t\tconst li = document.createElement('li');\r\n\t\t\tli.className = `page-item ${disabled ? 'disabled' : ''} ${\r\n\t\t\t\tactive ? 'active' : ''\r\n\t\t\t}`;\r\n\r\n\t\t\tconst a = document.createElement('a');\r\n\t\t\ta.className = 'page-link';\r\n\t\t\ta.href = '#';\r\n\t\t\ta.innerText = label;\r\n\r\n\t\t\ta.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (!disabled && this.#currentPage !== page) {\r\n\t\t\t\t\tthis.#currentPage = page;\r\n\t\t\t\t\tthis.#readUsers();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tli.appendChild(a);\r\n\t\t\tpaginationContainer.appendChild(li);\r\n\t\t};\r\n\r\n\t\tcreateItem('Previous', this.#currentPage - 1, this.#currentPage === 1);\r\n\r\n\t\tfor (let i = 1; i <= this.#totalPages; i++) {\r\n\t\t\tcreateItem(i, i, false, i === this.#currentPage);\r\n\t\t}\r\n\r\n\t\tcreateItem(\r\n\t\t\t'Next',\r\n\t\t\tthis.#currentPage + 1,\r\n\t\t\tthis.#currentPage === this.#totalPages\r\n\t\t);\r\n\t}\r\n\r\n\t#updateUserAdmin(userId, roleId, userStatus) {\r\n\t\tthis.#args.app.apiNewSomethingPOST(\r\n\t\t\t(res) => {\r\n\t\t\t\talert(res.message || 'User updated.');\r\n\t\t\t\tthis.#fetchAllUsers();\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\talert(err.message || 'Update failed.');\r\n\t\t\t},\r\n\t\t\t'Users/UpdateUserAdmin',\r\n\t\t\t{ userId, roleId, userStatus }\r\n\t\t);\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://dreamplants.webservice/./src/page-users-management.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"app": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkdreamplants_webservice"] = self["webpackChunkdreamplants_webservice"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./src/index.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;